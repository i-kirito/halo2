import{a2 as ui,ai as ve,O as It,f as Me,G as at,aD as Da,_ as z,q as J,S as Ie,aE as kr,X as De,af as zr,R as Le,n as be,Z as Ee,g as k,aF as $o,p as Re,aw as Br,l as Y,az as Wo,h as U,d as ye,aG as Mt,b as ue,B as ct,aH as Uo,a as Rt,c as Zo,V as cr,aI as vi,av as Qa,U as Xo,N as Yo,j as ft,K as Ja,aJ as Gr,aK as qo,aL as jo,as as Ko,aj as hi,aM as ci,aN as Qo,aO as Lt,i as fr,a5 as qe,ad as pr,a7 as Jo,aP as el,a6 as bt,aQ as Or,aR as tl,aS as Se,aT as er,ab as al,ah as fi,aU as rl,m as la,aV as nl,aA as il,o as ol,aW as ll,ag as sl,aX as Fr,aY as ul,aZ as vl,ax as Hr,a_ as hl,$ as cl,ap as Ge}from"./graphic-083f2b2f.js";import{c as He,p as sa}from"./createSeriesData-4848ff50.js";import{b3 as tr,N as pt,b4 as Tt,I as ae,b as Ve,ad as ne,i as qt,b5 as rt,Z as oe,C as wt,S as Ke,b6 as $r,b7 as ge,f as le,b8 as se,b9 as Wr,ae as ee,ba as jt,bb as Te,bc as we,bd as fl,be as pi,a3 as K,K as gi,bf as ua,bg as di,bh as va,bi as ke,bj as Kt,bk as yi,aJ as pl,bl as mi,bm as Si,s as Ce,h as gt,bn as O,aI as ot,bo as gr,bp as gl,bq as dr,br as Vt,bs as bi,aK as ha,P as yr,bt as ca,bu as wi,bv as dl,bw as Pe,G as Di,bx as kt,by as yl,F as ml,bz as Qt,bA as Jt,bB as fa,M as lt,bC as Sl,aT as Ur,bD as bl,bE as wl,a as Be,bF as Dl,bG as pa,bH as _i,bI as Zr,bJ as Ft,bK as Xr,j as Yr,b1 as xi,bL as _l,L as qr,bM as jr,bN as xl,u as Al,bO as Ai,bP as Ii,bQ as ar,b2 as rr,a$ as Il,k as Ll,w as _a,bR as Tl,bS as Li,bT as xa,bU as Ti,q as Cl,aZ as Pl,bV as Ci,bW as Kr,bX as Nl,bY as El,$ as Ml,X as Rl}from"./Axis-b5ea7d9c.js";import{S as ga,a as da,g as Pi,b as Ct,i as ya,s as Vl,c as kl,d as zl,M as Bl,e as Gl,f as Ol,R as mr,V as Sr,o as Ni,u as Ei,h as Mi,j as Ri,k as Vi,L as ki,l as Fl,m as zi,n as br,p as Qr,q as Hl,r as $l,t as Wl,v as Ul,w as Zl}from"./customGraphicKeyframeAnimation-15977b4b.js";ui.CMD;function Bi(r,t,e,a,n,i,o,l){var s=n-r,u=i-t,v=e-r,h=a-t,c=Math.sqrt(v*v+h*h);v/=c,h/=c;var f=s*v+u*h,g=f/c;l&&(g=Math.min(Math.max(g,0),1)),g*=c;var p=o[0]=r+g*v,d=o[1]=t+g*h;return Math.sqrt((p-n)*(p-n)+(d-i)*(d-i))}var Ze=new ve,re=new ve,fe=new ve,Xe=new ve,Ne=new ve,ea=[],de=new ve;function Xl(r,t){if(t<=180&&t>0){t=t/180*Math.PI,Ze.fromArray(r[0]),re.fromArray(r[1]),fe.fromArray(r[2]),ve.sub(Xe,Ze,re),ve.sub(Ne,fe,re);var e=Xe.len(),a=Ne.len();if(!(e<.001||a<.001)){Xe.scale(1/e),Ne.scale(1/a);var n=Xe.dot(Ne),i=Math.cos(t);if(i<n){var o=Bi(re.x,re.y,fe.x,fe.y,Ze.x,Ze.y,ea,!1);de.fromArray(ea),de.scaleAndAdd(Ne,o/Math.tan(Math.PI-t));var l=fe.x!==re.x?(de.x-re.x)/(fe.x-re.x):(de.y-re.y)/(fe.y-re.y);if(isNaN(l))return;l<0?ve.copy(de,re):l>1&&ve.copy(de,fe),de.toArray(r[1])}}}}function Yl(r,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Ze.fromArray(r[0]),re.fromArray(r[1]),fe.fromArray(r[2]),ve.sub(Xe,re,Ze),ve.sub(Ne,fe,re);var a=Xe.len(),n=Ne.len();if(!(a<.001||n<.001)){Xe.scale(1/a),Ne.scale(1/n);var i=Xe.dot(t),o=Math.cos(e);if(i<o){var l=Bi(re.x,re.y,fe.x,fe.y,Ze.x,Ze.y,ea,!1);de.fromArray(ea);var s=Math.PI/2,u=Math.acos(Ne.dot(t)),v=s+u-e;if(v>=s)ve.copy(de,fe);else{de.scaleAndAdd(Ne,l/Math.tan(Math.PI/2-v));var h=fe.x!==re.x?(de.x-re.x)/(fe.x-re.x):(de.y-re.y)/(fe.y-re.y);if(isNaN(h))return;h<0?ve.copy(de,re):h>1&&ve.copy(de,fe)}de.toArray(r[1])}}}}function Jr(r,t,e,a){var n=e==="normal",i=n?r:r.ensureState(e);i.ignore=t;var o=a.get("smooth");o&&o===!0&&(o=.3),i.shape=i.shape||{},o>0&&(i.shape.smooth=o);var l=a.getModel("lineStyle").getLineStyle();n?r.useStyle(l):i.style=l}function ql(r,t){var e=t.smooth,a=t.points;if(a)if(r.moveTo(a[0][0],a[0][1]),e>0&&a.length>=3){var n=at(a[0],a[1]),i=at(a[1],a[2]);if(!n||!i){r.lineTo(a[1][0],a[1][1]),r.lineTo(a[2][0],a[2][1]);return}var o=Math.min(n,i)*e,l=Da([],a[1],a[0],o/n),s=Da([],a[1],a[2],o/i),u=Da([],l,s,.5);r.bezierCurveTo(l[0],l[1],l[0],l[1],u[0],u[1]),r.bezierCurveTo(s[0],s[1],s[0],s[1],a[2][0],a[2][1])}else for(var v=1;v<a.length;v++)r.lineTo(a[v][0],a[v][1])}function Gi(r,t,e){var a=r.getTextGuideLine(),n=r.getTextContent();if(!n){a&&r.removeTextGuideLine();return}for(var i=t.normal,o=i.get("show"),l=n.ignore,s=0;s<tr.length;s++){var u=tr[s],v=t[u],h=u==="normal";if(v){var c=v.get("show"),f=h?l:It(n.states[u]&&n.states[u].ignore,l);if(f||!It(c,o)){var g=h?a:a&&a.states[u];g&&(g.ignore=!0);continue}a||(a=new pt,r.setTextGuideLine(a),!h&&(l||!o)&&Jr(a,!0,"normal",t.normal),r.stateProxy&&(a.stateProxy=r.stateProxy)),Jr(a,!1,u,v)}}if(a){Me(a.style,e),a.style.fill=null;var p=i.get("showAbove"),d=r.textGuideLineConfig=r.textGuideLineConfig||{};d.showAbove=p||!1,a.buildPath=ql}}function Oi(r,t){t=t||"labelLine";for(var e={normal:r.getModel(t)},a=0;a<Tt.length;a++){var n=Tt[a];e[n]=r.getModel([n,t])}return e}var jl=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return He(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var a=new ae,n=Ve("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);a.add(n),n.setStyle(e.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),l=i==="none"?"circle":i,s=e.itemHeight*.8,u=Ve(l,(e.itemWidth-s)/2,(e.itemHeight-s)/2,s,s,e.itemStyle.fill);a.add(u),u.setStyle(e.itemStyle);var v=e.iconRotate==="inherit"?o:e.iconRotate||0;return u.rotation=v*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),l.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),a},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(ne);const Kl=jl;function Fi(r,t,e){var a=r.getBaseAxis(),n=r.getOtherAxis(a),i=Ql(n,e),o=a.dim,l=n.dim,s=t.mapDimension(l),u=t.mapDimension(o),v=l==="x"||l==="radius"?1:0,h=J(r.dimensions,function(g){return t.mapDimension(g)}),c=!1,f=t.getCalculationInfo("stackResultDimension");return qt(t,h[0])&&(c=!0,h[0]=f),qt(t,h[1])&&(c=!0,h[1]=f),{dataDimsForPoint:h,valueStart:i,valueAxisDim:l,baseAxisDim:o,stacked:!!c,valueDim:s,baseDim:u,baseDataOffset:v,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Ql(r,t){var e=0,a=r.scale.getExtent();return t==="start"?e=a[0]:t==="end"?e=a[1]:Ie(t)&&!isNaN(t)?e=t:a[0]>0?e=a[0]:a[1]<0&&(e=a[1]),e}function Hi(r,t,e,a){var n=NaN;r.stacked&&(n=e.get(e.getCalculationInfo("stackedOverDimension"),a)),isNaN(n)&&(n=r.valueStart);var i=r.baseDataOffset,o=[];return o[i]=e.get(r.baseDim,a),o[1-i]=n,t.dataToPoint(o)}function Jl(r,t){var e=[];return t.diff(r).add(function(a){e.push({cmd:"+",idx:a})}).update(function(a,n){e.push({cmd:"=",idx:n,idx1:a})}).remove(function(a){e.push({cmd:"-",idx:a})}).execute(),e}function es(r,t,e,a,n,i,o,l){for(var s=Jl(r,t),u=[],v=[],h=[],c=[],f=[],g=[],p=[],d=Fi(n,t,o),m=r.getLayout("points")||[],y=t.getLayout("points")||[],S=0;S<s.length;S++){var b=s[S],D=!0,w=void 0,_=void 0;switch(b.cmd){case"=":w=b.idx*2,_=b.idx1*2;var x=m[w],T=m[w+1],L=y[_],A=y[_+1];(isNaN(x)||isNaN(T))&&(x=L,T=A),u.push(x,T),v.push(L,A),h.push(e[w],e[w+1]),c.push(a[_],a[_+1]),p.push(t.getRawIndex(b.idx1));break;case"+":var I=b.idx,N=d.dataDimsForPoint,C=n.dataToPoint([t.get(N[0],I),t.get(N[1],I)]);_=I*2,u.push(C[0],C[1]),v.push(y[_],y[_+1]);var P=Hi(d,n,t,I);h.push(P[0],P[1]),c.push(a[_],a[_+1]),p.push(t.getRawIndex(I));break;case"-":D=!1}D&&(f.push(b),g.push(g.length))}g.sort(function(X,j){return p[X]-p[j]});for(var E=u.length,R=rt(E),M=rt(E),V=rt(E),G=rt(E),B=[],S=0;S<g.length;S++){var W=g[S],$=S*2,F=W*2;R[$]=u[F],R[$+1]=u[F+1],M[$]=v[F],M[$+1]=v[F+1],V[$]=h[F],V[$+1]=h[F+1],G[$]=c[F],G[$+1]=c[F+1],B[S]=f[W]}return{current:R,next:M,stackedOnCurrent:V,stackedOnNext:G,status:B}}var $e=Math.min,We=Math.max;function it(r,t){return isNaN(r)||isNaN(t)}function nr(r,t,e,a,n,i,o,l,s){for(var u,v,h,c,f,g,p=e,d=0;d<a;d++){var m=t[p*2],y=t[p*2+1];if(p>=n||p<0)break;if(it(m,y)){if(s){p+=i;continue}break}if(p===e)r[i>0?"moveTo":"lineTo"](m,y),h=m,c=y;else{var S=m-u,b=y-v;if(S*S+b*b<.5){p+=i;continue}if(o>0){for(var D=p+i,w=t[D*2],_=t[D*2+1];w===m&&_===y&&d<a;)d++,D+=i,p+=i,w=t[D*2],_=t[D*2+1],m=t[p*2],y=t[p*2+1],S=m-u,b=y-v;var x=d+1;if(s)for(;it(w,_)&&x<a;)x++,D+=i,w=t[D*2],_=t[D*2+1];var T=.5,L=0,A=0,I=void 0,N=void 0;if(x>=a||it(w,_))f=m,g=y;else{L=w-u,A=_-v;var C=m-u,P=w-m,E=y-v,R=_-y,M=void 0,V=void 0;if(l==="x"){M=Math.abs(C),V=Math.abs(P);var G=L>0?1:-1;f=m-G*M*o,g=y,I=m+G*V*o,N=y}else if(l==="y"){M=Math.abs(E),V=Math.abs(R);var B=A>0?1:-1;f=m,g=y-B*M*o,I=m,N=y+B*V*o}else M=Math.sqrt(C*C+E*E),V=Math.sqrt(P*P+R*R),T=V/(V+M),f=m-L*o*(1-T),g=y-A*o*(1-T),I=m+L*o*T,N=y+A*o*T,I=$e(I,We(w,m)),N=$e(N,We(_,y)),I=We(I,$e(w,m)),N=We(N,$e(_,y)),L=I-m,A=N-y,f=m-L*M/V,g=y-A*M/V,f=$e(f,We(u,m)),g=$e(g,We(v,y)),f=We(f,$e(u,m)),g=We(g,$e(v,y)),L=m-f,A=y-g,I=m+L*V/M,N=y+A*V/M}r.bezierCurveTo(h,c,f,g,m,y),h=I,c=N}else r.lineTo(m,y)}u=m,v=y,p+=i}return d}var $i=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),ts=function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polyline",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $i},t.prototype.buildPath=function(e,a){var n=a.points,i=0,o=n.length/2;if(a.connectNulls){for(;o>0&&it(n[o*2-2],n[o*2-1]);o--);for(;i<o&&it(n[i*2],n[i*2+1]);i++);}for(;i<o;)i+=nr(e,n,i,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},t.prototype.getPointOn=function(e,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n=this.path,i=n.data,o=ui.CMD,l,s,u=a==="x",v=[],h=0;h<i.length;){var c=i[h++],f=void 0,g=void 0,p=void 0,d=void 0,m=void 0,y=void 0,S=void 0;switch(c){case o.M:l=i[h++],s=i[h++];break;case o.L:if(f=i[h++],g=i[h++],S=u?(e-l)/(f-l):(e-s)/(g-s),S<=1&&S>=0){var b=u?(g-s)*S+s:(f-l)*S+l;return u?[e,b]:[b,e]}l=f,s=g;break;case o.C:f=i[h++],g=i[h++],p=i[h++],d=i[h++],m=i[h++],y=i[h++];var D=u?kr(l,f,p,m,e,v):kr(s,g,d,y,e,v);if(D>0)for(var w=0;w<D;w++){var _=v[w];if(_<=1&&_>=0){var b=u?zr(s,g,d,y,_):zr(l,f,p,m,_);return u?[e,b]:[b,e]}}l=m,s=y;break}}},t}(De),as=function(r){z(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}($i),Wi=function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polygon",a}return t.prototype.getDefaultShape=function(){return new as},t.prototype.buildPath=function(e,a){var n=a.points,i=a.stackedOnPoints,o=0,l=n.length/2,s=a.smoothMonotone;if(a.connectNulls){for(;l>0&&it(n[l*2-2],n[l*2-1]);l--);for(;o<l&&it(n[o*2],n[o*2+1]);o++);}for(;o<l;){var u=nr(e,n,o,l,l,1,a.smooth,s,a.connectNulls);nr(e,i,o+u-1,u,l,-1,a.stackedOnSmooth,s,a.connectNulls),o+=u+1,e.closePath()}},t}(De);function Ui(r,t,e,a,n){var i=r.getArea(),o=i.x,l=i.y,s=i.width,u=i.height,v=e.get(["lineStyle","width"])||2;o-=v/2,l-=v/2,s+=v,u+=v,o=Math.floor(o),s=Math.round(s);var h=new Le({shape:{x:o,y:l,width:s,height:u}});if(t){var c=r.getBaseAxis(),f=c.isHorizontal(),g=c.inverse;f?(g&&(h.shape.x+=s),h.shape.width=0):(g||(h.shape.y+=u),h.shape.height=0);var p=be(n)?function(d){n(d,h)}:null;oe(h,{shape:{width:s,height:u,x:o,y:l}},e,null,a,p)}return h}function Zi(r,t,e){var a=r.getArea(),n=wt(a.r0,1),i=wt(a.r,1),o=new Ke({shape:{cx:wt(r.cx,1),cy:wt(r.cy,1),r0:n,r:i,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(t){var l=r.getBaseAxis().dim==="angle";l?o.shape.endAngle=a.startAngle:o.shape.r=n,oe(o,{shape:{endAngle:a.endAngle,r:i}},e)}return o}function ma(r,t,e,a,n){if(r){if(r.type==="polar")return Zi(r,t,e);if(r.type==="cartesian2d")return Ui(r,t,e,a,n)}else return null;return null}function en(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function tn(r){for(var t=1/0,e=1/0,a=-1/0,n=-1/0,i=0;i<r.length;){var o=r[i++],l=r[i++];isNaN(o)||(t=Math.min(o,t),a=Math.max(o,a)),isNaN(l)||(e=Math.min(l,e),n=Math.max(l,n))}return[[t,e],[a,n]]}function an(r,t){var e=tn(r),a=e[0],n=e[1],i=tn(t),o=i[0],l=i[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(n[0]-l[0]),Math.abs(n[1]-l[1]))}function rn(r){return Ie(r)?r:r?.5:0}function rs(r,t,e){if(!e.valueDim)return[];for(var a=t.count(),n=rt(a*2),i=0;i<a;i++){var o=Hi(e,r,t,i);n[i*2]=o[0],n[i*2+1]=o[1]}return n}function Ue(r,t,e,a){var n=t.getBaseAxis(),i=n.dim==="x"||n.dim==="radius"?0:1,o=[],l=0,s=[],u=[],v=[],h=[];if(a){for(l=0;l<r.length;l+=2)!isNaN(r[l])&&!isNaN(r[l+1])&&h.push(r[l],r[l+1]);r=h}for(l=0;l<r.length-2;l+=2)switch(v[0]=r[l+2],v[1]=r[l+3],u[0]=r[l],u[1]=r[l+1],o.push(u[0],u[1]),e){case"end":s[i]=v[i],s[1-i]=u[1-i],o.push(s[0],s[1]);break;case"middle":var c=(u[i]+v[i])/2,f=[];s[i]=f[i]=c,s[1-i]=u[1-i],f[1-i]=v[1-i],o.push(s[0],s[1]),o.push(f[0],f[1]);break;default:s[i]=u[i],s[1-i]=v[1-i],o.push(s[0],s[1])}return o.push(r[l++],r[l++]),o}function ns(r,t){var e=[],a=r.length,n,i;function o(v,h,c){var f=v.coord,g=(c-f)/(h.coord-f),p=$o(g,[v.color,h.color]);return{coord:c,color:p}}for(var l=0;l<a;l++){var s=r[l],u=s.coord;if(u<0)n=s;else if(u>t){i?e.push(o(i,s,t)):n&&e.push(o(n,s,0),o(n,s,t));break}else n&&(e.push(o(n,s,0)),n=null),e.push(s),i=s}return e}function is(r,t,e){var a=r.getVisual("visualMeta");if(!(!a||!a.length||!r.count())&&t.type==="cartesian2d"){for(var n,i,o=a.length-1;o>=0;o--){var l=r.getDimensionInfo(a[o].dimension);if(n=l&&l.coordDim,n==="x"||n==="y"){i=a[o];break}}if(i){var s=t.getAxis(n),u=J(i.stops,function(S){return{coord:s.toGlobalCoord(s.dataToCoord(S.value)),color:S.color}}),v=u.length,h=i.outerColors.slice();v&&u[0].coord>u[v-1].coord&&(u.reverse(),h.reverse());var c=ns(u,n==="x"?e.getWidth():e.getHeight()),f=c.length;if(!f&&v)return u[0].coord<0?h[1]?h[1]:u[v-1].color:h[0]?h[0]:u[0].color;var g=10,p=c[0].coord-g,d=c[f-1].coord+g,m=d-p;if(m<.001)return"transparent";k(c,function(S){S.offset=(S.coord-p)/m}),c.push({offset:f?c[f-1].offset:.5,color:h[1]||"transparent"}),c.unshift({offset:f?c[0].offset:.5,color:h[0]||"transparent"});var y=new gi(0,0,0,0,c,!0);return y[n]=p,y[n+"2"]=d,y}}}function os(r,t,e){var a=r.get("showAllSymbol"),n=a==="auto";if(!(a&&!n)){var i=e.getAxesByScale("ordinal")[0];if(i&&!(n&&ls(i,t))){var o=t.mapDimension(i.dim),l={};return k(i.getViewLabels(),function(s){var u=i.scale.getRawOrdinalNumber(s.tickValue);l[u]=1}),function(s){return!l.hasOwnProperty(t.get(o,s))}}}}function ls(r,t){var e=r.getExtent(),a=Math.abs(e[1]-e[0])/r.scale.count();isNaN(a)&&(a=0);for(var n=t.count(),i=Math.max(1,Math.round(n/5)),o=0;o<n;o+=i)if(da.getSymbolSize(t,o)[r.isHorizontal()?1:0]*1.5>a)return!1;return!0}function ss(r,t){return isNaN(r)||isNaN(t)}function us(r){for(var t=r.length/2;t>0&&ss(r[t*2-2],r[t*2-1]);t--);return t-1}function nn(r,t){return[r[t*2],r[t*2+1]]}function vs(r,t,e){for(var a=r.length/2,n=e==="x"?0:1,i,o,l=0,s=-1,u=0;u<a;u++)if(o=r[u*2+n],!(isNaN(o)||isNaN(r[u*2+1-n]))){if(u===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){s=u;break}l=u,i=o}return{range:[l,s],t:(t-i)/(o-i)}}function Xi(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<Tt.length;t++)if(r.get([Tt[t],"endLabel","show"]))return!0;return!1}function Aa(r,t,e,a){if(ya(t,"cartesian2d")){var n=a.getModel("endLabel"),i=n.get("valueAnimation"),o=a.getData(),l={lastFrameIndex:0},s=Xi(a)?function(f,g){r._endLabelOnDuring(f,g,o,l,i,n,t)}:null,u=t.getBaseAxis().isHorizontal(),v=Ui(t,e,a,function(){var f=r._endLabel;f&&e&&l.originalX!=null&&f.attr({x:l.originalX,y:l.originalY})},s);if(!a.get("clip",!0)){var h=v.shape,c=Math.max(h.width,h.height);u?(h.y-=c,h.height+=c*2):(h.x-=c,h.width+=c*2)}return s&&s(1,v),v}else return Zi(t,e,a)}function hs(r,t){var e=t.getBaseAxis(),a=e.isHorizontal(),n=e.inverse,i=a?n?"right":"left":"center",o=a?"middle":n?"top":"bottom";return{normal:{align:r.get("align")||i,verticalAlign:r.get("verticalAlign")||o}}}var cs=function(r){z(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new ae,a=new ga;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=e},t.prototype.render=function(e,a,n){var i=this,o=e.coordinateSystem,l=this.group,s=e.getData(),u=e.getModel("lineStyle"),v=e.getModel("areaStyle"),h=s.getLayout("points")||[],c=o.type==="polar",f=this._coordSys,g=this._symbolDraw,p=this._polyline,d=this._polygon,m=this._lineGroup,y=!a.ssr&&e.isAnimationEnabled(),S=!v.isEmpty(),b=v.get("origin"),D=Fi(o,s,b),w=S&&rs(o,s,D),_=e.get("showSymbol"),x=e.get("connectNulls"),T=_&&!c&&os(e,s,o),L=this._data;L&&L.eachItemGraphicEl(function(j,Z){j.__temp&&(l.remove(j),L.setItemGraphicEl(Z,null))}),_||g.remove(),l.add(m);var A=c?!1:e.get("step"),I;o&&o.getArea&&e.get("clip",!0)&&(I=o.getArea(),I.width!=null?(I.x-=.1,I.y-=.1,I.width+=.2,I.height+=.2):I.r0&&(I.r0-=.5,I.r+=.5)),this._clipShapeForSymbol=I;var N=is(s,o,n)||s.getVisual("style")[s.getVisual("drawType")];if(!(p&&f.type===o.type&&A===this._step))_&&g.updateData(s,{isIgnore:T,clipShape:I,disableAnimation:!0,getSymbolPoint:function(j){return[h[j*2],h[j*2+1]]}}),y&&this._initSymbolLabelAnimation(s,o,I),A&&(h=Ue(h,o,A,x),w&&(w=Ue(w,o,A,x))),p=this._newPolyline(h),S?d=this._newPolygon(h,w):d&&(m.remove(d),d=this._polygon=null),c||this._initOrUpdateEndLabel(e,o,$r(N)),m.setClipPath(Aa(this,o,!0,e));else{S&&!d?d=this._newPolygon(h,w):d&&!S&&(m.remove(d),d=this._polygon=null),c||this._initOrUpdateEndLabel(e,o,$r(N));var C=m.getClipPath();if(C){var P=Aa(this,o,!1,e);oe(C,{shape:P.shape},e)}else m.setClipPath(Aa(this,o,!0,e));_&&g.updateData(s,{isIgnore:T,clipShape:I,disableAnimation:!0,getSymbolPoint:function(j){return[h[j*2],h[j*2+1]]}}),(!en(this._stackedOnPoints,w)||!en(this._points,h))&&(y?this._doUpdateAnimation(s,w,o,n,A,b,x):(A&&(h=Ue(h,o,A,x),w&&(w=Ue(w,o,A,x))),p.setShape({points:h}),d&&d.setShape({points:h,stackedOnPoints:w})))}var E=e.getModel("emphasis"),R=E.get("focus"),M=E.get("blurScope"),V=E.get("disabled");if(p.useStyle(Me(u.getLineStyle(),{fill:"none",stroke:N,lineJoin:"bevel"})),ge(p,e,"lineStyle"),p.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var G=p.getState("emphasis").style;G.lineWidth=+p.style.lineWidth+1}le(p).seriesIndex=e.seriesIndex,se(p,R,M,V);var B=rn(e.get("smooth")),W=e.get("smoothMonotone");if(p.setShape({smooth:B,smoothMonotone:W,connectNulls:x}),d){var $=s.getCalculationInfo("stackedOnSeries"),F=0;d.useStyle(Me(v.getAreaStyle(),{fill:N,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),$&&(F=rn($.get("smooth"))),d.setShape({smooth:B,stackedOnSmooth:F,smoothMonotone:W,connectNulls:x}),ge(d,e,"areaStyle"),le(d).seriesIndex=e.seriesIndex,se(d,R,M,V)}var X=function(j){i._changePolyState(j)};s.eachItemGraphicEl(function(j){j&&(j.onHoverStateChange=X)}),this._polyline.onHoverStateChange=X,this._data=s,this._coordSys=o,this._stackedOnPoints=w,this._points=h,this._step=A,this._valueOrigin=b,e.get("triggerLineEvent")&&(this.packEventData(e,p),d&&this.packEventData(e,d))},t.prototype.packEventData=function(e,a){le(a).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,a,n,i){var o=e.getData(),l=Wr(o,i);if(this._changePolyState("emphasis"),!(l instanceof Array)&&l!=null&&l>=0){var s=o.getLayout("points"),u=o.getItemGraphicEl(l);if(!u){var v=s[l*2],h=s[l*2+1];if(isNaN(v)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(v,h))return;var c=e.get("zlevel")||0,f=e.get("z")||0;u=new da(o,l),u.x=v,u.y=h,u.setZ(c,f);var g=u.getSymbolPath().getTextContent();g&&(g.zlevel=c,g.z=f,g.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(l,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else ee.prototype.highlight.call(this,e,a,n,i)},t.prototype.downplay=function(e,a,n,i){var o=e.getData(),l=Wr(o,i);if(this._changePolyState("normal"),l!=null&&l>=0){var s=o.getItemGraphicEl(l);s&&(s.__temp?(o.setItemGraphicEl(l,null),this.group.remove(s)):s.downplay())}else ee.prototype.downplay.call(this,e,a,n,i)},t.prototype._changePolyState=function(e){var a=this._polygon;jt(this._polyline,e),a&&jt(a,e)},t.prototype._newPolyline=function(e){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new ts({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},t.prototype._newPolygon=function(e,a){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Wi({shape:{points:e,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,a,n){var i,o,l=a.getBaseAxis(),s=l.inverse;a.type==="cartesian2d"?(i=l.isHorizontal(),o=!1):a.type==="polar"&&(i=l.dim==="angle",o=!0);var u=e.hostModel,v=u.get("animationDuration");be(v)&&(v=v(null));var h=u.get("animationDelay")||0,c=be(h)?h(null):h;e.eachItemGraphicEl(function(f,g){var p=f;if(p){var d=[f.x,f.y],m=void 0,y=void 0,S=void 0;if(n)if(o){var b=n,D=a.pointToCoord(d);i?(m=b.startAngle,y=b.endAngle,S=-D[1]/180*Math.PI):(m=b.r0,y=b.r,S=D[0])}else{var w=n;i?(m=w.x,y=w.x+w.width,S=f.x):(m=w.y+w.height,y=w.y,S=f.y)}var _=y===m?0:(S-m)/(y-m);s&&(_=1-_);var x=be(h)?h(g):v*_+c,T=p.getSymbolPath(),L=T.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),L&&L.animateFrom({style:{opacity:0}},{duration:300,delay:x}),T.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,a,n){var i=e.getModel("endLabel");if(Xi(e)){var o=e.getData(),l=this._polyline,s=o.getLayout("points");if(!s){l.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Ee({z2:200}),u.ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var v=us(s);v>=0&&(Te(l,we(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:v,defaultText:function(h,c,f){return f!=null?Pi(o,f):Ct(o,h)},enableTextSetter:!0},hs(i,a)),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,a,n,i,o,l,s){var u=this._endLabel,v=this._polyline;if(u){e<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var h=n.getLayout("points"),c=n.hostModel,f=c.get("connectNulls"),g=l.get("precision"),p=l.get("distance")||0,d=s.getBaseAxis(),m=d.isHorizontal(),y=d.inverse,S=a.shape,b=y?m?S.x:S.y+S.height:m?S.x+S.width:S.y,D=(m?p:0)*(y?-1:1),w=(m?0:-p)*(y?-1:1),_=m?"x":"y",x=vs(h,b,_),T=x.range,L=T[1]-T[0],A=void 0;if(L>=1){if(L>1&&!f){var I=nn(h,T[0]);u.attr({x:I[0]+D,y:I[1]+w}),o&&(A=c.getRawValue(T[0]))}else{var I=v.getPointOn(b,_);I&&u.attr({x:I[0]+D,y:I[1]+w});var N=c.getRawValue(T[0]),C=c.getRawValue(T[1]);o&&(A=fl(n,g,N,C,x.t))}i.lastFrameIndex=T[0]}else{var P=e===1||i.lastFrameIndex>0?T[0]:0,I=nn(h,P);o&&(A=c.getRawValue(P)),u.attr({x:I[0]+D,y:I[1]+w})}o&&pi(u).setLabelText(A)}},t.prototype._doUpdateAnimation=function(e,a,n,i,o,l,s){var u=this._polyline,v=this._polygon,h=e.hostModel,c=es(this._data,e,this._stackedOnPoints,a,this._coordSys,n,this._valueOrigin),f=c.current,g=c.stackedOnCurrent,p=c.next,d=c.stackedOnNext;if(o&&(f=Ue(c.current,n,o,s),g=Ue(c.stackedOnCurrent,n,o,s),p=Ue(c.next,n,o,s),d=Ue(c.stackedOnNext,n,o,s)),an(f,p)>3e3||v&&an(g,d)>3e3){u.stopAnimation(),u.setShape({points:p}),v&&(v.stopAnimation(),v.setShape({points:p,stackedOnPoints:d}));return}u.shape.__points=c.current,u.shape.points=f;var m={shape:{points:p}};c.current!==f&&(m.shape.__points=c.next),u.stopAnimation(),K(u,m,h),v&&(v.setShape({points:f,stackedOnPoints:g}),v.stopAnimation(),K(v,{shape:{stackedOnPoints:d}},h),u.shape.points!==v.shape.points&&(v.shape.points=u.shape.points));for(var y=[],S=c.status,b=0;b<S.length;b++){var D=S[b].cmd;if(D==="="){var w=e.getItemGraphicEl(S[b].idx1);w&&y.push({el:w,ptIdx:b})}}u.animators&&u.animators.length&&u.animators[0].during(function(){v&&v.dirtyShape();for(var _=u.shape.__points,x=0;x<y.length;x++){var T=y[x].el,L=y[x].ptIdx*2;T.x=_[L],T.y=_[L+1],T.markRedraw()}})},t.prototype.remove=function(e){var a=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(a.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ee);const fs=cs;function zt(r,t){return{seriesType:r,plan:ua(),reset:function(e){var a=e.getData(),n=e.coordinateSystem,i=e.pipelineContext,o=t||i.large;if(n){var l=J(n.dimensions,function(f){return a.mapDimension(f)}).slice(0,2),s=l.length,u=a.getCalculationInfo("stackResultDimension");qt(a,l[0])&&(l[0]=u),qt(a,l[1])&&(l[1]=u);var v=a.getStore(),h=a.getDimensionIndex(l[0]),c=a.getDimensionIndex(l[1]);return s&&{progress:function(f,g){for(var p=f.end-f.start,d=o&&rt(p*s),m=[],y=[],S=f.start,b=0;S<f.end;S++){var D=void 0;if(s===1){var w=v.get(h,S);D=n.dataToPoint(w,null,y)}else m[0]=v.get(h,S),m[1]=v.get(c,S),D=n.dataToPoint(m,null,y);o?(d[b++]=D[0],d[b++]=D[1]):g.setItemLayout(S,D.slice())}o&&g.setLayout("points",d)}}}}}}var ps={average:function(r){for(var t=0,e=0,a=0;a<r.length;a++)isNaN(r[a])||(t+=r[a],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},gs=function(r){return Math.round(r.length/2)};function Yi(r){return{seriesType:r,reset:function(t,e,a){var n=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,l=n.count();if(l>10&&o.type==="cartesian2d"&&i){var s=o.getBaseAxis(),u=o.getOtherAxis(s),v=s.getExtent(),h=a.getDevicePixelRatio(),c=Math.abs(v[1]-v[0])*(h||1),f=Math.round(l/c);if(isFinite(f)&&f>1){i==="lttb"&&t.setData(n.lttbDownSample(n.mapDimension(u.dim),1/f));var g=void 0;Re(i)?g=ps[i]:be(i)&&(g=i),g&&t.setData(n.downSample(n.mapDimension(u.dim),1/f,g,gs))}}}}}function hp(r){r.registerChartView(fs),r.registerSeriesModel(Kl),r.registerLayout(zt("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),a=t.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",a)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Yi("line"))}var qi=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){return He(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,a,n){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(e),l=i.dataToPoint(o);if(n)k(i.getAxes(),function(c,f){if(c.type==="category"&&a!=null){var g=c.getTicksCoords(),p=o[f],d=a[f]==="x1"||a[f]==="y1";if(d&&(p+=1),g.length<2)return;if(g.length===2){l[f]=c.toGlobalCoord(c.getExtent()[d?1:0]);return}for(var m=void 0,y=void 0,S=1,b=0;b<g.length;b++){var D=g[b].coord,w=b===g.length-1?g[b-1].tickValue+S:g[b].tickValue;if(w===p){y=D;break}else if(w<p)m=D;else if(m!=null&&w>p){y=(D+m)/2;break}b===1&&(S=w-g[0].tickValue)}y==null&&(m?m&&(y=g[g.length-1].coord):y=g[0].coord),l[f]=c.toGlobalCoord(y)}});else{var s=this.getData(),u=s.getLayout("offset"),v=s.getLayout("size"),h=i.getBaseAxis().isHorizontal()?0:1;l[h]+=u+v/2}return l}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(ne);ne.registerClass(qi);const ta=qi;var ds=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return He(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>e&&(e=a),e},t.prototype.brushSelector=function(e,a,n){return n.rect(a.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=di(ta.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(ta);const ys=ds;var ms=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),Ss=function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="sausage",a}return t.prototype.getDefaultShape=function(){return new ms},t.prototype.buildPath=function(e,a){var n=a.cx,i=a.cy,o=Math.max(a.r0||0,0),l=Math.max(a.r,0),s=(l-o)*.5,u=o+s,v=a.startAngle,h=a.endAngle,c=a.clockwise,f=Math.PI*2,g=c?h-v<f:v-h<f;g||(v=h-(c?f:-f));var p=Math.cos(v),d=Math.sin(v),m=Math.cos(h),y=Math.sin(h);g?(e.moveTo(p*o+n,d*o+i),e.arc(p*u+n,d*u+i,s,-Math.PI+v,v,!c)):e.moveTo(p*l+n,d*l+i),e.arc(n,i,l,v,h,!c),e.arc(m*u+n,y*u+i,s,h-Math.PI*2,h-Math.PI,!c),o!==0&&e.arc(n,i,o,h,v,c)},t}(De);const aa=Ss;function bs(r,t){t=t||{};var e=t.isRoundCap;return function(a,n,i){var o=n.position;if(!o||o instanceof Array)return Br(a,n,i);var l=r(o),s=n.distance!=null?n.distance:5,u=this.shape,v=u.cx,h=u.cy,c=u.r,f=u.r0,g=(c+f)/2,p=u.startAngle,d=u.endAngle,m=(p+d)/2,y=e?Math.abs(c-f)/2:0,S=Math.cos,b=Math.sin,D=v+c*S(p),w=h+c*b(p),_="left",x="top";switch(l){case"startArc":D=v+(f-s)*S(m),w=h+(f-s)*b(m),_="center",x="top";break;case"insideStartArc":D=v+(f+s)*S(m),w=h+(f+s)*b(m),_="center",x="bottom";break;case"startAngle":D=v+g*S(p)+Ht(p,s+y,!1),w=h+g*b(p)+$t(p,s+y,!1),_="right",x="middle";break;case"insideStartAngle":D=v+g*S(p)+Ht(p,-s+y,!1),w=h+g*b(p)+$t(p,-s+y,!1),_="left",x="middle";break;case"middle":D=v+g*S(m),w=h+g*b(m),_="center",x="middle";break;case"endArc":D=v+(c+s)*S(m),w=h+(c+s)*b(m),_="center",x="bottom";break;case"insideEndArc":D=v+(c-s)*S(m),w=h+(c-s)*b(m),_="center",x="top";break;case"endAngle":D=v+g*S(d)+Ht(d,s+y,!0),w=h+g*b(d)+$t(d,s+y,!0),_="left",x="middle";break;case"insideEndAngle":D=v+g*S(d)+Ht(d,-s+y,!0),w=h+g*b(d)+$t(d,-s+y,!0),_="right",x="middle";break;default:return Br(a,n,i)}return a=a||{},a.x=D,a.y=w,a.align=_,a.verticalAlign=x,a}}function ws(r,t,e,a){if(Ie(a)){r.setTextConfig({rotation:a});return}else if(Y(t)){r.setTextConfig({rotation:0});return}var n=r.shape,i=n.clockwise?n.startAngle:n.endAngle,o=n.clockwise?n.endAngle:n.startAngle,l=(i+o)/2,s,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":s=l;break;case"startAngle":case"insideStartAngle":s=i;break;case"endAngle":case"insideEndAngle":s=o;break;default:r.setTextConfig({rotation:0});return}var v=Math.PI*1.5-s;u==="middle"&&v>Math.PI/2&&v<Math.PI*1.5&&(v-=Math.PI),r.setTextConfig({rotation:v})}function Ht(r,t,e){return t*Math.sin(r)*(e?-1:1)}function $t(r,t,e){return t*Math.cos(r)*(e?1:-1)}function nt(r,t,e){var a=r.get("borderRadius");if(a==null)return e?{cornerRadius:0}:null;Y(a)||(a=[a,a,a,a]);var n=Math.abs(t.r||0-t.r0||0);return{cornerRadius:J(a,function(i){return Wo(i,n)})}}var Ia=Math.max,La=Math.min;function Ds(r,t){var e=r.getArea&&r.getArea();if(ya(r,"cartesian2d")){var a=r.getBaseAxis();if(a.type!=="category"||!a.onBand){var n=t.getLayout("bandWidth");a.isHorizontal()?(e.x-=n,e.width+=n*2):(e.y-=n,e.height+=n*2)}}return e}var _s=function(r){z(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,a,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,a,n):this._renderNormal(e,a,n,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,a){this._progressiveEls=[],this._incrementalRenderLarge(e,a)},t.prototype.eachRendered=function(e){va(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var a=e.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(e,a,n,i){var o=this.group,l=e.getData(),s=this._data,u=e.coordinateSystem,v=u.getBaseAxis(),h;u.type==="cartesian2d"?h=v.isHorizontal():u.type==="polar"&&(h=v.dim==="angle");var c=e.isAnimationEnabled()?e:null,f=xs(e,u);f&&this._enableRealtimeSort(f,l,n);var g=e.get("clip",!0)||f,p=Ds(u,l);o.removeClipPath();var d=e.get("roundCap",!0),m=e.get("showBackground",!0),y=e.getModel("backgroundStyle"),S=y.get("borderRadius")||0,b=[],D=this._backgroundEls,w=i&&i.isInitSort,_=i&&i.type==="changeAxisOrder";function x(A){var I=Wt[u.type](l,A),N=Ns(u,h,I);return N.useStyle(y.getItemStyle()),u.type==="cartesian2d"?N.setShape("r",S):N.setShape("cornerRadius",S),b[A]=N,N}l.diff(s).add(function(A){var I=l.getItemModel(A),N=Wt[u.type](l,A,I);if(m&&x(A),!(!l.hasValue(A)||!vn[u.type](N))){var C=!1;g&&(C=on[u.type](p,N));var P=ln[u.type](e,l,A,N,h,c,v.model,!1,d);f&&(P.forceLabelAnimation=!0),hn(P,l,A,I,N,e,h,u.type==="polar"),w?P.attr({shape:N}):f?sn(f,c,P,N,A,h,!1,!1):oe(P,{shape:N},e,A),l.setItemGraphicEl(A,P),o.add(P),P.ignore=C}}).update(function(A,I){var N=l.getItemModel(A),C=Wt[u.type](l,A,N);if(m){var P=void 0;D.length===0?P=x(I):(P=D[I],P.useStyle(y.getItemStyle()),u.type==="cartesian2d"?P.setShape("r",S):P.setShape("cornerRadius",S),b[A]=P);var E=Wt[u.type](l,A),R=Ki(h,E,u);K(P,{shape:R},c,A)}var M=s.getItemGraphicEl(I);if(!l.hasValue(A)||!vn[u.type](C)){o.remove(M);return}var V=!1;if(g&&(V=on[u.type](p,C),V&&o.remove(M)),M?ke(M):M=ln[u.type](e,l,A,C,h,c,v.model,!!M,d),f&&(M.forceLabelAnimation=!0),_){var G=M.getTextContent();if(G){var B=pi(G);B.prevValue!=null&&(B.prevValue=B.value)}}else hn(M,l,A,N,C,e,h,u.type==="polar");w?M.attr({shape:C}):f?sn(f,c,M,C,A,h,!0,_):K(M,{shape:C},e,A,null),l.setItemGraphicEl(A,M),M.ignore=V,o.add(M)}).remove(function(A){var I=s.getItemGraphicEl(A);I&&Kt(I,e,A)}).execute();var T=this._backgroundGroup||(this._backgroundGroup=new ae);T.removeAll();for(var L=0;L<b.length;++L)T.add(b[L]);o.add(T),this._backgroundEls=b,this._data=l},t.prototype._renderLarge=function(e,a,n){this._clear(),fn(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,a){this._removeBackground(),fn(a,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var a=e.get("clip",!0)&&ma(e.coordinateSystem,!1,e),n=this.group;a?n.setClipPath(a):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,a,n){var i=this;if(a.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,e,n),this._isFirstFrame=!1;else{var l=function(s){var u=a.getItemGraphicEl(s),v=u&&u.shape;return v&&Math.abs(o.isHorizontal()?v.height:v.width)||0};this._onRendered=function(){i._updateSortWithinSameData(a,l,o,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,a,n){var i=[];return e.each(e.mapDimension(a.dim),function(o,l){var s=n(l);s=s??NaN,i.push({dataIndex:l,mappedValue:s,ordinalNumber:o})}),i.sort(function(o,l){return l.mappedValue-o.mappedValue}),{ordinalNumbers:J(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,a,n){for(var i=n.scale,o=e.mapDimension(n.dim),l=Number.MAX_VALUE,s=0,u=i.getOrdinalMeta().categories.length;s<u;++s){var v=e.rawIndexOf(o,i.getRawOrdinalNumber(s)),h=v<0?Number.MIN_VALUE:a(e.indexOfRawIndex(v));if(h>l)return!0;l=h}return!1},t.prototype._isOrderDifferentInView=function(e,a){for(var n=a.scale,i=n.getExtent(),o=Math.max(0,i[0]),l=Math.min(i[1],n.getOrdinalMeta().categories.length-1);o<=l;++o)if(e.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,a,n,i){if(this._isOrderChangedWithinSameData(e,a,n)){var o=this._dataSort(e,n,a);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,a,n){var i=a.baseAxis,o=this._dataSort(e,i,function(l){return e.get(e.mapDimension(a.otherAxis.dim),l)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(e,a){this._clear(this._model),this._removeOnRenderedListener(a)},t.prototype.dispose=function(e,a){this._removeOnRenderedListener(a)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var a=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){Kt(i,e,le(i).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ee),on={cartesian2d:function(r,t){var e=t.width<0?-1:1,a=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var n=r.x+r.width,i=r.y+r.height,o=Ia(t.x,r.x),l=La(t.x+t.width,n),s=Ia(t.y,r.y),u=La(t.y+t.height,i),v=l<o,h=u<s;return t.x=v&&o>n?l:o,t.y=h&&s>i?u:s,t.width=v?0:l-o,t.height=h?0:u-s,e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),v||h},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}var n=La(t.r,r.r),i=Ia(t.r0,r.r0);t.r=n,t.r0=i;var o=n-i<0;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}return o}},ln={cartesian2d:function(r,t,e,a,n,i,o,l,s){var u=new Le({shape:U({},a),z2:1});if(u.__dataIndex=e,u.name="item",i){var v=u.shape,h=n?"height":"width";v[h]=0}return u},polar:function(r,t,e,a,n,i,o,l,s){var u=!n&&s?aa:Ke,v=new u({shape:a,z2:1});v.name="item";var h=ji(n);if(v.calculateTextPosition=bs(h,{isRoundCap:u===aa}),i){var c=v.shape,f=n?"r":"endAngle",g={};c[f]=n?a.r0:a.startAngle,g[f]=a[f],(l?K:oe)(v,{shape:g},i)}return v}};function xs(r,t){var e=r.get("realtimeSort",!0),a=t.getBaseAxis();if(e&&a.type==="category"&&t.type==="cartesian2d")return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}function sn(r,t,e,a,n,i,o,l){var s,u;i?(u={x:a.x,width:a.width},s={y:a.y,height:a.height}):(u={y:a.y,height:a.height},s={x:a.x,width:a.width}),l||(o?K:oe)(e,{shape:s},t,n,null);var v=t?r.baseAxis.model:null;(o?K:oe)(e,{shape:u},v,n)}function un(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var As=["x","y","width","height"],Is=["cx","cy","r","startAngle","endAngle"],vn={cartesian2d:function(r){return!un(r,As)},polar:function(r){return!un(r,Is)}},Wt={cartesian2d:function(r,t,e){var a=r.getItemLayout(t),n=e?Ts(e,a):0,i=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+i*n/2,y:a.y+o*n/2,width:a.width-i*n,height:a.height-o*n}},polar:function(r,t,e){var a=r.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function Ls(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function ji(r){return function(t){var e=t?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+e;default:return a}}}(r)}function hn(r,t,e,a,n,i,o,l){var s=t.getItemVisual(e,"style");if(l){if(!i.get("roundCap")){var v=r.shape,h=nt(a.getModel("itemStyle"),v,!0);U(v,h),r.setShape(v)}}else{var u=a.get(["itemStyle","borderRadius"])||0;r.setShape("r",u)}r.useStyle(s);var c=a.getShallow("cursor");c&&r.attr("cursor",c);var f=l?o?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":o?n.height>=0?"bottom":"top":n.width>=0?"right":"left",g=we(a);Te(r,g,{labelFetcher:i,labelDataIndex:e,defaultText:Ct(i.getData(),e),inheritColor:s.fill,defaultOpacity:s.opacity,defaultOutsidePosition:f});var p=r.getTextContent();if(l&&p){var d=a.get(["label","position"]);r.textConfig.inside=d==="middle"?!0:null,ws(r,d==="outside"?f:d,ji(o),a.get(["label","rotate"]))}yi(p,g,i.getRawValue(e),function(y){return Pi(t,y)});var m=a.getModel(["emphasis"]);se(r,m.get("focus"),m.get("blurScope"),m.get("disabled")),ge(r,a),Ls(n)&&(r.style.fill="none",r.style.stroke="none",k(r.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function Ts(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var a=r.get(["itemStyle","borderWidth"])||0,n=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,n,i)}var Cs=function(){function r(){}return r}(),cn=function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="largeBar",a}return t.prototype.getDefaultShape=function(){return new Cs},t.prototype.buildPath=function(e,a){for(var n=a.points,i=this.baseDimIdx,o=1-this.baseDimIdx,l=[],s=[],u=this.barWidth,v=0;v<n.length;v+=3)s[i]=u,s[o]=n[v+2],l[i]=n[v+i],l[o]=n[v+o],e.rect(l[0],l[1],s[0],s[1])},t}(De);function fn(r,t,e,a){var n=r.getData(),i=n.getLayout("valueAxisHorizontal")?1:0,o=n.getLayout("largeDataIndices"),l=n.getLayout("size"),s=r.getModel("backgroundStyle"),u=n.getLayout("largeBackgroundPoints");if(u){var v=new cn({shape:{points:u},incremental:!!a,silent:!0,z2:0});v.baseDimIdx=i,v.largeDataIndices=o,v.barWidth=l,v.useStyle(s.getItemStyle()),t.add(v),e&&e.push(v)}var h=new cn({shape:{points:n.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=i,h.largeDataIndices=o,h.barWidth=l,t.add(h),h.useStyle(n.getVisual("style")),le(h).seriesIndex=r.seriesIndex,r.get("silent")||(h.on("mousedown",pn),h.on("mousemove",pn)),e&&e.push(h)}var pn=pl(function(r){var t=this,e=Ps(t,r.offsetX,r.offsetY);le(t).dataIndex=e>=0?e:null},30,!1);function Ps(r,t,e){for(var a=r.baseDimIdx,n=1-a,i=r.shape.points,o=r.largeDataIndices,l=[],s=[],u=r.barWidth,v=0,h=i.length/3;v<h;v++){var c=v*3;if(s[a]=u,s[n]=i[c+2],l[a]=i[c+a],l[n]=i[c+n],s[n]<0&&(l[n]+=s[n],s[n]=-s[n]),t>=l[0]&&t<=l[0]+s[0]&&e>=l[1]&&e<=l[1]+s[1])return o[v]}return-1}function Ki(r,t,e){if(ya(e,"cartesian2d")){var a=t,n=e.getArea();return{x:r?a.x:n.x,y:r?n.y:a.y,width:r?a.width:n.width,height:r?n.height:a.height}}else{var n=e.getArea(),i=t;return{cx:n.cx,cy:n.cy,r0:r?n.r0:i.r0,r:r?n.r:i.r,startAngle:r?i.startAngle:0,endAngle:r?i.endAngle:Math.PI*2}}}function Ns(r,t,e){var a=r.type==="polar"?Ke:Le;return new a({shape:Ki(t,e,r),silent:!0,z2:0})}const Es=_s;function cp(r){r.registerChartView(Es),r.registerSeriesModel(ys),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,ye(mi,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Si("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Yi("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var a=t.componentType||"series";e.eachComponent({mainType:a,query:t},function(n){t.sortInfo&&n.axis.setCategorySortInfo(t.sortInfo)})})}var Ut=Math.PI*2,gn=Math.PI/180;function Qi(r,t){return gt(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Ji(r,t){var e=Qi(r,t),a=r.get("center"),n=r.get("radius");Y(n)||(n=[0,n]);var i=O(e.width,t.getWidth()),o=O(e.height,t.getHeight()),l=Math.min(i,o),s=O(n[0],l/2),u=O(n[1],l/2),v,h,c=r.coordinateSystem;if(c){var f=c.dataToPoint(a);v=f[0]||0,h=f[1]||0}else Y(a)||(a=[a,a]),v=O(a[0],i)+e.x,h=O(a[1],o)+e.y;return{cx:v,cy:h,r0:s,r:u}}function Ms(r,t,e){t.eachSeriesByType(r,function(a){var n=a.getData(),i=n.mapDimension("value"),o=Qi(a,e),l=Ji(a,e),s=l.cx,u=l.cy,v=l.r,h=l.r0,c=-a.get("startAngle")*gn,f=a.get("minAngle")*gn,g=0;n.each(i,function(L){!isNaN(L)&&g++});var p=n.getSum(i),d=Math.PI/(p||g)*2,m=a.get("clockwise"),y=a.get("roseType"),S=a.get("stillShowZeroSum"),b=n.getDataExtent(i);b[0]=0;var D=Ut,w=0,_=c,x=m?1:-1;if(n.setLayout({viewRect:o,r:v}),n.each(i,function(L,A){var I;if(isNaN(L)){n.setItemLayout(A,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:s,cy:u,r0:h,r:y?NaN:v});return}y!=="area"?I=p===0&&S?d:L*d:I=Ut/g,I<f?(I=f,D-=f):w+=L;var N=_+x*I;n.setItemLayout(A,{angle:I,startAngle:_,endAngle:N,clockwise:m,cx:s,cy:u,r0:h,r:y?Ce(L,b,[h,v]):v}),_=N}),D<Ut&&g)if(D<=.001){var T=Ut/g;n.each(i,function(L,A){if(!isNaN(L)){var I=n.getItemLayout(A);I.angle=T,I.startAngle=c+x*A*T,I.endAngle=c+x*(A+1)*T}})}else d=D/w,_=c,n.each(i,function(L,A){if(!isNaN(L)){var I=n.getItemLayout(A),N=I.angle===f?f:L*d;I.startAngle=_,I.endAngle=_+x*N,_+=x*N}})})}function Bt(r){return{seriesType:r,reset:function(t,e){var a=e.findComponents({mainType:"legend"});if(!(!a||!a.length)){var n=t.getData();n.filterSelf(function(i){for(var o=n.getName(i),l=0;l<a.length;l++)if(!a[l].isSelected(o))return!1;return!0})}}}}var Rs=Math.PI/180;function dn(r,t,e,a,n,i,o,l,s,u){if(r.length<2)return;function v(p){for(var d=p.rB,m=d*d,y=0;y<p.list.length;y++){var S=p.list[y],b=Math.abs(S.label.y-e),D=a+S.len,w=D*D,_=Math.sqrt((1-Math.abs(b*b/m))*w),x=t+(_+S.len2)*n,T=x-S.label.x,L=S.targetTextWidth-T*n;eo(S,L,!0),S.label.x=x}}function h(p){for(var d={list:[],maxY:0},m={list:[],maxY:0},y=0;y<p.length;y++)if(p[y].labelAlignTo==="none"){var S=p[y],b=S.label.y>e?m:d,D=Math.abs(S.label.y-e);if(D>=b.maxY){var w=S.label.x-t-S.len2*n,_=a+S.len,x=Math.abs(w)<_?Math.sqrt(D*D/(1-w*w/_/_)):_;b.rB=x,b.maxY=D}b.list.push(S)}v(d),v(m)}for(var c=r.length,f=0;f<c;f++)if(r[f].position==="outer"&&r[f].labelAlignTo==="labelLine"){var g=r[f].label.x-u;r[f].linePoints[1][0]+=g,r[f].label.x=u}Vl(r,s,s+o)&&h(r)}function Vs(r,t,e,a,n,i,o,l){for(var s=[],u=[],v=Number.MAX_VALUE,h=-Number.MAX_VALUE,c=0;c<r.length;c++){var f=r[c].label;Ta(r[c])||(f.x<t?(v=Math.min(v,f.x),s.push(r[c])):(h=Math.max(h,f.x),u.push(r[c])))}for(var c=0;c<r.length;c++){var g=r[c];if(!Ta(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var f=g.label,p=g.linePoints,d=void 0;g.labelAlignTo==="edge"?f.x<t?d=p[2][0]-g.labelDistance-o-g.edgeDistance:d=o+n-g.edgeDistance-p[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?f.x<t?d=v-o-g.bleedMargin:d=o+n-h-g.bleedMargin:f.x<t?d=f.x-o-g.bleedMargin:d=o+n-f.x-g.bleedMargin,g.targetTextWidth=d,eo(g,d)}}dn(u,t,e,a,1,n,i,o,l,h),dn(s,t,e,a,-1,n,i,o,l,v);for(var c=0;c<r.length;c++){var g=r[c];if(!Ta(g)&&g.linePoints){var f=g.label,p=g.linePoints,m=g.labelAlignTo==="edge",y=f.style.padding,S=y?y[1]+y[3]:0,b=f.style.backgroundColor?0:S,D=g.rect.width+b,w=p[1][0]-p[2][0];m?f.x<t?p[2][0]=o+g.edgeDistance+D+g.labelDistance:p[2][0]=o+n-g.edgeDistance-D-g.labelDistance:(f.x<t?p[2][0]=f.x+g.labelDistance:p[2][0]=f.x-g.labelDistance,p[1][0]=p[2][0]+w),p[1][1]=p[2][1]=f.y}}}function eo(r,t,e){if(e===void 0&&(e=!1),r.labelStyleWidth==null){var a=r.label,n=a.style,i=r.rect,o=n.backgroundColor,l=n.padding,s=l?l[1]+l[3]:0,u=n.overflow,v=i.width+(o?0:s);if(t<v||e){var h=i.height;if(u&&u.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",t-s);var c=a.getBoundingRect();a.setStyle("width",Math.ceil(c.width)),a.setStyle("backgroundColor",o)}else{var f=t-s,g=t<v?f:e?f>r.unconstrainedWidth?null:f:null;a.setStyle("width",g)}var p=a.getBoundingRect();i.width=p.width;var d=(a.style.margin||0)+2.1;i.height=p.height+d,i.y-=(i.height-h)/2}}}function Ta(r){return r.position==="center"}function ks(r){var t=r.getData(),e=[],a,n,i=!1,o=(r.get("minShowLabelAngle")||0)*Rs,l=t.getLayout("viewRect"),s=t.getLayout("r"),u=l.width,v=l.x,h=l.y,c=l.height;function f(w){w.ignore=!0}function g(w){if(!w.ignore)return!0;for(var _ in w.states)if(w.states[_].ignore===!1)return!0;return!1}t.each(function(w){var _=t.getItemGraphicEl(w),x=_.shape,T=_.getTextContent(),L=_.getTextGuideLine(),A=t.getItemModel(w),I=A.getModel("label"),N=I.get("position")||A.get(["emphasis","label","position"]),C=I.get("distanceToLabelLine"),P=I.get("alignTo"),E=O(I.get("edgeDistance"),u),R=I.get("bleedMargin"),M=A.getModel("labelLine"),V=M.get("length");V=O(V,u);var G=M.get("length2");if(G=O(G,u),Math.abs(x.endAngle-x.startAngle)<o){k(T.states,f),T.ignore=!0,L&&(k(L.states,f),L.ignore=!0);return}if(g(T)){var B=(x.startAngle+x.endAngle)/2,W=Math.cos(B),$=Math.sin(B),F,X,j,Z;a=x.cx,n=x.cy;var H=N==="inside"||N==="inner";if(N==="center")F=x.cx,X=x.cy,Z="center";else{var Q=(H?(x.r+x.r0)/2*W:x.r*W)+a,q=(H?(x.r+x.r0)/2*$:x.r*$)+n;if(F=Q+W*3,X=q+$*3,!H){var te=Q+W*(V+s-x.r),he=q+$*(V+s-x.r),me=te+(W<0?-1:1)*G,ie=he;P==="edge"?F=W<0?v+E:v+u-E:F=me+(W<0?-C:C),X=ie,j=[[Q,q],[te,he],[me,ie]]}Z=H?"center":P==="edge"?W>0?"right":"left":W>0?"left":"right"}var ce=Math.PI,pe=0,_e=I.get("rotate");if(Ie(_e))pe=_e*(ce/180);else if(N==="center")pe=0;else if(_e==="radial"||_e===!0){var Ot=W<0?-B+ce:-B;pe=Ot}else if(_e==="tangential"&&N!=="outside"&&N!=="outer"){var ze=Math.atan2(W,$);ze<0&&(ze=ce*2+ze);var Ho=$>0;Ho&&(ze=ce+ze),pe=ze-ce}if(i=!!pe,T.x=F,T.y=X,T.rotation=pe,T.setStyle({verticalAlign:"middle"}),H){T.setStyle({align:Z});var wa=T.states.select;wa&&(wa.x+=T.x,wa.y+=T.y)}else{var yt=T.getBoundingRect().clone();yt.applyTransform(T.getComputedTransform());var Vr=(T.style.margin||0)+2.1;yt.y-=Vr/2,yt.height+=Vr,e.push({label:T,labelLine:L,position:N,len:V,len2:G,minTurnAngle:M.get("minTurnAngle"),maxSurfaceAngle:M.get("maxSurfaceAngle"),surfaceNormal:new ve(W,$),linePoints:j,textAlign:Z,labelDistance:C,labelAlignTo:P,edgeDistance:E,bleedMargin:R,rect:yt,unconstrainedWidth:yt.width,labelStyleWidth:T.style.width})}_.setTextConfig({inside:H})}}),!i&&r.get("avoidLabelOverlap")&&Vs(e,a,n,s,u,c,v,h);for(var p=0;p<e.length;p++){var d=e[p],m=d.label,y=d.labelLine,S=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:d.textAlign}),S&&(k(m.states,f),m.ignore=!0);var b=m.states.select;b&&(b.x+=m.x,b.y+=m.y)}if(y){var D=d.linePoints;S||!D?(k(y.states,f),y.ignore=!0):(Xl(D,d.minTurnAngle),Yl(D,d.surfaceNormal,d.maxSurfaceAngle),y.setShape({points:D}),m.__hostTarget.textGuideLineConfig={anchor:new ve(D[0][0],D[0][1])})}}}var zs=function(r){z(t,r);function t(e,a,n){var i=r.call(this)||this;i.z2=2;var o=new Ee;return i.setTextContent(o),i.updateData(e,a,n,!0),i}return t.prototype.updateData=function(e,a,n,i){var o=this,l=e.hostModel,s=e.getItemModel(a),u=s.getModel("emphasis"),v=e.getItemLayout(a),h=U(nt(s.getModel("itemStyle"),v,!0),v);if(isNaN(h.startAngle)){o.setShape(h);return}if(i){o.setShape(h);var c=l.getShallow("animationType");l.ecModel.ssr?(oe(o,{scaleX:0,scaleY:0},l,{dataIndex:a,isFrom:!0}),o.originX=h.cx,o.originY=h.cy):c==="scale"?(o.shape.r=v.r0,oe(o,{shape:{r:v.r}},l,a)):n!=null?(o.setShape({startAngle:n,endAngle:n}),oe(o,{shape:{startAngle:v.startAngle,endAngle:v.endAngle}},l,a)):(o.shape.endAngle=v.startAngle,K(o,{shape:{endAngle:v.endAngle}},l,a))}else ke(o),K(o,{shape:h},l,a);o.useStyle(e.getItemVisual(a,"style")),ge(o,s);var f=(v.startAngle+v.endAngle)/2,g=l.get("selectedOffset"),p=Math.cos(f)*g,d=Math.sin(f)*g,m=s.getShallow("cursor");m&&o.attr("cursor",m),this._updateLabel(l,e,a),o.ensureState("emphasis").shape=U({r:v.r+(u.get("scale")&&u.get("scaleSize")||0)},nt(u.getModel("itemStyle"),v)),U(o.ensureState("select"),{x:p,y:d,shape:nt(s.getModel(["select","itemStyle"]),v)}),U(o.ensureState("blur"),{shape:nt(s.getModel(["blur","itemStyle"]),v)});var y=o.getTextGuideLine(),S=o.getTextContent();y&&U(y.ensureState("select"),{x:p,y:d}),U(S.ensureState("select"),{x:p,y:d}),se(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,a,n){var i=this,o=a.getItemModel(n),l=o.getModel("labelLine"),s=a.getItemVisual(n,"style"),u=s&&s.fill,v=s&&s.opacity;Te(i,we(o),{labelFetcher:a.hostModel,labelDataIndex:n,inheritColor:u,defaultOpacity:v,defaultText:e.getFormattedLabel(n,"normal")||a.getName(n)});var h=i.getTextContent();i.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var c=e.get(["label","position"]);if(c!=="outside"&&c!=="outer")i.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new pt,this.setTextGuideLine(f)),Gi(this,Oi(o),{stroke:u,opacity:Mt(l.get(["lineStyle","opacity"]),v,1)})}},t}(Ke),Bs=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,a,n,i){var o=e.getData(),l=this._data,s=this.group,u;if(!l&&o.count()>0){for(var v=o.getItemLayout(0),h=1;isNaN(v&&v.startAngle)&&h<o.count();++h)v=o.getItemLayout(h);v&&(u=v.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var c=new Ke({shape:Ji(e,n)});c.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=c,s.add(c)}o.diff(l).add(function(f){var g=new zs(o,f,u);o.setItemGraphicEl(f,g),s.add(g)}).update(function(f,g){var p=l.getItemGraphicEl(g);p.updateData(o,f,u),p.off("click"),s.add(p),o.setItemGraphicEl(f,p)}).remove(function(f){var g=l.getItemGraphicEl(f);Kt(g,e,f)}).execute(),ks(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,a){var n=a.getData(),i=n.getItemLayout(0);if(i){var o=e[0]-i.cx,l=e[1]-i.cy,s=Math.sqrt(o*o+l*l);return s<=i.r&&s>=i.r0}},t.type="pie",t}(ee);const Gs=Bs;function dt(r,t,e){t=Y(t)&&{coordDimensions:t}||U({encodeDefine:r.getEncode()},t);var a=r.getSource(),n=sa(a,t).dimensions,i=new ot(n,r);return i.initData(a,e),i}var Os=function(){function r(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},r.prototype.getItemVisual=function(t,e){var a=this._getDataWithEncodedVisual();return a.getItemVisual(t,e)},r}();const Gt=Os;var Fs=Vt(),Hs=function(r){z(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Gt(ue(this.getData,this),ue(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return dt(this,{coordDimensions:["value"],encodeDefaulter:ye(gr,this)})},t.prototype.getDataParams=function(e){var a=this.getData(),n=Fs(a),i=n.seats;if(!i){var o=[];a.each(a.mapDimension("value"),function(s){o.push(s)}),i=n.seats=gl(o,a.hostModel.get("percentPrecision"))}var l=r.prototype.getDataParams.call(this,e);return l.percent=i[e]||0,l.$vars.push("percent"),l},t.prototype._defaultLabelLine=function(e){dr(e,"labelLine",["show"]);var a=e.labelLine,n=e.emphasis.labelLine;a.show=a.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(ne);const $s=Hs;function Ws(r){return{seriesType:r,reset:function(t,e){var a=t.getData();a.filterSelf(function(n){var i=a.mapDimension("value"),o=a.get(i,n);return!(Ie(o)&&!isNaN(o)&&o<0)})}}}function fp(r){r.registerChartView(Gs),r.registerSeriesModel($s),bi("pie",r.registerAction),r.registerLayout(ye(Ms,"pie")),r.registerProcessor(Bt("pie")),r.registerProcessor(Ws("pie"))}var Us=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,a){return He(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,a,n){return n.point(a.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(ne);const Zs=Us;var to=4,Xs=function(){function r(){}return r}(),Ys=function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a._off=0,a.hoverDataIdx=-1,a}return t.prototype.getDefaultShape=function(){return new Xs},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,a){var n=a.points,i=a.size,o=this.symbolProxy,l=o.shape,s=e.getContext?e.getContext():e,u=s&&i[0]<to,v=this.softClipShape,h;if(u){this._ctx=s;return}for(this._ctx=null,h=this._off;h<n.length;){var c=n[h++],f=n[h++];isNaN(c)||isNaN(f)||v&&!v.contain(c,f)||(l.x=c-i[0]/2,l.y=f-i[1]/2,l.width=i[0],l.height=i[1],o.buildPath(e,l,!0))}this.incremental&&(this._off=h,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,a=e.points,n=e.size,i=this._ctx,o=this.softClipShape,l;if(i){for(l=this._off;l<a.length;){var s=a[l++],u=a[l++];isNaN(s)||isNaN(u)||o&&!o.contain(s,u)||i.fillRect(s-n[0]/2,u-n[1]/2,n[0],n[1])}this.incremental&&(this._off=l,this.notClear=!0)}},t.prototype.findDataIndex=function(e,a){for(var n=this.shape,i=n.points,o=n.size,l=Math.max(o[0],4),s=Math.max(o[1],4),u=i.length/2-1;u>=0;u--){var v=u*2,h=i[v]-l/2,c=i[v+1]-s/2;if(e>=h&&a>=c&&e<=h+l&&a<=c+s)return u}return-1},t.prototype.contain=function(e,a){var n=this.transformCoordToLocal(e,a),i=this.getBoundingRect();if(e=n[0],a=n[1],i.contain(e,a)){var o=this.hoverDataIdx=this.findDataIndex(e,a);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var a=this.shape,n=a.points,i=a.size,o=i[0],l=i[1],s=1/0,u=1/0,v=-1/0,h=-1/0,c=0;c<n.length;){var f=n[c++],g=n[c++];s=Math.min(f,s),v=Math.max(f,v),u=Math.min(g,u),h=Math.max(g,h)}e=this._rect=new ct(s-o/2,u-l/2,v-s+o,h-u+l)}return e},t}(De),qs=function(){function r(){this.group=new ae}return r.prototype.updateData=function(t,e){this._clear();var a=this._create();a.setShape({points:t.getLayout("points")}),this._setCommon(a,t,e)},r.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(a){if(a.startIndex!=null){var n=(a.endIndex-a.startIndex)*2,i=a.startIndex*4*2;e=new Float32Array(e.buffer,i,n)}a.setShape("points",e),a.reset()})},r.prototype.incrementalPrepareUpdate=function(t){this._clear()},r.prototype.incrementalUpdate=function(t,e,a){var n=this._newAdded[0],i=e.getLayout("points"),o=n&&n.shape.points;if(o&&o.length<2e4){var l=o.length,s=new Float32Array(l+i.length);s.set(o),s.set(i,l),n.endIndex=t.end,n.setShape({points:s})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:i}),this._setCommon(u,e,a)}},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new Ys({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},r.prototype._setCommon=function(t,e,a){var n=e.hostModel;a=a||{};var i=e.getVisual("symbolSize");t.setShape("size",i instanceof Array?i:[i,i]),t.softClipShape=a.clipShape||null,t.symbolProxy=Ve(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<to;t.useStyle(n.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("style"),s=l&&l.fill;s&&t.setColor(s);var u=le(t);u.seriesIndex=n.seriesIndex,t.on("mousemove",function(v){u.dataIndex=null;var h=t.hoverDataIdx;h>=0&&(u.dataIndex=h+(t.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}();const js=qs;var Ks=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){var i=e.getData(),o=this._updateSymbolDraw(i,e);o.updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,a,n){var i=e.getData(),o=this._updateSymbolDraw(i,e);o.incrementalPrepareUpdate(i),this._finished=!1},t.prototype.incrementalRender=function(e,a,n){this._symbolDraw.incrementalUpdate(e,a.getData(),{clipShape:this._getClipShape(a)}),this._finished=e.end===a.getData().count()},t.prototype.updateTransform=function(e,a,n){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var o=zt("").reset(e,a,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var a=e.coordinateSystem,n=a&&a.getArea&&a.getArea();return e.get("clip",!0)?n:null},t.prototype._updateSymbolDraw=function(e,a){var n=this._symbolDraw,i=a.pipelineContext,o=i.large;return(!n||o!==this._isLargeDraw)&&(n&&n.remove(),n=this._symbolDraw=o?new js:new ga,this._isLargeDraw=o,this.group.removeAll()),this.group.add(n.group),n},t.prototype.remove=function(e,a){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ee);const Qs=Ks;function pp(r){ha(kl),r.registerSeriesModel(Zs),r.registerChartView(Qs),r.registerLayout(zt("scatter"))}function Js(r){r.eachSeriesByType("radar",function(t){var e=t.getData(),a=[],n=t.coordinateSystem;if(n){var i=n.getIndicatorAxes();k(i,function(o,l){e.each(e.mapDimension(i[l].dim),function(s,u){a[u]=a[u]||[];var v=n.dataToPoint(s,l);a[u][l]=yn(v)?v:mn(n)})}),e.each(function(o){var l=Uo(a[o],function(s){return yn(s)})||mn(n);a[o].push(l.slice()),e.setItemLayout(o,a[o])})}})}function yn(r){return!isNaN(r[0])&&!isNaN(r[1])}function mn(r){return[r.cx,r.cy]}function eu(r){var t=r.polar;if(t){Y(t)||(t=[t]);var e=[];k(t,function(a,n){a.indicator?(a.type&&!a.shape&&(a.shape=a.type),r.radar=r.radar||[],Y(r.radar)||(r.radar=[r.radar]),r.radar.push(a)):e.push(a)}),r.polar=e}k(r.series,function(a){a&&a.type==="radar"&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}var tu=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){var i=e.coordinateSystem,o=this.group,l=e.getData(),s=this._data;function u(c,f){var g=c.getItemVisual(f,"symbol")||"circle";if(g!=="none"){var p=wi(c.getItemVisual(f,"symbolSize")),d=Ve(g,-1,-1,2,2),m=c.getItemVisual(f,"symbolRotate")||0;return d.attr({style:{strokeNoScale:!0},z2:100,scaleX:p[0]/2,scaleY:p[1]/2,rotation:m*Math.PI/180||0}),d}}function v(c,f,g,p,d,m){g.removeAll();for(var y=0;y<f.length-1;y++){var S=u(p,d);S&&(S.__dimIdx=y,c[y]?(S.setPosition(c[y]),ca[m?"initProps":"updateProps"](S,{x:f[y][0],y:f[y][1]},e,d)):S.setPosition(f[y]),g.add(S))}}function h(c){return J(c,function(f){return[i.cx,i.cy]})}l.diff(s).add(function(c){var f=l.getItemLayout(c);if(f){var g=new yr,p=new pt,d={shape:{points:f}};g.shape.points=h(f),p.shape.points=h(f),oe(g,d,e,c),oe(p,d,e,c);var m=new ae,y=new ae;m.add(p),m.add(g),m.add(y),v(p.shape.points,f,y,l,c,!0),l.setItemGraphicEl(c,m)}}).update(function(c,f){var g=s.getItemGraphicEl(f),p=g.childAt(0),d=g.childAt(1),m=g.childAt(2),y={shape:{points:l.getItemLayout(c)}};y.shape.points&&(v(p.shape.points,y.shape.points,m,l,c,!1),ke(d),ke(p),K(p,y,e),K(d,y,e),l.setItemGraphicEl(c,g))}).remove(function(c){o.remove(s.getItemGraphicEl(c))}).execute(),l.eachItemGraphicEl(function(c,f){var g=l.getItemModel(f),p=c.childAt(0),d=c.childAt(1),m=c.childAt(2),y=l.getItemVisual(f,"style"),S=y.fill;o.add(c),p.useStyle(Me(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:S})),ge(p,g,"lineStyle"),ge(d,g,"areaStyle");var b=g.getModel("areaStyle"),D=b.isEmpty()&&b.parentModel.isEmpty();d.ignore=D,k(["emphasis","select","blur"],function(x){var T=g.getModel([x,"areaStyle"]),L=T.isEmpty()&&T.parentModel.isEmpty();d.ensureState(x).ignore=L&&D}),d.useStyle(Me(b.getAreaStyle(),{fill:S,opacity:.7,decal:y.decal}));var w=g.getModel("emphasis"),_=w.getModel("itemStyle").getItemStyle();m.eachChild(function(x){if(x instanceof Rt){var T=x.style;x.useStyle(U({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},y))}else x.useStyle(y),x.setColor(S),x.style.strokeNoScale=!0;var L=x.ensureState("emphasis");L.style=Zo(_);var A=l.getStore().get(l.getDimensionIndex(x.__dimIdx),f);(A==null||isNaN(A))&&(A=""),Te(x,we(g),{labelFetcher:l.hostModel,labelDataIndex:f,labelDimIndex:x.__dimIdx,defaultText:A,inheritColor:S,defaultOpacity:y.opacity})}),se(c,w.get("focus"),w.get("blurScope"),w.get("disabled"))}),this._data=l},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(ee);const au=tu;var ru=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Gt(ue(this.getData,this),ue(this.getRawData,this))},t.prototype.getInitialData=function(e,a){return dt(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,a,n){var i=this.getData(),o=this.coordinateSystem,l=o.getIndicatorAxes(),s=this.getData().getName(e),u=s===""?this.name:s,v=dl(this,e);return Pe("section",{header:u,sortBlocks:!0,blocks:J(l,function(h){var c=i.get(i.mapDimension(h.dim),e);return Pe("nameValue",{markerType:"subItem",markerColor:v,name:h.name,value:c,sortParam:c})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var a=this.getData(),n=this.coordinateSystem,i=a.getValues(J(n.dimensions,function(u){return a.mapDimension(u)}),e),o=0,l=i.length;o<l;o++)if(!isNaN(i[o])){var s=n.getIndicatorAxes();return n.coordToPoint(s[o].dataToCoord(i[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(ne);const nu=ru;function gp(r){ha(zl),r.registerChartView(au),r.registerSeriesModel(nu),r.registerLayout(Js),r.registerProcessor(Bt("radar")),r.registerPreprocessor(eu)}var iu=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n,i){if(!(i&&i.type==="mapToggleSelect"&&i.from===this.uid)){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&i&&i.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===e.id){var l=this._mapDraw;l&&o.add(l.group)}else if(e.needsDrawMap){var l=this._mapDraw||new Bl(n);o.add(l.group),l.draw(e,a,n,this,i),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&a.getComponent("legend")&&this._renderSymbols(e,a,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,a,n){var i=e.originalData,o=this.group;i.each(i.mapDimension("value"),function(l,s){if(!isNaN(l)){var u=i.getItemLayout(s);if(!(!u||!u.point)){var v=u.point,h=u.offset,c=new Di({style:{fill:e.getData().getVisual("style").fill},shape:{cx:v[0]+h*9,cy:v[1],r:3},silent:!0,z2:8+(h?0:kt+1)});if(!h){var f=e.mainSeries.getData(),g=i.getName(s),p=f.indexOfName(g),d=i.getItemModel(s),m=d.getModel("label"),y=f.getItemGraphicEl(p);Te(c,we(d),{labelFetcher:{getFormattedLabel:function(S,b){return e.getFormattedLabel(p,b)}},defaultText:g}),c.disableLabelAnimation=!0,m.get("position")||c.setTextConfig({position:"bottom"}),y.onHoverStateChange=function(S){jt(c,S)}}o.add(c)}}})},t.type="map",t}(ee);const ou=iu;var lu=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(a){if(a!=null){var n=this.getData().getName(a),i=this.coordinateSystem,o=i.getRegion(n);return o&&i.dataToPoint(o.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var a=dt(this,{coordDimensions:["value"],encodeDefaulter:ye(gr,this)}),n=cr(),i=[],o=0,l=a.count();o<l;o++){var s=a.getName(o);n.set(s,!0)}var u=Gl.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return k(u.regions,function(v){var h=v.name;n.get(h)||i.push(h)}),a.appendValues([],i),a},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return e!=null?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var a=this.getData();return a.get(a.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var a=this.getData();return a.getItemModel(a.indexOfName(e))},t.prototype.formatTooltip=function(e,a,n){for(var i=this.getData(),o=this.getRawValue(e),l=i.getName(e),s=this.seriesGroup,u=[],v=0;v<s.length;v++){var h=s[v].originalData.indexOfName(l),c=i.mapDimension("value");isNaN(s[v].originalData.get(c,h))||u.push(s[v].name)}return Pe("section",{header:u.join(", "),noHeader:!u.length,blocks:[Pe("nameValue",{name:l,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var a=e.icon||"roundRect",n=Ve(a,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke="none",a.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(ne);const su=lu;function uu(r,t){var e={};return k(r,function(a){a.each(a.mapDimension("value"),function(n,i){var o="ec-"+a.getName(i);e[o]=e[o]||[],isNaN(n)||e[o].push(n)})}),r[0].map(r[0].mapDimension("value"),function(a,n){for(var i="ec-"+r[0].getName(n),o=0,l=1/0,s=-1/0,u=e[i].length,v=0;v<u;v++)l=Math.min(l,e[i][v]),s=Math.max(s,e[i][v]),o+=e[i][v];var h;return t==="min"?h=l:t==="max"?h=s:t==="average"?h=o/u:h=o,u===0?NaN:h})}function vu(r){var t={};r.eachSeriesByType("map",function(e){var a=e.getHostGeoModel(),n=a?"o"+a.id:"i"+e.getMapType();(t[n]=t[n]||[]).push(e)}),k(t,function(e,a){for(var n=uu(J(e,function(o){return o.getData()}),e[0].get("mapValueCalculation")),i=0;i<e.length;i++)e[i].originalData=e[i].getData();for(var i=0;i<e.length;i++)e[i].seriesGroup=e,e[i].needsDrawMap=i===0&&!e[i].getHostGeoModel(),e[i].setData(n.cloneShallow()),e[i].mainSeries=e[0]})}function hu(r){var t={};r.eachSeriesByType("map",function(e){var a=e.getMapType();if(!(e.getHostGeoModel()||t[a])){var n={};k(e.seriesGroup,function(o){var l=o.coordinateSystem,s=o.originalData;o.get("showLegendSymbol")&&r.getComponent("legend")&&s.each(s.mapDimension("value"),function(u,v){var h=s.getName(v),c=l.getRegion(h);if(!(!c||isNaN(u))){var f=n[h]||0,g=l.dataToPoint(c.getCenter());n[h]=f+1,s.setItemLayout(v,{point:g,offset:f})}})});var i=e.getData();i.each(function(o){var l=i.getName(o),s=i.getItemLayout(o)||{};s.showLabel=!n[l],i.setItemLayout(o,s)}),t[a]=!0}})}function dp(r){ha(Ol),r.registerChartView(ou),r.registerSeriesModel(su),r.registerLayout(hu),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,vu),bi("map",r.registerAction)}function cu(r){var t=r;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[t],a,n;a=e.pop();)if(n=a.children,a.isExpand&&n.length)for(var i=n.length,o=i-1;o>=0;o--){var l=n[o];l.hierNode={defaultAncestor:null,ancestor:l,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},e.push(l)}}function fu(r,t){var e=r.isExpand?r.children:[],a=r.parentNode.children,n=r.hierNode.i?a[r.hierNode.i-1]:null;if(e.length){du(r);var i=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;n?(r.hierNode.prelim=n.hierNode.prelim+t(r,n),r.hierNode.modifier=r.hierNode.prelim-i):r.hierNode.prelim=i}else n&&(r.hierNode.prelim=n.hierNode.prelim+t(r,n));r.parentNode.hierNode.defaultAncestor=yu(r,n,r.parentNode.hierNode.defaultAncestor||a[0],t)}function pu(r){var t=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:t},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function Sn(r){return arguments.length?r:bu}function Dt(r,t){return r-=Math.PI/2,{x:t*Math.cos(r),y:t*Math.sin(r)}}function gu(r,t){return gt(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function du(r){for(var t=r.children,e=t.length,a=0,n=0;--e>=0;){var i=t[e];i.hierNode.prelim+=a,i.hierNode.modifier+=a,n+=i.hierNode.change,a+=i.hierNode.shift+n}}function yu(r,t,e,a){if(t){for(var n=r,i=r,o=i.parentNode.children[0],l=t,s=n.hierNode.modifier,u=i.hierNode.modifier,v=o.hierNode.modifier,h=l.hierNode.modifier;l=Ca(l),i=Pa(i),l&&i;){n=Ca(n),o=Pa(o),n.hierNode.ancestor=r;var c=l.hierNode.prelim+h-i.hierNode.prelim-u+a(l,i);c>0&&(Su(mu(l,r,e),r,c),u+=c,s+=c),h+=l.hierNode.modifier,u+=i.hierNode.modifier,s+=n.hierNode.modifier,v+=o.hierNode.modifier}l&&!Ca(n)&&(n.hierNode.thread=l,n.hierNode.modifier+=h-s),i&&!Pa(o)&&(o.hierNode.thread=i,o.hierNode.modifier+=u-v,e=r)}return e}function Ca(r){var t=r.children;return t.length&&r.isExpand?t[t.length-1]:r.hierNode.thread}function Pa(r){var t=r.children;return t.length&&r.isExpand?t[0]:r.hierNode.thread}function mu(r,t,e){return r.hierNode.ancestor.parentNode===t.parentNode?r.hierNode.ancestor:e}function Su(r,t,e){var a=e/(t.hierNode.i-r.hierNode.i);t.hierNode.change-=a,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,r.hierNode.change+=a}function bu(r,t){return r.parentNode===t.parentNode?1:2}var wu=function(){function r(){this.parentPoint=[],this.childPoints=[]}return r}(),Du=function(r){z(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new wu},t.prototype.buildPath=function(e,a){var n=a.childPoints,i=n.length,o=a.parentPoint,l=n[0],s=n[i-1];if(i===1){e.moveTo(o[0],o[1]),e.lineTo(l[0],l[1]);return}var u=a.orient,v=u==="TB"||u==="BT"?0:1,h=1-v,c=O(a.forkPosition,1),f=[];f[v]=o[v],f[h]=o[h]+(s[h]-o[h])*c,e.moveTo(o[0],o[1]),e.lineTo(f[0],f[1]),e.moveTo(l[0],l[1]),f[v]=l[v],e.lineTo(f[0],f[1]),f[v]=s[v],e.lineTo(f[0],f[1]),e.lineTo(s[0],s[1]);for(var g=1;g<i-1;g++){var p=n[g];e.moveTo(p[0],p[1]),f[v]=p[v],e.lineTo(f[0],f[1])}},t}(De),_u=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new ae,e}return t.prototype.init=function(e,a){this._controller=new mr(a.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,a,n){var i=e.getData(),o=e.layoutInfo,l=this._mainGroup,s=e.get("layout");s==="radial"?(l.x=o.x+o.width/2,l.y=o.y+o.height/2):(l.x=o.x,l.y=o.y),this._updateViewCoordSys(e,n),this._updateController(e,a,n);var u=this._data;i.diff(u).add(function(v){bn(i,v)&&wn(i,v,null,l,e)}).update(function(v,h){var c=u.getItemGraphicEl(h);if(!bn(i,v)){c&&_n(u,h,c,l,e);return}wn(i,v,c,l,e)}).remove(function(v){var h=u.getItemGraphicEl(v);h&&_n(u,v,h,l,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&i.eachItemGraphicEl(function(v,h){v.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=i},t.prototype._updateViewCoordSys=function(e,a){var n=e.getData(),i=[];n.each(function(h){var c=n.getItemLayout(h);c&&!isNaN(c.x)&&!isNaN(c.y)&&i.push([+c.x,+c.y])});var o=[],l=[];vi(i,o,l);var s=this._min,u=this._max;l[0]-o[0]===0&&(o[0]=s?s[0]:o[0]-1,l[0]=u?u[0]:l[0]+1),l[1]-o[1]===0&&(o[1]=s?s[1]:o[1]-1,l[1]=u?u[1]:l[1]+1);var v=e.coordinateSystem=new Sr;v.zoomLimit=e.get("scaleLimit"),v.setBoundingRect(o[0],o[1],l[0]-o[0],l[1]-o[1]),v.setCenter(e.get("center"),a),v.setZoom(e.get("zoom")),this.group.attr({x:v.x,y:v.y,scaleX:v.scaleX,scaleY:v.scaleY}),this._min=o,this._max=l},t.prototype._updateController=function(e,a,n){var i=this,o=this._controller,l=this._controllerHost,s=this.group;o.setPointerChecker(function(u,v,h){var c=s.getBoundingRect();return c.applyTransform(s.transform),c.contain(v,h)&&!Ni(u,n,e)}),o.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){Ei(l,u.dx,u.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Mi(l,u.scale,u.originX,u.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),i._updateNodeAndLinkScale(e),n.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var a=e.getData(),n=this._getNodeGlobalScale(e);a.eachItemGraphicEl(function(i,o){i.setSymbolScale(n)})},t.prototype._getNodeGlobalScale=function(e){var a=e.coordinateSystem;if(a.type!=="view")return 1;var n=this._nodeScaleRatio,i=a.scaleX||1,o=a.getZoom(),l=(o-1)*n+1;return l/i},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(ee);function bn(r,t){var e=r.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function wn(r,t,e,a,n){var i=!e,o=r.tree.getNodeByDataIndex(t),l=o.getModel(),s=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?s:"#fff",v=r.tree.root,h=o.parentNode===v?o:o.parentNode||o,c=r.getItemGraphicEl(h.dataIndex),f=h.getLayout(),g=c?{x:c.__oldX,y:c.__oldY,rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:f,p=o.getLayout();i?(e=new da(r,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.x=g.x,e.y=g.y):e.updateData(r,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=p.rawX,e.__radialRawY=p.rawY,a.add(e),r.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,K(e,{x:p.x,y:p.y},n);var d=e.getSymbolPath();if(n.get("layout")==="radial"){var m=v.children[0],y=m.getLayout(),S=m.children.length,b=void 0,D=void 0;if(p.x===y.x&&o.isExpand===!0&&m.children.length){var w={x:(m.children[0].getLayout().x+m.children[S-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[S-1].getLayout().y)/2};b=Math.atan2(w.y-y.y,w.x-y.x),b<0&&(b=Math.PI*2+b),D=w.x<y.x,D&&(b=b-Math.PI)}else b=Math.atan2(p.y-y.y,p.x-y.x),b<0&&(b=Math.PI*2+b),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(D=p.x<y.x,D&&(b=b-Math.PI)):(D=p.x>y.x,D||(b=b-Math.PI));var _=D?"left":"right",x=l.getModel("label"),T=x.get("rotate"),L=T*(Math.PI/180),A=d.getTextContent();A&&(d.setTextConfig({position:x.get("position")||_,rotation:T==null?-b:L,origin:"center"}),A.setStyle("verticalAlign","middle"))}var I=l.get(["emphasis","focus"]),N=I==="relative"?Qa(o.getAncestorsIndices(),o.getDescendantIndices()):I==="ancestor"?o.getAncestorsIndices():I==="descendant"?o.getDescendantIndices():null;N&&(le(e).focus=N),xu(n,o,v,e,g,f,p,a),e.__edge&&(e.onHoverStateChange=function(C){if(C!=="blur"){var P=o.parentNode&&r.getItemGraphicEl(o.parentNode.dataIndex);P&&P.hoverState===yl||jt(e.__edge,C)}})}function xu(r,t,e,a,n,i,o,l){var s=t.getModel(),u=r.get("edgeShape"),v=r.get("layout"),h=r.getOrient(),c=r.get(["lineStyle","curveness"]),f=r.get("edgeForkPosition"),g=s.getModel("lineStyle").getLineStyle(),p=a.__edge;if(u==="curve")t.parentNode&&t.parentNode!==e&&(p||(p=a.__edge=new ml({shape:ir(v,h,c,n,n)})),K(p,{shape:ir(v,h,c,i,o)},r));else if(u==="polyline"&&v==="orthogonal"&&t!==e&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var d=t.children,m=[],y=0;y<d.length;y++){var S=d[y].getLayout();m.push([S.x,S.y])}p||(p=a.__edge=new Du({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:h,forkPosition:f}})),K(p,{shape:{parentPoint:[o.x,o.y],childPoints:m}},r)}p&&!(u==="polyline"&&!t.isExpand)&&(p.useStyle(Me({strokeNoScale:!0,fill:null},g)),ge(p,s,"lineStyle"),Qt(p),l.add(p))}function Dn(r,t,e,a,n){var i=t.tree.root,o=ao(i,r),l=o.source,s=o.sourceLayout,u=t.getItemGraphicEl(r.dataIndex);if(u){var v=t.getItemGraphicEl(l.dataIndex),h=v.__edge,c=u.__edge||(l.isExpand===!1||l.children.length===1?h:void 0),f=a.get("edgeShape"),g=a.get("layout"),p=a.get("orient"),d=a.get(["lineStyle","curveness"]);c&&(f==="curve"?Jt(c,{shape:ir(g,p,d,s,s),style:{opacity:0}},a,{cb:function(){e.remove(c)},removeOpt:n}):f==="polyline"&&a.get("layout")==="orthogonal"&&Jt(c,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},a,{cb:function(){e.remove(c)},removeOpt:n}))}}function ao(r,t){for(var e=t.parentNode===r?t:t.parentNode||t,a;a=e.getLayout(),a==null;)e=e.parentNode===r?e:e.parentNode||e;return{source:e,sourceLayout:a}}function _n(r,t,e,a,n){var i=r.tree.getNodeByDataIndex(t),o=r.tree.root,l=ao(o,i).sourceLayout,s={duration:n.get("animationDurationUpdate"),easing:n.get("animationEasingUpdate")};Jt(e,{x:l.x+1,y:l.y+1},n,{cb:function(){a.remove(e),r.setItemGraphicEl(t,null)},removeOpt:s}),e.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:s}),i.children.forEach(function(u){Dn(u,r,a,n,s)}),Dn(i,r,a,n,s)}function ir(r,t,e,a,n){var i,o,l,s,u,v,h,c;if(r==="radial"){u=a.rawX,h=a.rawY,v=n.rawX,c=n.rawY;var f=Dt(u,h),g=Dt(u,h+(c-h)*e),p=Dt(v,c+(h-c)*e),d=Dt(v,c);return{x1:f.x||0,y1:f.y||0,x2:d.x||0,y2:d.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:p.x||0,cpy2:p.y||0}}else u=a.x,h=a.y,v=n.x,c=n.y,(t==="LR"||t==="RL")&&(i=u+(v-u)*e,o=h,l=v+(u-v)*e,s=c),(t==="TB"||t==="BT")&&(i=u,o=h+(c-h)*e,l=v,s=c+(h-c)*e);return{x1:u,y1:h,x2:v,y2:c,cpx1:i,cpy1:o,cpx2:l,cpy2:s}}const Au=_u;var Ae=Vt();function ro(r){var t=r.mainData,e=r.datas;e||(e={main:t},r.datasAttr={main:"data"}),r.datas=r.mainData=null,no(t,e,r),k(e,function(a){k(t.TRANSFERABLE_METHODS,function(n){a.wrapMethod(n,ye(Iu,r))})}),t.wrapMethod("cloneShallow",ye(Tu,r)),k(t.CHANGABLE_METHODS,function(a){t.wrapMethod(a,ye(Lu,r))}),Xo(e[t.dataType]===t)}function Iu(r,t){if(Nu(this)){var e=U({},Ae(this).datas);e[this.dataType]=t,no(t,e,r)}else wr(t,this.dataType,Ae(this).mainData,r);return t}function Lu(r,t){return r.struct&&r.struct.update(),t}function Tu(r,t){return k(Ae(t).datas,function(e,a){e!==t&&wr(e.cloneShallow(),a,t,r)}),t}function Cu(r){var t=Ae(this).mainData;return r==null||t==null?t:Ae(t).datas[r]}function Pu(){var r=Ae(this).mainData;return r==null?[{data:r}]:J(Yo(Ae(r).datas),function(t){return{type:t,data:Ae(r).datas[t]}})}function Nu(r){return Ae(r).mainData===r}function no(r,t,e){Ae(r).datas={},k(t,function(a,n){wr(a,n,r,e)})}function wr(r,t,e,a){Ae(e).datas[t]=r,Ae(r).mainData=e,r.dataType=t,a.struct&&(r[a.structAttr]=a.struct,a.struct[a.datasAttr[t]]=r),r.getLinkedData=Cu,r.getLinkedDataAll=Pu}var Eu=function(){function r(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(t,e,a){be(t)&&(a=e,e=t,t=null),t=t||{},Re(t)&&(t={order:t});var n=t.order||"preorder",i=this[t.attr||"children"],o;n==="preorder"&&(o=e.call(a,this));for(var l=0;!o&&l<i.length;l++)i[l].eachNode(t,e,a);n==="postorder"&&e.call(a,this)},r.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var a=0;a<this.children.length;a++){var n=this.children[a];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},r.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,a=this.children,n=a.length;e<n;e++){var i=a[e].getNodeById(t);if(i)return i}},r.prototype.contains=function(t){if(t===this)return!0;for(var e=0,a=this.children,n=a.length;e<n;e++){var i=a[e].contains(t);if(i)return i}},r.prototype.getAncestors=function(t){for(var e=[],a=t?this:this.parentNode;a;)e.push(a),a=a.parentNode;return e.reverse(),e},r.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},r.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},r.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},r.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,a=e.data.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},r.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},r.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},r.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},r}(),Mu=function(){function r(t){this.type="tree",this._nodes=[],this.hostModel=t}return r.prototype.eachNode=function(t,e,a){this.root.eachNode(t,e,a)},r.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},r.prototype.getNodeById=function(t){return this.root.getNodeById(t)},r.prototype.update=function(){for(var t=this.data,e=this._nodes,a=0,n=e.length;a<n;a++)e[a].dataIndex=-1;for(var a=0,n=t.count();a<n;a++)e[t.getRawIndex(a)].dataIndex=a},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(t,e,a){var n=new r(e),i=[],o=1;l(t);function l(v,h){var c=v.value;o=Math.max(o,Y(c)?c.length:1),i.push(v);var f=new Eu(fa(v.name,""),n);h?Ru(f,h):n.root=f,n._nodes.push(f);var g=v.children;if(g)for(var p=0;p<g.length;p++)l(g[p],f)}n.root.updateDepthAndHeight(0);var s=sa(i,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new ot(s,e);return u.initData(i),a&&a(u),ro({mainData:u,struct:n,structAttr:"tree"}),n.update(),n},r}();function Ru(r,t){var e=t.children;r.parentNode!==t&&(e.push(r),r.parentNode=t)}const Dr=Mu;function Pt(r,t,e){if(r&&ft(t,r.type)>=0){var a=e.getData().tree.root,n=r.targetNode;if(Re(n)&&(n=a.getNodeById(n)),n&&a.contains(n))return{node:n};var i=r.targetNodeId;if(i!=null&&(n=a.getNodeById(i)))return{node:n}}}function io(r){for(var t=[];r;)r=r.parentNode,r&&t.push(r);return t.reverse()}function _r(r,t){var e=io(r);return ft(e,t)>=0}function Sa(r,t){for(var e=[];r;){var a=r.dataIndex;e.push({name:r.name,dataIndex:a,value:t.getRawValue(a)}),r=r.parentNode}return e.reverse(),e}var Vu=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e){var a={name:e.name,children:e.data},n=e.leaves||{},i=new lt(n,this,this.ecModel),o=Dr.createTree(a,this,l);function l(h){h.wrapMethod("getItemModel",function(c,f){var g=o.getNodeByDataIndex(f);return g&&g.children.length&&g.isExpand||(c.parentModel=i),c})}var s=0;o.eachNode("preorder",function(h){h.depth>s&&(s=h.depth)});var u=e.expandAndCollapse,v=u&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return o.root.eachNode("preorder",function(h){var c=h.hostTree.data.getRawDataItem(h.dataIndex);h.isExpand=c&&c.collapsed!=null?!c.collapsed:h.depth<=v}),o.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,a,n){for(var i=this.getData().tree,o=i.root.children[0],l=i.getNodeByDataIndex(e),s=l.getValue(),u=l.name;l&&l!==o;)u=l.parentNode.name+"."+u,l=l.parentNode;return Pe("nameValue",{name:u,value:s,noValue:isNaN(s)||s==null})},t.prototype.getDataParams=function(e){var a=r.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return a.treeAncestors=Sa(n,this),a.collapsed=!n.isExpand,a},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(ne);const ku=Vu;function zu(r,t,e){for(var a=[r],n=[],i;i=a.pop();)if(n.push(i),i.isExpand){var o=i.children;if(o.length)for(var l=0;l<o.length;l++)a.push(o[l])}for(;i=n.pop();)t(i,e)}function mt(r,t){for(var e=[r],a;a=e.pop();)if(t(a),a.isExpand){var n=a.children;if(n.length)for(var i=n.length-1;i>=0;i--)e.push(n[i])}}function Bu(r,t){r.eachSeriesByType("tree",function(e){Gu(e,t)})}function Gu(r,t){var e=gu(r,t);r.layoutInfo=e;var a=r.get("layout"),n=0,i=0,o=null;a==="radial"?(n=2*Math.PI,i=Math.min(e.height,e.width)/2,o=Sn(function(S,b){return(S.parentNode===b.parentNode?1:2)/S.depth})):(n=e.width,i=e.height,o=Sn());var l=r.getData().tree.root,s=l.children[0];if(s){cu(l),zu(s,fu,o),l.hierNode.modifier=-s.hierNode.prelim,mt(s,pu);var u=s,v=s,h=s;mt(s,function(S){var b=S.getLayout().x;b<u.getLayout().x&&(u=S),b>v.getLayout().x&&(v=S),S.depth>h.depth&&(h=S)});var c=u===v?1:o(u,v)/2,f=c-u.getLayout().x,g=0,p=0,d=0,m=0;if(a==="radial")g=n/(v.getLayout().x+c+f),p=i/(h.depth-1||1),mt(s,function(S){d=(S.getLayout().x+f)*g,m=(S.depth-1)*p;var b=Dt(d,m);S.setLayout({x:b.x,y:b.y,rawX:d,rawY:m},!0)});else{var y=r.getOrient();y==="RL"||y==="LR"?(p=i/(v.getLayout().x+c+f),g=n/(h.depth-1||1),mt(s,function(S){m=(S.getLayout().x+f)*p,d=y==="LR"?(S.depth-1)*g:n-(S.depth-1)*g,S.setLayout({x:d,y:m},!0)})):(y==="TB"||y==="BT")&&(g=n/(v.getLayout().x+c+f),p=i/(h.depth-1||1),mt(s,function(S){d=(S.getLayout().x+f)*g,m=y==="TB"?(S.depth-1)*p:i-(S.depth-1)*p,S.setLayout({x:d,y:m},!0)}))}}}function Ou(r){r.eachSeriesByType("tree",function(t){var e=t.getData(),a=e.tree;a.eachNode(function(n){var i=n.getModel(),o=i.getModel("itemStyle").getItemStyle(),l=e.ensureUniqueItemVisual(n.dataIndex,"style");U(l,o)})})}function Fu(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(a){var n=t.dataIndex,i=a.getData().tree,o=i.getNodeByDataIndex(n);o.isExpand=!o.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,a){e.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var i=n.coordinateSystem,o=Ri(i,t,void 0,a);n.setCenter&&n.setCenter(o.center),n.setZoom&&n.setZoom(o.zoom)})})}function yp(r){r.registerChartView(Au),r.registerSeriesModel(ku),r.registerLayout(Bu),r.registerVisual(Ou),Fu(r)}var xn=["treemapZoomToNode","treemapRender","treemapMove"];function Hu(r){for(var t=0;t<xn.length;t++)r.registerAction({type:xn[t],update:"updateView"},Ja);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,a){a.eachComponent({mainType:"series",subType:"treemap",query:e},n);function n(i,o){var l=["treemapZoomToNode","treemapRootToNode"],s=Pt(e,l,i);if(s){var u=i.getViewRoot();u&&(e.direction=_r(u,s.node)?"rollUp":"drillDown"),i.resetViewRoot(s.node)}}})}function oo(r){var t=r.getData(),e=t.tree,a={};e.eachNode(function(n){for(var i=n;i&&i.depth>1;)i=i.parentNode;var o=Sl(r.ecModel,i.name||i.dataIndex+"",a);n.setVisual("decal",o)})}var $u=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,a){var n={name:e.name,children:e.data};lo(n);var i=e.levels||[],o=this.designatedVisualItemStyle={},l=new lt({itemStyle:o},this,a);i=e.levels=Wu(i,a);var s=J(i||[],function(h){return new lt(h,l,a)},this),u=Dr.createTree(n,this,v);function v(h){h.wrapMethod("getItemModel",function(c,f){var g=u.getNodeByDataIndex(f),p=g?s[g.depth]:null;return c.parentModel=p||l,c})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,a,n){var i=this.getData(),o=this.getRawValue(e),l=i.getName(e);return Pe("nameValue",{name:l,value:o})},t.prototype.getDataParams=function(e){var a=r.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return a.treeAncestors=Sa(n,this),a.treePathInfo=a.treeAncestors,a},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},U(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var a=this._idIndexMap;a||(a=this._idIndexMap=cr(),this._idIndexMapCount=0);var n=a.get(e);return n==null&&a.set(e,n=this._idIndexMapCount++),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var a=this.getRawData().tree.root;(!e||e!==a&&!a.contains(e))&&(this._viewRoot=a)},t.prototype.enableAriaDecal=function(){oo(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(ne);function lo(r){var t=0;k(r.children,function(a){lo(a);var n=a.value;Y(n)&&(n=n[0]),t+=n});var e=r.value;Y(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Y(r.value)?r.value[0]=e:r.value=e}function Wu(r,t){var e=Ur(t.get("color")),a=Ur(t.get(["aria","decal","decals"]));if(e){r=r||[];var n,i;k(r,function(l){var s=new lt(l),u=s.get("color"),v=s.get("decal");(s.get(["itemStyle","color"])||u&&u!=="none")&&(n=!0),(s.get(["itemStyle","decal"])||v&&v!=="none")&&(i=!0)});var o=r[0]||(r[0]={});return n||(o.color=e.slice()),!i&&a&&(o.decal=a.slice()),r}}const Uu=$u;var Zu=8,An=8,Na=5,Xu=function(){function r(t){this.group=new ae,t.add(this.group)}return r.prototype.render=function(t,e,a,n){var i=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!i.get("show")||!a)){var l=i.getModel("itemStyle"),s=i.getModel("emphasis"),u=l.getModel("textStyle"),v=s.getModel(["itemStyle","textStyle"]),h={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(a,h,u),this._renderContent(t,h,l,s,u,v,n),bl(o,h.pos,h.box)}},r.prototype._prepare=function(t,e,a){for(var n=t;n;n=n.parentNode){var i=fa(n.getModel().get("name"),""),o=a.getTextRect(i),l=Math.max(o.width+Zu*2,e.emptyItemWidth);e.totalWidth+=l+An,e.renderList.push({node:n,text:i,width:l})}},r.prototype._renderContent=function(t,e,a,n,i,o,l){for(var s=0,u=e.emptyItemWidth,v=t.get(["breadcrumb","height"]),h=wl(e.pos,e.box),c=e.totalWidth,f=e.renderList,g=n.getModel("itemStyle").getItemStyle(),p=f.length-1;p>=0;p--){var d=f[p],m=d.node,y=d.width,S=d.text;c>h.width&&(c-=y-u,y=u,S=null);var b=new yr({shape:{points:Yu(s,0,y,v,p===f.length-1,p===0)},style:Me(a.getItemStyle(),{lineJoin:"bevel"}),textContent:new Ee({style:Be(i,{text:S})}),textConfig:{position:"inside"},z2:kt*1e4,onclick:ye(l,m)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=Be(o,{text:S}),b.ensureState("emphasis").style=g,se(b,n.get("focus"),n.get("blurScope"),n.get("disabled")),this.group.add(b),qu(b,t,m),s+=y+An}},r.prototype.remove=function(){this.group.removeAll()},r}();function Yu(r,t,e,a,n,i){var o=[[n?r:r-Na,t],[r+e,t],[r+e,t+a],[n?r:r-Na,t+a]];return!i&&o.splice(2,0,[r+e+Na,t+a/2]),!n&&o.push([r,t+a/2]),o}function qu(r,t,e){le(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&Sa(e,t)}}const ju=Xu;var Ku=function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(t,e,a,n,i){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:a,delay:n,easing:i}),!0)},r.prototype.finished=function(t){return this._finishedCallback=t,this},r.prototype.start=function(){for(var t=this,e=this._storage.length,a=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},n=0,i=this._storage.length;n<i;n++){var o=this._storage[n];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:a,aborted:a})}return this},r}();function Qu(){return new Ku}var or=ae,In=Le,Ln=3,Tn="label",Cn="upperLabel",Ju=kt*10,ev=kt*2,tv=kt*3,et=Dl([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Pn=function(r){var t=et(r);return t.stroke=t.fill=t.lineWidth=null,t},ra=Vt(),av=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=St(),e}return t.prototype.render=function(e,a,n,i){var o=a.findComponents({mainType:"series",subType:"treemap",query:i});if(!(ft(o,e)<0)){this.seriesModel=e,this.api=n,this.ecModel=a;var l=["treemapZoomToNode","treemapRootToNode"],s=Pt(i,l,e),u=i&&i.type,v=e.layoutInfo,h=!this._oldTree,c=this._storage,f=u==="treemapRootToNode"&&s&&c?{rootNodeGroup:c.nodeGroup[s.node.getRawIndex()],direction:i.direction}:null,g=this._giveContainerGroup(v),p=e.get("animation"),d=this._doRender(g,e,f);p&&!h&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(g,d,e,f):d.renderFinally(),this._resetController(n),this._renderBreadcrumb(e,n,s)}},t.prototype._giveContainerGroup=function(e){var a=this._containerGroup;return a||(a=this._containerGroup=new or,this._initEvents(a),this.group.add(a)),a.x=e.x,a.y=e.y,a},t.prototype._doRender=function(e,a,n){var i=a.getData().tree,o=this._oldTree,l=St(),s=St(),u=this._storage,v=[];function h(d,m,y,S){return rv(a,s,u,n,l,v,d,m,y,S)}f(i.root?[i.root]:[],o&&o.root?[o.root]:[],e,i===o||!o,0);var c=g(u);return this._oldTree=i,this._storage=s,{lastsForAnimation:l,willDeleteEls:c,renderFinally:p};function f(d,m,y,S,b){S?(m=d,k(d,function(_,x){!_.isRemoved()&&w(x,x)})):new pa(m,d,D,D).add(w).update(w).remove(ye(w,null)).execute();function D(_){return _.getId()}function w(_,x){var T=_!=null?d[_]:null,L=x!=null?m[x]:null,A=h(T,L,y,b);A&&f(T&&T.viewChildren||[],L&&L.viewChildren||[],A,S,b+1)}}function g(d){var m=St();return d&&k(d,function(y,S){var b=m[S];k(y,function(D){D&&(b.push(D),ra(D).willDelete=!0)})}),m}function p(){k(c,function(d){k(d,function(m){m.parent&&m.parent.remove(m)})}),k(v,function(d){d.invisible=!0,d.dirty()})}},t.prototype._doAnimation=function(e,a,n,i){var o=n.get("animationDurationUpdate"),l=n.get("animationEasing"),s=(be(o)?0:o)||0,u=(be(l)?null:l)||"cubicOut",v=Qu();k(a.willDeleteEls,function(h,c){k(h,function(f,g){if(!f.invisible){var p=f.parent,d,m=ra(p);if(i&&i.direction==="drillDown")d=p===i.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,S=0;m.willDelete||(y=m.nodeWidth/2,S=m.nodeHeight/2),d=c==="nodeGroup"?{x:y,y:S,style:{opacity:0}}:{shape:{x:y,y:S,width:0,height:0},style:{opacity:0}}}d&&v.add(f,d,s,0,u)}})}),k(this._storage,function(h,c){k(h,function(f,g){var p=a.lastsForAnimation[c][g],d={};p&&(f instanceof ae?p.oldX!=null&&(d.x=f.x,d.y=f.y,f.x=p.oldX,f.y=p.oldY):(p.oldShape&&(d.shape=U({},f.shape),f.setShape(p.oldShape)),p.fadein?(f.setStyle("opacity",0),d.style={opacity:1}):f.style.opacity!==1&&(d.style={opacity:1})),v.add(f,d,s,0,u))})},this),this._state="animating",v.finished(ue(function(){this._state="ready",a.renderFinally()},this)).start()},t.prototype._resetController=function(e){var a=this._controller;a||(a=this._controller=new mr(e.getZr()),a.enable(this.seriesModel.get("roam")),a.on("pan",ue(this._onPan,this)),a.on("zoom",ue(this._onZoom,this)));var n=new ct(0,0,e.getWidth(),e.getHeight());a.setPointerChecker(function(i,o,l){return n.contain(o,l)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>Ln||Math.abs(e.dy)>Ln)){var a=this.seriesModel.getData().tree.root;if(!a)return;var n=a.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},t.prototype._onZoom=function(e){var a=e.originX,n=e.originY;if(this._state!=="animating"){var i=this.seriesModel.getData().tree.root;if(!i)return;var o=i.getLayout();if(!o)return;var l=new ct(o.x,o.y,o.width,o.height),s=this.seriesModel.layoutInfo;a-=s.x,n-=s.y;var u=jo();Gr(u,u,[-a,-n]),qo(u,u,[e.scale,e.scale]),Gr(u,u,[a,n]),l.applyTransform(u),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(e){var a=this;e.on("click",function(n){if(a._state==="ready"){var i=a.seriesModel.get("nodeClick",!0);if(i){var o=a.findTarget(n.offsetX,n.offsetY);if(o){var l=o.node;if(l.getLayout().isLeafRoot)a._rootToNode(o);else if(i==="zoomToNode")a._zoomToNode(o);else if(i==="link"){var s=l.hostTree.data.getItemModel(l.dataIndex),u=s.get("link",!0),v=s.get("target",!0)||"blank";u&&_i(u,v)}}}}},this)},t.prototype._renderBreadcrumb=function(e,a,n){var i=this;n||(n=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(a.getWidth()/2,a.getHeight()/2),n||(n={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new ju(this.group))).render(e,a,n.node,function(o){i._state!=="animating"&&(_r(e.getViewRoot(),o)?i._rootToNode({node:o}):i._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=St(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,a){var n,i=this.seriesModel.getViewRoot();return i.eachNode({attr:"viewChildren",order:"preorder"},function(o){var l=this._storage.background[o.getRawIndex()];if(l){var s=l.transformCoordToLocal(e,a),u=l.shape;if(u.x<=s[0]&&s[0]<=u.x+u.width&&u.y<=s[1]&&s[1]<=u.y+u.height)n={node:o,offsetX:s[0],offsetY:s[1]};else return!1}},this),n},t.type="treemap",t}(ee);function St(){return{nodeGroup:[],background:[],content:[]}}function rv(r,t,e,a,n,i,o,l,s,u){if(!o)return;var v=o.getLayout(),h=r.getData(),c=o.getModel();if(h.setItemGraphicEl(o.dataIndex,null),!v||!v.isInView)return;var f=v.width,g=v.height,p=v.borderWidth,d=v.invisible,m=o.getRawIndex(),y=l&&l.getRawIndex(),S=o.viewChildren,b=v.upperHeight,D=S&&S.length,w=c.getModel("itemStyle"),_=c.getModel(["emphasis","itemStyle"]),x=c.getModel(["blur","itemStyle"]),T=c.getModel(["select","itemStyle"]),L=w.get("borderRadius")||0,A=F("nodeGroup",or);if(!A)return;if(s.add(A),A.x=v.x||0,A.y=v.y||0,A.markRedraw(),ra(A).nodeWidth=f,ra(A).nodeHeight=g,v.isAboveViewRoot)return A;var I=F("background",In,u,ev);I&&V(A,I,D&&v.upperLabelHeight);var N=c.getModel("emphasis"),C=N.get("focus"),P=N.get("blurScope"),E=N.get("disabled"),R=C==="ancestor"?o.getAncestorsIndices():C==="descendant"?o.getDescendantIndices():C;if(D)Zr(A)&&Ft(A,!1),I&&(Ft(I,!E),h.setItemGraphicEl(o.dataIndex,I),Xr(I,R,P));else{var M=F("content",In,u,tv);M&&G(A,M),I.disableMorphing=!0,I&&Zr(I)&&Ft(I,!1),Ft(A,!E),h.setItemGraphicEl(o.dataIndex,A),Xr(A,R,P)}return A;function V(Z,H,Q){var q=le(H);if(q.dataIndex=o.dataIndex,q.seriesIndex=r.seriesIndex,H.setShape({x:0,y:0,width:f,height:g,r:L}),d)B(H);else{H.invisible=!1;var te=o.getVisual("style"),he=te.stroke,me=Pn(w);me.fill=he;var ie=et(_);ie.fill=_.get("borderColor");var ce=et(x);ce.fill=x.get("borderColor");var pe=et(T);if(pe.fill=T.get("borderColor"),Q){var _e=f-2*p;W(H,he,te.opacity,{x:p,y:0,width:_e,height:b})}else H.removeTextContent();H.setStyle(me),H.ensureState("emphasis").style=ie,H.ensureState("blur").style=ce,H.ensureState("select").style=pe,Qt(H)}Z.add(H)}function G(Z,H){var Q=le(H);Q.dataIndex=o.dataIndex,Q.seriesIndex=r.seriesIndex;var q=Math.max(f-2*p,0),te=Math.max(g-2*p,0);if(H.culling=!0,H.setShape({x:p,y:p,width:q,height:te,r:L}),d)B(H);else{H.invisible=!1;var he=o.getVisual("style"),me=he.fill,ie=Pn(w);ie.fill=me,ie.decal=he.decal;var ce=et(_),pe=et(x),_e=et(T);W(H,me,he.opacity,null),H.setStyle(ie),H.ensureState("emphasis").style=ce,H.ensureState("blur").style=pe,H.ensureState("select").style=_e,Qt(H)}Z.add(H)}function B(Z){!Z.invisible&&i.push(Z)}function W(Z,H,Q,q){var te=c.getModel(q?Cn:Tn),he=fa(c.get("name"),null),me=te.getShallow("show");Te(Z,we(c,q?Cn:Tn),{defaultText:me?he:null,inheritColor:H,defaultOpacity:Q,labelFetcher:r,labelDataIndex:o.dataIndex});var ie=Z.getTextContent();if(ie){var ce=ie.style,pe=Ko(ce.padding||0);q&&(Z.setTextConfig({layoutRect:q}),ie.disableLabelLayout=!0),ie.beforeUpdate=function(){var Ot=Math.max((q?q.width:Z.shape.width)-pe[1]-pe[3],0),ze=Math.max((q?q.height:Z.shape.height)-pe[0]-pe[2],0);(ce.width!==Ot||ce.height!==ze)&&ie.setStyle({width:Ot,height:ze})},ce.truncateMinChar=2,ce.lineOverflow="truncate",$(ce,q,v);var _e=ie.getState("emphasis");$(_e?_e.style:null,q,v)}}function $(Z,H,Q){var q=Z?Z.text:null;if(!H&&Q.isLeafRoot&&q!=null){var te=r.get("drillDownIcon",!0);Z.text=te?te+" "+q:q}}function F(Z,H,Q,q){var te=y!=null&&e[Z][y],he=n[Z];return te?(e[Z][y]=null,X(he,te)):d||(te=new H,te instanceof hi&&(te.z2=nv(Q,q)),j(he,te)),t[Z][m]=te}function X(Z,H){var Q=Z[m]={};H instanceof or?(Q.oldX=H.x,Q.oldY=H.y):Q.oldShape=U({},H.shape)}function j(Z,H){var Q=Z[m]={},q=o.parentNode,te=H instanceof ae;if(q&&(!a||a.direction==="drillDown")){var he=0,me=0,ie=n.background[q.getRawIndex()];!a&&ie&&ie.oldShape&&(he=ie.oldShape.width,me=ie.oldShape.height),te?(Q.oldX=0,Q.oldY=me):Q.oldShape={x:he,y:me,width:0,height:0}}Q.fadein=!te}}function nv(r,t){return r*Ju+t}const iv=av;var ov="itemStyle",so=Vt();const lv={seriesType:"treemap",reset:function(r){var t=r.getData().tree,e=t.root;e.isRemoved()||uo(e,{},r.getViewRoot().getAncestors(),r)}};function uo(r,t,e,a){var n=r.getModel(),i=r.getLayout(),o=r.hostTree.data;if(!(!i||i.invisible||!i.isInView)){var l=n.getModel(ov),s=sv(l,t,a),u=o.ensureUniqueItemVisual(r.dataIndex,"style"),v=l.get("borderColor"),h=l.get("borderColorSaturation"),c;h!=null&&(c=Nn(s),v=uv(h,c)),u.stroke=v;var f=r.viewChildren;if(!f||!f.length)c=Nn(s),u.fill=c;else{var g=vv(r,n,i,l,s,f);k(f,function(p,d){if(p.depth>=e.length||p===e[p.depth]){var m=hv(n,s,p,d,g,a);uo(p,m,e,a)}})}}}function sv(r,t,e){var a=U({},t),n=e.designatedVisualItemStyle;return k(["color","colorAlpha","colorSaturation"],function(i){n[i]=t[i];var o=r.get(i);n[i]=null,o!=null&&(a[i]=o)}),a}function Nn(r){var t=Ea(r,"color");if(t){var e=Ea(r,"colorAlpha"),a=Ea(r,"colorSaturation");return a&&(t=ci(t,null,null,a)),e&&(t=Qo(t,e)),t}}function uv(r,t){return t!=null?ci(t,null,null,r):null}function Ea(r,t){var e=r[t];if(e!=null&&e!=="none")return e}function vv(r,t,e,a,n,i){if(!(!i||!i.length)){var o=Ma(t,"color")||n.color!=null&&n.color!=="none"&&(Ma(t,"colorAlpha")||Ma(t,"colorSaturation"));if(o){var l=t.get("visualMin"),s=t.get("visualMax"),u=e.dataExtent.slice();l!=null&&l<u[0]&&(u[0]=l),s!=null&&s>u[1]&&(u[1]=s);var v=t.get("colorMappingBy"),h={type:o.name,dataExtent:u,visual:o.range};h.type==="color"&&(v==="index"||v==="id")?(h.mappingMethod="category",h.loop=!0):h.mappingMethod="linear";var c=new Vi(h);return so(c).drColorMappingBy=v,c}}}function Ma(r,t){var e=r.get(t);return Y(e)&&e.length?{name:t,range:e}:null}function hv(r,t,e,a,n,i){var o=U({},t);if(n){var l=n.type,s=l==="color"&&so(n).drColorMappingBy,u=s==="index"?a:s==="id"?i.mapIdToIndex(e.getId()):e.getValue(r.get("visualDimension"));o[l]=n.mapValueToVisual(u)}return o}var Nt=Math.max,na=Math.min,En=Lt,xr=k,vo=["itemStyle","borderWidth"],cv=["itemStyle","gapWidth"],fv=["upperLabel","show"],pv=["upperLabel","height"];const gv={seriesType:"treemap",reset:function(r,t,e,a){var n=e.getWidth(),i=e.getHeight(),o=r.option,l=gt(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),s=o.size||[],u=O(En(l.width,s[0]),n),v=O(En(l.height,s[1]),i),h=a&&a.type,c=["treemapZoomToNode","treemapRootToNode"],f=Pt(a,c,r),g=h==="treemapRender"||h==="treemapMove"?a.rootRect:null,p=r.getViewRoot(),d=io(p);if(h!=="treemapMove"){var m=h==="treemapZoomToNode"?wv(r,f,p,u,v):g?[g.width,g.height]:[u,v],y=o.sort;y&&y!=="asc"&&y!=="desc"&&(y="desc");var S={squareRatio:o.squareRatio,sort:y,leafDepth:o.leafDepth};p.hostTree.clearLayouts();var b={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};p.setLayout(b),ho(p,S,!1,0),b=p.getLayout(),xr(d,function(w,_){var x=(d[_+1]||p).getValue();w.setLayout(U({dataExtent:[x,x],borderWidth:0,upperHeight:0},b))})}var D=r.getData().tree.root;D.setLayout(Dv(l,g,f),!0),r.setLayoutInfo(l),co(D,new ct(-l.x,-l.y,n,i),d,p,0)}};function ho(r,t,e,a){var n,i;if(!r.isRemoved()){var o=r.getLayout();n=o.width,i=o.height;var l=r.getModel(),s=l.get(vo),u=l.get(cv)/2,v=fo(l),h=Math.max(s,v),c=s-u,f=h-u;r.setLayout({borderWidth:s,upperHeight:h,upperLabelHeight:v},!0),n=Nt(n-2*c,0),i=Nt(i-c-f,0);var g=n*i,p=dv(r,l,g,t,e,a);if(p.length){var d={x:c,y:f,width:n,height:i},m=na(n,i),y=1/0,S=[];S.area=0;for(var b=0,D=p.length;b<D;){var w=p[b];S.push(w),S.area+=w.getLayout().area;var _=bv(S,m,t.squareRatio);_<=y?(b++,y=_):(S.area-=S.pop().getLayout().area,Mn(S,m,d,u,!1),m=na(d.width,d.height),S.length=S.area=0,y=1/0)}if(S.length&&Mn(S,m,d,u,!0),!e){var x=l.get("childrenVisibleMin");x!=null&&g<x&&(e=!0)}for(var b=0,D=p.length;b<D;b++)ho(p[b],t,e,a+1)}}}function dv(r,t,e,a,n,i){var o=r.children||[],l=a.sort;l!=="asc"&&l!=="desc"&&(l=null);var s=a.leafDepth!=null&&a.leafDepth<=i;if(n&&!s)return r.viewChildren=[];o=fr(o,function(f){return!f.isRemoved()}),mv(o,l);var u=Sv(t,o,l);if(u.sum===0)return r.viewChildren=[];if(u.sum=yv(t,e,u.sum,l,o),u.sum===0)return r.viewChildren=[];for(var v=0,h=o.length;v<h;v++){var c=o[v].getValue()/u.sum*e;o[v].setLayout({area:c})}return s&&(o.length&&r.setLayout({isLeafRoot:!0},!0),o.length=0),r.viewChildren=o,r.setLayout({dataExtent:u.dataExtent},!0),o}function yv(r,t,e,a,n){if(!a)return e;for(var i=r.get("visibleMin"),o=n.length,l=o,s=o-1;s>=0;s--){var u=n[a==="asc"?o-s-1:s].getValue();u/e*t<i&&(l=s,e-=u)}return a==="asc"?n.splice(0,o-l):n.splice(l,o-l),e}function mv(r,t){return t&&r.sort(function(e,a){var n=t==="asc"?e.getValue()-a.getValue():a.getValue()-e.getValue();return n===0?t==="asc"?e.dataIndex-a.dataIndex:a.dataIndex-e.dataIndex:n}),r}function Sv(r,t,e){for(var a=0,n=0,i=t.length;n<i;n++)a+=t[n].getValue();var o=r.get("visualDimension"),l;return!t||!t.length?l=[NaN,NaN]:o==="value"&&e?(l=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&l.reverse()):(l=[1/0,-1/0],xr(t,function(s){var u=s.getValue(o);u<l[0]&&(l[0]=u),u>l[1]&&(l[1]=u)})),{sum:a,dataExtent:l}}function bv(r,t,e){for(var a=0,n=1/0,i=0,o=void 0,l=r.length;i<l;i++)o=r[i].getLayout().area,o&&(o<n&&(n=o),o>a&&(a=o));var s=r.area*r.area,u=t*t*e;return s?Nt(u*a/s,s/(u*n)):1/0}function Mn(r,t,e,a,n){var i=t===e.width?0:1,o=1-i,l=["x","y"],s=["width","height"],u=e[l[i]],v=t?r.area/t:0;(n||v>e[s[o]])&&(v=e[s[o]]);for(var h=0,c=r.length;h<c;h++){var f=r[h],g={},p=v?f.getLayout().area/v:0,d=g[s[o]]=Nt(v-2*a,0),m=e[l[i]]+e[s[i]]-u,y=h===c-1||m<p?m:p,S=g[s[i]]=Nt(y-2*a,0);g[l[o]]=e[l[o]]+na(a,d/2),g[l[i]]=u+na(a,S/2),u+=y,f.setLayout(g,!0)}e[l[o]]+=v,e[s[o]]-=v}function wv(r,t,e,a,n){var i=(t||{}).node,o=[a,n];if(!i||i===e)return o;for(var l,s=a*n,u=s*r.option.zoomToNodeRatio;l=i.parentNode;){for(var v=0,h=l.children,c=0,f=h.length;c<f;c++)v+=h[c].getValue();var g=i.getValue();if(g===0)return o;u*=v/g;var p=l.getModel(),d=p.get(vo),m=Math.max(d,fo(p));u+=4*d*d+(3*d+m)*Math.pow(u,.5),u>Yr&&(u=Yr),i=l}u<s&&(u=s);var y=Math.pow(u/s,.5);return[a*y,n*y]}function Dv(r,t,e){if(t)return{x:t.x,y:t.y};var a={x:0,y:0};if(!e)return a;var n=e.node,i=n.getLayout();if(!i)return a;for(var o=[i.width/2,i.height/2],l=n;l;){var s=l.getLayout();o[0]+=s.x,o[1]+=s.y,l=l.parentNode}return{x:r.width/2-o[0],y:r.height/2-o[1]}}function co(r,t,e,a,n){var i=r.getLayout(),o=e[n],l=o&&o===r;if(!(o&&!l||n===e.length&&r!==a)){r.setLayout({isInView:!0,invisible:!l&&!t.intersect(i),isAboveViewRoot:l},!0);var s=new ct(t.x-i.x,t.y-i.y,t.width,t.height);xr(r.viewChildren||[],function(u){co(u,s,e,a,n+1)})}}function fo(r){return r.get(fv)?r.get(pv):0}function mp(r){r.registerSeriesModel(Uu),r.registerChartView(iv),r.registerVisual(lv),r.registerLayout(gv),Hu(r)}function _v(r){var t=r.findComponents({mainType:"legend"});!t||!t.length||r.eachSeriesByType("graph",function(e){var a=e.getCategoriesData(),n=e.getGraph(),i=n.data,o=a.mapArray(a.getName);i.filterSelf(function(l){var s=i.getItemModel(l),u=s.getShallow("category");if(u!=null){Ie(u)&&(u=o[u]);for(var v=0;v<t.length;v++)if(!t[v].isSelected(u))return!1}return!0})})}function xv(r){var t={};r.eachSeriesByType("graph",function(e){var a=e.getCategoriesData(),n=e.getData(),i={};a.each(function(o){var l=a.getName(o);i["ec-"+l]=o;var s=a.getItemModel(o),u=s.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(l,t)),a.setItemVisual(o,"style",u);for(var v=["symbol","symbolSize","symbolKeepAspect"],h=0;h<v.length;h++){var c=s.getShallow(v[h],!0);c!=null&&a.setItemVisual(o,v[h],c)}}),a.count()&&n.each(function(o){var l=n.getItemModel(o),s=l.getShallow("category");if(s!=null){Re(s)&&(s=i["ec-"+s]);var u=a.getItemVisual(s,"style"),v=n.ensureUniqueItemVisual(o,"style");U(v,u);for(var h=["symbol","symbolSize","symbolKeepAspect"],c=0;c<h.length;c++)n.setItemVisual(o,h[c],a.getItemVisual(s,h[c]))}})})}function Zt(r){return r instanceof Array||(r=[r,r]),r}function Av(r){r.eachSeriesByType("graph",function(t){var e=t.getGraph(),a=t.getEdgeData(),n=Zt(t.get("edgeSymbol")),i=Zt(t.get("edgeSymbolSize"));a.setVisual("fromSymbol",n&&n[0]),a.setVisual("toSymbol",n&&n[1]),a.setVisual("fromSymbolSize",i&&i[0]),a.setVisual("toSymbolSize",i&&i[1]),a.setVisual("style",t.getModel("lineStyle").getLineStyle()),a.each(function(o){var l=a.getItemModel(o),s=e.getEdgeByIndex(o),u=Zt(l.getShallow("symbol",!0)),v=Zt(l.getShallow("symbolSize",!0)),h=l.getModel("lineStyle").getLineStyle(),c=a.ensureUniqueItemVisual(o,"style");switch(U(c,h),c.stroke){case"source":{var f=s.node1.getVisual("style");c.stroke=f&&f.fill;break}case"target":{var f=s.node2.getVisual("style");c.stroke=f&&f.fill;break}}u[0]&&s.setVisual("fromSymbol",u[0]),u[1]&&s.setVisual("toSymbol",u[1]),v[0]&&s.setVisual("fromSymbolSize",v[0]),v[1]&&s.setVisual("toSymbolSize",v[1])})})}var lr="-->",ba=function(r){return r.get("autoCurveness")||null},po=function(r,t){var e=ba(r),a=20,n=[];if(Ie(e))a=e;else if(Y(e)){r.__curvenessList=e;return}t>a&&(a=t);var i=a%2?a+2:a+3;n=[];for(var o=0;o<i;o++)n.push((o%2?o+1:o)/10*(o%2?-1:1));r.__curvenessList=n},Et=function(r,t,e){var a=[r.id,r.dataIndex].join("."),n=[t.id,t.dataIndex].join(".");return[e.uid,a,n].join(lr)},go=function(r){var t=r.split(lr);return[t[0],t[2],t[1]].join(lr)},Iv=function(r,t){var e=Et(r.node1,r.node2,t);return t.__edgeMap[e]},Lv=function(r,t){var e=sr(Et(r.node1,r.node2,t),t),a=sr(Et(r.node2,r.node1,t),t);return e+a},sr=function(r,t){var e=t.__edgeMap;return e[r]?e[r].length:0};function Tv(r){ba(r)&&(r.__curvenessList=[],r.__edgeMap={},po(r))}function Cv(r,t,e,a){if(ba(e)){var n=Et(r,t,e),i=e.__edgeMap,o=i[go(n)];i[n]&&!o?i[n].isForward=!0:o&&i[n]&&(o.isForward=!0,i[n].isForward=!1),i[n]=i[n]||[],i[n].push(a)}}function Ar(r,t,e,a){var n=ba(t),i=Y(n);if(!n)return null;var o=Iv(r,t);if(!o)return null;for(var l=-1,s=0;s<o.length;s++)if(o[s]===e){l=s;break}var u=Lv(r,t);po(t,u),r.lineStyle=r.lineStyle||{};var v=Et(r.node1,r.node2,t),h=t.__curvenessList,c=i||u%2?0:1;if(o.isForward)return h[c+l];var f=go(v),g=sr(f,t),p=h[l+g+c];return a?i?n&&n[0]===0?(g+c)%2?p:-p:((g%2?0:1)+c)%2?p:-p:(g+c)%2?p:-p:h[l+g+c]}function yo(r){var t=r.coordinateSystem;if(!(t&&t.type!=="view")){var e=r.getGraph();e.eachNode(function(a){var n=a.getModel();a.setLayout([+n.get("x"),+n.get("y")])}),Ir(e,r)}}function Ir(r,t){r.eachEdge(function(e,a){var n=Mt(e.getModel().get(["lineStyle","curveness"]),-Ar(e,t,a,!0),0),i=qe(e.node1.getLayout()),o=qe(e.node2.getLayout()),l=[i,o];+n&&l.push([(i[0]+o[0])/2-(i[1]-o[1])*n,(i[1]+o[1])/2-(o[0]-i[0])*n]),e.setLayout(l)})}function Pv(r,t){r.eachSeriesByType("graph",function(e){var a=e.get("layout"),n=e.coordinateSystem;if(n&&n.type!=="view"){var i=e.getData(),o=[];k(n.dimensions,function(c){o=o.concat(i.mapDimensionsAll(c))});for(var l=0;l<i.count();l++){for(var s=[],u=!1,v=0;v<o.length;v++){var h=i.get(o[v],l);isNaN(h)||(u=!0),s.push(h)}u?i.setItemLayout(l,n.dataToPoint(s)):i.setItemLayout(l,[NaN,NaN])}Ir(i.graph,e)}else(!a||a==="none")&&yo(e)})}function _t(r){var t=r.coordinateSystem;if(t.type!=="view")return 1;var e=r.option.nodeScaleRatio,a=t.scaleX,n=t.getZoom(),i=(n-1)*e+1;return i/a}function xt(r){var t=r.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var Rn=Math.PI,Ra=[];function Lr(r,t,e,a){var n=r.coordinateSystem;if(!(n&&n.type!=="view")){var i=n.getBoundingRect(),o=r.getData(),l=o.graph,s=i.width/2+i.x,u=i.height/2+i.y,v=Math.min(i.width,i.height)/2,h=o.count();if(o.setLayout({cx:s,cy:u}),!!h){if(e){var c=n.pointToData(a),f=c[0],g=c[1],p=[f-s,g-u];pr(p,p),Jo(p,p,v),e.setLayout([s+p[0],u+p[1]],!0);var d=r.get(["circular","rotateLabel"]);mo(e,d,s,u)}Nv[t](r,l,o,v,s,u,h),l.eachEdge(function(m,y){var S=Mt(m.getModel().get(["lineStyle","curveness"]),Ar(m,r,y),0),b=qe(m.node1.getLayout()),D=qe(m.node2.getLayout()),w,_=(b[0]+D[0])/2,x=(b[1]+D[1])/2;+S&&(S*=3,w=[s*S+_*(1-S),u*S+x*(1-S)]),m.setLayout([b,D,w])})}}}var Nv={value:function(r,t,e,a,n,i,o){var l=0,s=e.getSum("value"),u=Math.PI*2/(s||o);t.eachNode(function(v){var h=v.getValue("value"),c=u*(s?h:1)/2;l+=c,v.setLayout([a*Math.cos(l)+n,a*Math.sin(l)+i]),l+=c})},symbolSize:function(r,t,e,a,n,i,o){var l=0;Ra.length=o;var s=_t(r);t.eachNode(function(h){var c=xt(h);isNaN(c)&&(c=2),c<0&&(c=0),c*=s;var f=Math.asin(c/2/a);isNaN(f)&&(f=Rn/2),Ra[h.dataIndex]=f,l+=f*2});var u=(2*Rn-l)/o/2,v=0;t.eachNode(function(h){var c=u+Ra[h.dataIndex];v+=c,(!h.getLayout()||!h.getLayout().fixed)&&h.setLayout([a*Math.cos(v)+n,a*Math.sin(v)+i]),v+=c})}};function mo(r,t,e,a){var n=r.getGraphicEl();if(n){var i=r.getModel(),o=i.get(["label","rotate"])||0,l=n.getSymbolPath();if(t){var s=r.getLayout(),u=Math.atan2(s[1]-a,s[0]-e);u<0&&(u=Math.PI*2+u);var v=s[0]<e;v&&(u=u-Math.PI);var h=v?"left":"right";l.setTextConfig({rotation:-u,position:h,origin:"center"});var c=l.ensureState("emphasis");U(c.textConfig||(c.textConfig={}),{position:h})}else l.setTextConfig({rotation:o*=Math.PI/180})}}function Ev(r){r.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&Lr(t,"symbolSize")})}var st=er;function Mv(r,t,e){for(var a=r,n=t,i=e.rect,o=i.width,l=i.height,s=[i.x+o/2,i.y+l/2],u=e.gravity==null?.1:e.gravity,v=0;v<a.length;v++){var h=a[v];h.p||(h.p=el(o*(Math.random()-.5)+s[0],l*(Math.random()-.5)+s[1])),h.pp=qe(h.p),h.edges=null}var c=e.friction==null?.6:e.friction,f=c,g,p;return{warmUp:function(){f=c*.8},setFixed:function(d){a[d].fixed=!0},setUnfixed:function(d){a[d].fixed=!1},beforeStep:function(d){g=d},afterStep:function(d){p=d},step:function(d){g&&g(a,n);for(var m=[],y=a.length,S=0;S<n.length;S++){var b=n[S];if(!b.ignoreForceLayout){var D=b.n1,w=b.n2;bt(m,w.p,D.p);var _=Or(m)-b.d,x=w.w/(D.w+w.w);isNaN(x)&&(x=0),pr(m,m),!D.fixed&&st(D.p,D.p,m,x*_*f),!w.fixed&&st(w.p,w.p,m,-(1-x)*_*f)}}for(var S=0;S<y;S++){var T=a[S];T.fixed||(bt(m,s,T.p),st(T.p,T.p,m,u*f))}for(var S=0;S<y;S++)for(var D=a[S],L=S+1;L<y;L++){var w=a[L];bt(m,w.p,D.p);var _=Or(m);_===0&&(tl(m,Math.random()-.5,Math.random()-.5),_=1);var A=(D.rep+w.rep)/_/_;!D.fixed&&st(D.pp,D.pp,m,A),!w.fixed&&st(w.pp,w.pp,m,-A)}for(var I=[],S=0;S<y;S++){var T=a[S];T.fixed||(bt(I,T.p,T.pp),st(T.p,T.p,I,f),Se(T.pp,T.p))}f=f*.992;var N=f<.01;p&&p(a,n,N),d&&d(N)}}}function Rv(r){r.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view"))if(t.get("layout")==="force"){var a=t.preservedPoints||{},n=t.getGraph(),i=n.data,o=n.edgeData,l=t.getModel("force"),s=l.get("initLayout");t.preservedPoints?i.each(function(S){var b=i.getId(S);i.setItemLayout(S,a[b]||[NaN,NaN])}):!s||s==="none"?yo(t):s==="circular"&&Lr(t,"value");var u=i.getDataExtent("value"),v=o.getDataExtent("value"),h=l.get("repulsion"),c=l.get("edgeLength"),f=Y(h)?h:[h,h],g=Y(c)?c:[c,c];g=[g[1],g[0]];var p=i.mapArray("value",function(S,b){var D=i.getItemLayout(b),w=Ce(S,u,f);return isNaN(w)&&(w=(f[0]+f[1])/2),{w,rep:w,fixed:i.getItemModel(b).get("fixed"),p:!D||isNaN(D[0])||isNaN(D[1])?null:D}}),d=o.mapArray("value",function(S,b){var D=n.getEdgeByIndex(b),w=Ce(S,v,g);isNaN(w)&&(w=(g[0]+g[1])/2);var _=D.getModel(),x=Mt(D.getModel().get(["lineStyle","curveness"]),-Ar(D,t,b,!0),0);return{n1:p[D.node1.dataIndex],n2:p[D.node2.dataIndex],d:w,curveness:x,ignoreForceLayout:_.get("ignoreForceLayout")}}),m=e.getBoundingRect(),y=Mv(p,d,{rect:m,gravity:l.get("gravity"),friction:l.get("friction")});y.beforeStep(function(S,b){for(var D=0,w=S.length;D<w;D++)S[D].fixed&&Se(S[D].p,n.getNodeByIndex(D).getLayout())}),y.afterStep(function(S,b,D){for(var w=0,_=S.length;w<_;w++)S[w].fixed||n.getNodeByIndex(w).setLayout(S[w].p),a[i.getId(w)]=S[w].p;for(var w=0,_=b.length;w<_;w++){var x=b[w],T=n.getEdgeByIndex(w),L=x.n1.p,A=x.n2.p,I=T.getLayout();I=I?I.slice():[],I[0]=I[0]||[],I[1]=I[1]||[],Se(I[0],L),Se(I[1],A),+x.curveness&&(I[2]=[(L[0]+A[0])/2-(L[1]-A[1])*x.curveness,(L[1]+A[1])/2-(A[0]-L[0])*x.curveness]),T.setLayout(I)}}),t.forceLayout=y,t.preservedPoints=a,y.step()}else t.forceLayout=null})}function Vv(r,t,e){var a=U(r.getBoxLayoutParams(),{aspect:e});return gt(a,{width:t.getWidth(),height:t.getHeight()})}function kv(r,t){var e=[];return r.eachSeriesByType("graph",function(a){var n=a.get("coordinateSystem");if(!n||n==="view"){var i=a.getData(),o=i.mapArray(function(d){var m=i.getItemModel(d);return[+m.get("x"),+m.get("y")]}),l=[],s=[];vi(o,l,s),s[0]-l[0]===0&&(s[0]+=1,l[0]-=1),s[1]-l[1]===0&&(s[1]+=1,l[1]-=1);var u=(s[0]-l[0])/(s[1]-l[1]),v=Vv(a,t,u);isNaN(u)&&(l=[v.x,v.y],s=[v.x+v.width,v.y+v.height]);var h=s[0]-l[0],c=s[1]-l[1],f=v.width,g=v.height,p=a.coordinateSystem=new Sr;p.zoomLimit=a.get("scaleLimit"),p.setBoundingRect(l[0],l[1],h,c),p.setViewRect(v.x,v.y,f,g),p.setCenter(a.get("center"),t),p.setZoom(a.get("zoom")),e.push(p)}}),e}var Va=[],ka=[],za=[],ut=fi,Ba=rl,Vn=Math.abs;function kn(r,t,e){for(var a=r[0],n=r[1],i=r[2],o=1/0,l,s=e*e,u=.1,v=.1;v<=.9;v+=.1){Va[0]=ut(a[0],n[0],i[0],v),Va[1]=ut(a[1],n[1],i[1],v);var h=Vn(Ba(Va,t)-s);h<o&&(o=h,l=v)}for(var c=0;c<32;c++){var f=l+u;ka[0]=ut(a[0],n[0],i[0],l),ka[1]=ut(a[1],n[1],i[1],l),za[0]=ut(a[0],n[0],i[0],f),za[1]=ut(a[1],n[1],i[1],f);var h=Ba(ka,t)-s;if(Vn(h)<.01)break;var g=Ba(za,t)-s;u/=2,h<0?g>=0?l=l+u:l=l-u:g>=0?l=l-u:l=l+u}return l}function Ga(r,t){var e=[],a=al,n=[[],[],[]],i=[[],[]],o=[];t/=2,r.eachEdge(function(l,s){var u=l.getLayout(),v=l.getVisual("fromSymbol"),h=l.getVisual("toSymbol");u.__original||(u.__original=[qe(u[0]),qe(u[1])],u[2]&&u.__original.push(qe(u[2])));var c=u.__original;if(u[2]!=null){if(Se(n[0],c[0]),Se(n[1],c[2]),Se(n[2],c[1]),v&&v!=="none"){var f=xt(l.node1),g=kn(n,c[0],f*t);a(n[0][0],n[1][0],n[2][0],g,e),n[0][0]=e[3],n[1][0]=e[4],a(n[0][1],n[1][1],n[2][1],g,e),n[0][1]=e[3],n[1][1]=e[4]}if(h&&h!=="none"){var f=xt(l.node2),g=kn(n,c[1],f*t);a(n[0][0],n[1][0],n[2][0],g,e),n[1][0]=e[1],n[2][0]=e[2],a(n[0][1],n[1][1],n[2][1],g,e),n[1][1]=e[1],n[2][1]=e[2]}Se(u[0],n[0]),Se(u[1],n[2]),Se(u[2],n[1])}else{if(Se(i[0],c[0]),Se(i[1],c[1]),bt(o,i[1],i[0]),pr(o,o),v&&v!=="none"){var f=xt(l.node1);er(i[0],i[0],o,f*t)}if(h&&h!=="none"){var f=xt(l.node2);er(i[1],i[1],o,-f*t)}Se(u[0],i[0]),Se(u[1],i[1])}})}function zn(r){return r.type==="view"}var zv=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,a){var n=new ga,i=new ki,o=this.group;this._controller=new mr(a.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},t.prototype.render=function(e,a,n){var i=this,o=e.coordinateSystem;this._model=e;var l=this._symbolDraw,s=this._lineDraw,u=this.group;if(zn(o)){var v={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?u.attr(v):K(u,v,e)}Ga(e.getGraph(),_t(e));var h=e.getData();l.updateData(h);var c=e.getEdgeData();s.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,a,n),clearTimeout(this._layoutTimeout);var f=e.forceLayout,g=e.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,g);var p=e.get("layout");h.graph.eachNode(function(S){var b=S.dataIndex,D=S.getGraphicEl(),w=S.getModel();if(D){D.off("drag").off("dragend");var _=w.get("draggable");_&&D.on("drag",function(T){switch(p){case"force":f.warmUp(),!i._layouting&&i._startForceLayoutIteration(f,g),f.setFixed(b),h.setItemLayout(b,[D.x,D.y]);break;case"circular":h.setItemLayout(b,[D.x,D.y]),S.setLayout({fixed:!0},!0),Lr(e,"symbolSize",S,[T.offsetX,T.offsetY]),i.updateLayout(e);break;case"none":default:h.setItemLayout(b,[D.x,D.y]),Ir(e.getGraph(),e),i.updateLayout(e);break}}).on("dragend",function(){f&&f.setUnfixed(b)}),D.setDraggable(_,!!w.get("cursor"));var x=w.get(["emphasis","focus"]);x==="adjacency"&&(le(D).focus=S.getAdjacentDataIndices())}}),h.graph.eachEdge(function(S){var b=S.getGraphicEl(),D=S.getModel().get(["emphasis","focus"]);b&&D==="adjacency"&&(le(b).focus={edge:[S.dataIndex],node:[S.node1.dataIndex,S.node2.dataIndex]})});var d=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),m=h.getLayout("cx"),y=h.getLayout("cy");h.graph.eachNode(function(S){mo(S,d,m,y)}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,a){var n=this;(function i(){e.step(function(o){n.updateLayout(n._model),(n._layouting=!o)&&(a?n._layoutTimeout=setTimeout(i,16):i())})})()},t.prototype._updateController=function(e,a,n){var i=this,o=this._controller,l=this._controllerHost,s=this.group;if(o.setPointerChecker(function(u,v,h){var c=s.getBoundingRect();return c.applyTransform(s.transform),c.contain(v,h)&&!Ni(u,n,e)}),!zn(e.coordinateSystem)){o.disable();return}o.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){Ei(l,u.dx,u.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Mi(l,u.scale,u.originX,u.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),i._updateNodeAndLinkScale(),Ga(e.getGraph(),_t(e)),i._lineDraw.updateLayout(),n.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,a=e.getData(),n=_t(e);a.eachItemGraphicEl(function(i,o){i&&i.setSymbolScale(n)})},t.prototype.updateLayout=function(e){Ga(e.getGraph(),_t(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,a){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(ee);const Bv=zv;function vt(r){return"_EC_"+r}var Gv=function(){function r(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var a=this._nodesMap;if(!a[vt(t)]){var n=new tt(t,e);return n.hostGraph=this,this.nodes.push(n),a[vt(t)]=n,n}},r.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},r.prototype.getNodeById=function(t){return this._nodesMap[vt(t)]},r.prototype.addEdge=function(t,e,a){var n=this._nodesMap,i=this._edgesMap;if(Ie(t)&&(t=this.nodes[t]),Ie(e)&&(e=this.nodes[e]),t instanceof tt||(t=n[vt(t)]),e instanceof tt||(e=n[vt(e)]),!(!t||!e)){var o=t.id+"-"+e.id,l=new So(t,e,a);return l.hostGraph=this,this._directed&&(t.outEdges.push(l),e.inEdges.push(l)),t.edges.push(l),t!==e&&e.edges.push(l),this.edges.push(l),i[o]=l,l}},r.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},r.prototype.getEdge=function(t,e){t instanceof tt&&(t=t.id),e instanceof tt&&(e=e.id);var a=this._edgesMap;return this._directed?a[t+"-"+e]:a[t+"-"+e]||a[e+"-"+t]},r.prototype.eachNode=function(t,e){for(var a=this.nodes,n=a.length,i=0;i<n;i++)a[i].dataIndex>=0&&t.call(e,a[i],i)},r.prototype.eachEdge=function(t,e){for(var a=this.edges,n=a.length,i=0;i<n;i++)a[i].dataIndex>=0&&a[i].node1.dataIndex>=0&&a[i].node2.dataIndex>=0&&t.call(e,a[i],i)},r.prototype.breadthFirstTraverse=function(t,e,a,n){if(e instanceof tt||(e=this._nodesMap[vt(e)]),!!e){for(var i=a==="out"?"outEdges":a==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(n,e,null))for(var l=[e];l.length;)for(var s=l.shift(),u=s[i],o=0;o<u.length;o++){var v=u[o],h=v.node1===s?v.node2:v.node1;if(!h.__visited){if(t.call(n,h,s))return;l.push(h),h.__visited=!0}}}},r.prototype.update=function(){for(var t=this.data,e=this.edgeData,a=this.nodes,n=this.edges,i=0,o=a.length;i<o;i++)a[i].dataIndex=-1;for(var i=0,o=t.count();i<o;i++)a[t.getRawIndex(i)].dataIndex=i;e.filterSelf(function(l){var s=n[e.getRawIndex(l)];return s.node1.dataIndex>=0&&s.node2.dataIndex>=0});for(var i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(var i=0,o=e.count();i<o;i++)n[e.getRawIndex(i)].dataIndex=i},r.prototype.clone=function(){for(var t=new r(this._directed),e=this.nodes,a=this.edges,n=0;n<e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(var n=0;n<a.length;n++){var i=a[n];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},r}(),tt=function(){function r(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,a=e.data.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var a=this.edges[e];a.dataIndex<0||(t.edge.push(a.dataIndex),t.node.push(a.node1.dataIndex,a.node2.dataIndex))}return t},r}(),So=function(){function r(t,e,a){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=a??-1}return r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,a=e.edgeData.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r}();function bo(r,t){return{getValue:function(e){var a=this[r][t];return a.getStore().get(a.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,a){this.dataIndex>=0&&this[r][t].setItemVisual(this.dataIndex,e,a)},getVisual:function(e){return this[r][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,a){this.dataIndex>=0&&this[r][t].setItemLayout(this.dataIndex,e,a)},getLayout:function(){return this[r][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][t].getRawIndex(this.dataIndex)}}}la(tt,bo("hostGraph","data"));la(So,bo("hostGraph","edgeData"));const Ov=Gv;function wo(r,t,e,a,n){for(var i=new Ov(a),o=0;o<r.length;o++)i.addNode(Lt(r[o].id,r[o].name,o),o);for(var l=[],s=[],u=0,o=0;o<t.length;o++){var v=t[o],h=v.source,c=v.target;i.addEdge(h,c,u)&&(s.push(v),l.push(Lt(fa(v.id,null),h+" > "+c)),u++)}var f=e.get("coordinateSystem"),g;if(f==="cartesian2d"||f==="polar")g=He(r,e);else{var p=xi.get(f),d=p?p.dimensions||[]:[];ft(d,"value")<0&&d.concat(["value"]);var m=sa(r,{coordDimensions:d,encodeDefine:e.getEncode()}).dimensions;g=new ot(m,e),g.initData(r)}var y=new ot(["value"],e);return y.initData(s,l),n&&n(g,y),ro({mainData:g,struct:i,structAttr:"graph",datas:{node:g,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}var Fv=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments);var a=this;function n(){return a._categoriesData}this.legendVisualProvider=new Gt(n,n),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){r.prototype.mergeDefaultAndTheme.apply(this,arguments),dr(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,a){var n=e.edges||e.links||[],i=e.data||e.nodes||[],o=this;if(i&&n){Tv(this);var l=wo(i,n,this,!0,s);return k(l.edges,function(u){Cv(u.node1,u.node2,this,u.dataIndex)},this),l.data}function s(u,v){u.wrapMethod("getItemModel",function(g){var p=o._categoriesModels,d=g.getShallow("category"),m=p[d];return m&&(m.parentModel=g.parentModel,g.parentModel=m),g});var h=lt.prototype.getModel;function c(g,p){var d=h.call(this,g,p);return d.resolveParentPath=f,d}v.wrapMethod("getItemModel",function(g){return g.resolveParentPath=f,g.getModel=c,g});function f(g){if(g&&(g[0]==="label"||g[1]==="label")){var p=g.slice();return g[0]==="label"?p[0]="edgeLabel":g[1]==="label"&&(p[1]="edgeLabel"),p}return g}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,a,n){if(n==="edge"){var i=this.getData(),o=this.getDataParams(e,n),l=i.graph.getEdgeByIndex(e),s=i.getName(l.node1.dataIndex),u=i.getName(l.node2.dataIndex),v=[];return s!=null&&v.push(s),u!=null&&v.push(u),Pe("nameValue",{name:v.join(" > "),value:o.value,noValue:o.value==null})}var h=_l({series:this,dataIndex:e,multipleSeries:a});return h},t.prototype._updateCategoriesData=function(){var e=J(this.option.categories||[],function(n){return n.value!=null?n:U({value:0},n)}),a=new ot(["value"],this);a.initData(e),this._categoriesData=a,this._categoriesModels=a.mapArray(function(n){return a.getItemModel(n)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(ne);const Hv=Fv;var $v={type:"graphRoam",event:"graphRoam",update:"none"};function Sp(r){r.registerChartView(Bv),r.registerSeriesModel(Hv),r.registerProcessor(_v),r.registerVisual(xv),r.registerVisual(Av),r.registerLayout(Pv),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,Ev),r.registerLayout(Rv),r.registerCoordinateSystem("graphView",{dimensions:Sr.dimensions,create:kv}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Ja),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Ja),r.registerAction($v,function(t,e,a){e.eachComponent({mainType:"series",query:t},function(n){var i=n.coordinateSystem,o=Ri(i,t,void 0,a);n.setCenter&&n.setCenter(o.center),n.setZoom&&n.setZoom(o.zoom)})})}var Wv=function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r}(),Uv=function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="pointer",a}return t.prototype.getDefaultShape=function(){return new Wv},t.prototype.buildPath=function(e,a){var n=Math.cos,i=Math.sin,o=a.r,l=a.width,s=a.angle,u=a.x-n(s)*l*(l>=o/3?1:2),v=a.y-i(s)*l*(l>=o/3?1:2);s=a.angle-Math.PI/2,e.moveTo(u,v),e.lineTo(a.x+n(s)*l,a.y+i(s)*l),e.lineTo(a.x+n(a.angle)*o,a.y+i(a.angle)*o),e.lineTo(a.x-n(s)*l,a.y-i(s)*l),e.lineTo(u,v)},t}(De);const Zv=Uv;function Xv(r,t){var e=r.get("center"),a=t.getWidth(),n=t.getHeight(),i=Math.min(a,n),o=O(e[0],t.getWidth()),l=O(e[1],t.getHeight()),s=O(r.get("radius"),i/2);return{cx:o,cy:l,r:s}}function Xt(r,t){var e=r==null?"":r+"";return t&&(Re(t)?e=t.replace("{value}",e):be(t)&&(e=t(r))),e}var Yv=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){this.group.removeAll();var i=e.get(["axisLine","lineStyle","color"]),o=Xv(e,n);this._renderMain(e,a,n,i,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,a,n,i,o){var l=this.group,s=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,v=-e.get("endAngle")/180*Math.PI,h=e.getModel("axisLine"),c=h.get("roundCap"),f=c?aa:Ke,g=h.get("show"),p=h.getModel("lineStyle"),d=p.get("width"),m=[u,v];nl(m,!s),u=m[0],v=m[1];for(var y=v-u,S=u,b=[],D=0;g&&D<i.length;D++){var w=Math.min(Math.max(i[D][0],0),1);v=u+y*w;var _=new f({shape:{startAngle:S,endAngle:v,cx:o.cx,cy:o.cy,clockwise:s,r0:o.r-d,r:o.r},silent:!0});_.setStyle({fill:i[D][1]}),_.setStyle(p.getLineStyle(["color","width"])),b.push(_),S=v}b.reverse(),k(b,function(T){return l.add(T)});var x=function(T){if(T<=0)return i[0][1];var L;for(L=0;L<i.length;L++)if(i[L][0]>=T&&(L===0?0:i[L-1][0])<T)return i[L][1];return i[L-1][1]};this._renderTicks(e,a,n,x,o,u,v,s,d),this._renderTitleAndDetail(e,a,n,x,o),this._renderAnchor(e,o),this._renderPointer(e,a,n,x,o,u,v,s,d)},t.prototype._renderTicks=function(e,a,n,i,o,l,s,u,v){for(var h=this.group,c=o.cx,f=o.cy,g=o.r,p=+e.get("min"),d=+e.get("max"),m=e.getModel("splitLine"),y=e.getModel("axisTick"),S=e.getModel("axisLabel"),b=e.get("splitNumber"),D=y.get("splitNumber"),w=O(m.get("length"),g),_=O(y.get("length"),g),x=l,T=(s-l)/b,L=T/D,A=m.getModel("lineStyle").getLineStyle(),I=y.getModel("lineStyle").getLineStyle(),N=m.get("distance"),C,P,E=0;E<=b;E++){if(C=Math.cos(x),P=Math.sin(x),m.get("show")){var R=N?N+v:v,M=new qr({shape:{x1:C*(g-R)+c,y1:P*(g-R)+f,x2:C*(g-w-R)+c,y2:P*(g-w-R)+f},style:A,silent:!0});A.stroke==="auto"&&M.setStyle({stroke:i(E/b)}),h.add(M)}if(S.get("show")){var R=S.get("distance")+N,V=Xt(wt(E/b*(d-p)+p),S.get("formatter")),G=i(E/b),B=C*(g-w-R)+c,W=P*(g-w-R)+f,$=S.get("rotate"),F=0;$==="radial"?(F=-x+2*Math.PI,F>Math.PI/2&&(F+=Math.PI)):$==="tangential"?F=-x-Math.PI/2:Ie($)&&(F=$*Math.PI/180),F===0?h.add(new Ee({style:Be(S,{text:V,x:B,y:W,verticalAlign:P<-.8?"top":P>.8?"bottom":"middle",align:C<-.4?"left":C>.4?"right":"center"},{inheritColor:G}),silent:!0})):h.add(new Ee({style:Be(S,{text:V,x:B,y:W,verticalAlign:"middle",align:"center"},{inheritColor:G}),silent:!0,originX:B,originY:W,rotation:F}))}if(y.get("show")&&E!==b){var R=y.get("distance");R=R?R+v:v;for(var X=0;X<=D;X++){C=Math.cos(x),P=Math.sin(x);var j=new qr({shape:{x1:C*(g-R)+c,y1:P*(g-R)+f,x2:C*(g-_-R)+c,y2:P*(g-_-R)+f},silent:!0,style:I});I.stroke==="auto"&&j.setStyle({stroke:i((E+X/D)/b)}),h.add(j),x+=L}x-=L}else x+=T}},t.prototype._renderPointer=function(e,a,n,i,o,l,s,u,v){var h=this.group,c=this._data,f=this._progressEls,g=[],p=e.get(["pointer","show"]),d=e.getModel("progress"),m=d.get("show"),y=e.getData(),S=y.mapDimension("value"),b=+e.get("min"),D=+e.get("max"),w=[b,D],_=[l,s];function x(L,A){var I=y.getItemModel(L),N=I.getModel("pointer"),C=O(N.get("width"),o.r),P=O(N.get("length"),o.r),E=e.get(["pointer","icon"]),R=N.get("offsetCenter"),M=O(R[0],o.r),V=O(R[1],o.r),G=N.get("keepAspect"),B;return E?B=Ve(E,M-C/2,V-P,C,P,null,G):B=new Zv({shape:{angle:-Math.PI/2,width:C,r:P,x:M,y:V}}),B.rotation=-(A+Math.PI/2),B.x=o.cx,B.y=o.cy,B}function T(L,A){var I=d.get("roundCap"),N=I?aa:Ke,C=d.get("overlap"),P=C?d.get("width"):v/y.count(),E=C?o.r-P:o.r-(L+1)*P,R=C?o.r:o.r-L*P,M=new N({shape:{startAngle:l,endAngle:A,cx:o.cx,cy:o.cy,clockwise:u,r0:E,r:R}});return C&&(M.z2=D-y.get(S,L)%D),M}(m||p)&&(y.diff(c).add(function(L){var A=y.get(S,L);if(p){var I=x(L,l);oe(I,{rotation:-((isNaN(+A)?_[0]:Ce(A,w,_,!0))+Math.PI/2)},e),h.add(I),y.setItemGraphicEl(L,I)}if(m){var N=T(L,l),C=d.get("clip");oe(N,{shape:{endAngle:Ce(A,w,_,C)}},e),h.add(N),jr(e.seriesIndex,y.dataType,L,N),g[L]=N}}).update(function(L,A){var I=y.get(S,L);if(p){var N=c.getItemGraphicEl(A),C=N?N.rotation:l,P=x(L,C);P.rotation=C,K(P,{rotation:-((isNaN(+I)?_[0]:Ce(I,w,_,!0))+Math.PI/2)},e),h.add(P),y.setItemGraphicEl(L,P)}if(m){var E=f[A],R=E?E.shape.endAngle:l,M=T(L,R),V=d.get("clip");K(M,{shape:{endAngle:Ce(I,w,_,V)}},e),h.add(M),jr(e.seriesIndex,y.dataType,L,M),g[L]=M}}).execute(),y.each(function(L){var A=y.getItemModel(L),I=A.getModel("emphasis"),N=I.get("focus"),C=I.get("blurScope"),P=I.get("disabled");if(p){var E=y.getItemGraphicEl(L),R=y.getItemVisual(L,"style"),M=R.fill;if(E instanceof Rt){var V=E.style;E.useStyle(U({image:V.image,x:V.x,y:V.y,width:V.width,height:V.height},R))}else E.useStyle(R),E.type!=="pointer"&&E.setColor(M);E.setStyle(A.getModel(["pointer","itemStyle"]).getItemStyle()),E.style.fill==="auto"&&E.setStyle("fill",i(Ce(y.get(S,L),w,[0,1],!0))),E.z2EmphasisLift=0,ge(E,A),se(E,N,C,P)}if(m){var G=g[L];G.useStyle(y.getItemVisual(L,"style")),G.setStyle(A.getModel(["progress","itemStyle"]).getItemStyle()),G.z2EmphasisLift=0,ge(G,A),se(G,N,C,P)}}),this._progressEls=g)},t.prototype._renderAnchor=function(e,a){var n=e.getModel("anchor"),i=n.get("show");if(i){var o=n.get("size"),l=n.get("icon"),s=n.get("offsetCenter"),u=n.get("keepAspect"),v=Ve(l,a.cx-o/2+O(s[0],a.r),a.cy-o/2+O(s[1],a.r),o,o,null,u);v.z2=n.get("showAbove")?1:0,v.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(v)}},t.prototype._renderTitleAndDetail=function(e,a,n,i,o){var l=this,s=e.getData(),u=s.mapDimension("value"),v=+e.get("min"),h=+e.get("max"),c=new ae,f=[],g=[],p=e.isAnimationEnabled(),d=e.get(["pointer","showAbove"]);s.diff(this._data).add(function(m){f[m]=new Ee({silent:!0}),g[m]=new Ee({silent:!0})}).update(function(m,y){f[m]=l._titleEls[y],g[m]=l._detailEls[y]}).execute(),s.each(function(m){var y=s.getItemModel(m),S=s.get(u,m),b=new ae,D=i(Ce(S,[v,h],[0,1],!0)),w=y.getModel("title");if(w.get("show")){var _=w.get("offsetCenter"),x=o.cx+O(_[0],o.r),T=o.cy+O(_[1],o.r),L=f[m];L.attr({z2:d?0:2,style:Be(w,{x,y:T,text:s.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:D})}),b.add(L)}var A=y.getModel("detail");if(A.get("show")){var I=A.get("offsetCenter"),N=o.cx+O(I[0],o.r),C=o.cy+O(I[1],o.r),P=O(A.get("width"),o.r),E=O(A.get("height"),o.r),R=e.get(["progress","show"])?s.getItemVisual(m,"style").fill:D,L=g[m],M=A.get("formatter");L.attr({z2:d?0:2,style:Be(A,{x:N,y:C,text:Xt(S,M),width:isNaN(P)?null:P,height:isNaN(E)?null:E,align:"center",verticalAlign:"middle"},{inheritColor:R})}),yi(L,{normal:A},S,function(G){return Xt(G,M)}),p&&xl(L,m,s,e,{getFormattedLabel:function(G,B,W,$,F,X){return Xt(X?X.interpolatedValue:S,M)}}),b.add(L)}c.add(b)}),this.group.add(c),this._titleEls=f,this._detailEls=g},t.type="gauge",t}(ee);const qv=Yv;var jv=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return t.prototype.getInitialData=function(e,a){return dt(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(ne);const Kv=jv;function bp(r){r.registerChartView(qv),r.registerSeriesModel(Kv)}var Qv=["itemStyle","opacity"],Jv=function(r){z(t,r);function t(e,a){var n=r.call(this)||this,i=n,o=new pt,l=new Ee;return i.setTextContent(l),n.setTextGuideLine(o),n.updateData(e,a,!0),n}return t.prototype.updateData=function(e,a,n){var i=this,o=e.hostModel,l=e.getItemModel(a),s=e.getItemLayout(a),u=l.getModel("emphasis"),v=l.get(Qv);v=v??1,n||ke(i),i.useStyle(e.getItemVisual(a,"style")),i.style.lineJoin="round",n?(i.setShape({points:s.points}),i.style.opacity=0,oe(i,{style:{opacity:v}},o,a)):K(i,{style:{opacity:v},shape:{points:s.points}},o,a),ge(i,l),this._updateLabel(e,a),se(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,a){var n=this,i=this.getTextGuideLine(),o=n.getTextContent(),l=e.hostModel,s=e.getItemModel(a),u=e.getItemLayout(a),v=u.label,h=e.getItemVisual(a,"style"),c=h.fill;Te(o,we(s),{labelFetcher:e.hostModel,labelDataIndex:a,defaultOpacity:h.opacity,defaultText:e.getName(a)},{normal:{align:v.textAlign,verticalAlign:v.verticalAlign}}),n.setTextConfig({local:!0,inside:!!v.inside,insideStroke:c,outsideFill:c});var f=v.linePoints;i.setShape({points:f}),n.textGuideLineConfig={anchor:f?new ve(f[0][0],f[0][1]):null},K(o,{style:{x:v.x,y:v.y}},l,a),o.attr({rotation:v.rotation,originX:v.x,originY:v.y,z2:10}),Gi(n,Oi(s),{stroke:c})},t}(yr),eh=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,a,n){var i=e.getData(),o=this._data,l=this.group;i.diff(o).add(function(s){var u=new Jv(i,s);i.setItemGraphicEl(s,u),l.add(u)}).update(function(s,u){var v=o.getItemGraphicEl(u);v.updateData(i,s),l.add(v),i.setItemGraphicEl(s,v)}).remove(function(s){var u=o.getItemGraphicEl(s);Kt(u,e,s)}).execute(),this._data=i},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(ee);const th=eh;var ah=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Gt(ue(this.getData,this),ue(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,a){return dt(this,{coordDimensions:["value"],encodeDefaulter:ye(gr,this)})},t.prototype._defaultLabelLine=function(e){dr(e,"labelLine",["show"]);var a=e.labelLine,n=e.emphasis.labelLine;a.show=a.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var a=this.getData(),n=r.prototype.getDataParams.call(this,e),i=a.mapDimension("value"),o=a.getSum(i);return n.percent=o?+(a.get(i,e)/o*100).toFixed(2):0,n.$vars.push("percent"),n},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(ne);const rh=ah;function nh(r,t){return gt(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ih(r,t){for(var e=r.mapDimension("value"),a=r.mapArray(e,function(s){return s}),n=[],i=t==="ascending",o=0,l=r.count();o<l;o++)n[o]=o;return be(t)?n.sort(t):t!=="none"&&n.sort(function(s,u){return i?a[s]-a[u]:a[u]-a[s]}),n}function oh(r){var t=r.hostModel,e=t.get("orient");r.each(function(a){var n=r.getItemModel(a),i=n.getModel("label"),o=i.get("position"),l=n.getModel("labelLine"),s=r.getItemLayout(a),u=s.points,v=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",h,c,f,g;if(v)o==="insideLeft"?(c=(u[0][0]+u[3][0])/2+5,f=(u[0][1]+u[3][1])/2,h="left"):o==="insideRight"?(c=(u[1][0]+u[2][0])/2-5,f=(u[1][1]+u[2][1])/2,h="right"):(c=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,f=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,h="center"),g=[[c,f],[c,f]];else{var p=void 0,d=void 0,m=void 0,y=void 0,S=l.get("length");o==="left"?(p=(u[3][0]+u[0][0])/2,d=(u[3][1]+u[0][1])/2,m=p-S,c=m-5,h="right"):o==="right"?(p=(u[1][0]+u[2][0])/2,d=(u[1][1]+u[2][1])/2,m=p+S,c=m+5,h="left"):o==="top"?(p=(u[3][0]+u[0][0])/2,d=(u[3][1]+u[0][1])/2,y=d-S,f=y-5,h="center"):o==="bottom"?(p=(u[1][0]+u[2][0])/2,d=(u[1][1]+u[2][1])/2,y=d+S,f=y+5,h="center"):o==="rightTop"?(p=e==="horizontal"?u[3][0]:u[1][0],d=e==="horizontal"?u[3][1]:u[1][1],e==="horizontal"?(y=d-S,f=y-5,h="center"):(m=p+S,c=m+5,h="top")):o==="rightBottom"?(p=u[2][0],d=u[2][1],e==="horizontal"?(y=d+S,f=y+5,h="center"):(m=p+S,c=m+5,h="bottom")):o==="leftTop"?(p=u[0][0],d=e==="horizontal"?u[0][1]:u[1][1],e==="horizontal"?(y=d-S,f=y-5,h="center"):(m=p-S,c=m-5,h="right")):o==="leftBottom"?(p=e==="horizontal"?u[1][0]:u[3][0],d=e==="horizontal"?u[1][1]:u[2][1],e==="horizontal"?(y=d+S,f=y+5,h="center"):(m=p-S,c=m-5,h="right")):(p=(u[1][0]+u[2][0])/2,d=(u[1][1]+u[2][1])/2,e==="horizontal"?(y=d+S,f=y+5,h="center"):(m=p+S,c=m+5,h="left")),e==="horizontal"?(m=p,c=m):(y=d,f=y),g=[[p,d],[m,y]]}s.label={linePoints:g,x:c,y:f,verticalAlign:"middle",textAlign:h,inside:v}})}function lh(r,t){r.eachSeriesByType("funnel",function(e){var a=e.getData(),n=a.mapDimension("value"),i=e.get("sort"),o=nh(e,t),l=e.get("orient"),s=o.width,u=o.height,v=ih(a,i),h=o.x,c=o.y,f=l==="horizontal"?[O(e.get("minSize"),u),O(e.get("maxSize"),u)]:[O(e.get("minSize"),s),O(e.get("maxSize"),s)],g=a.getDataExtent(n),p=e.get("min"),d=e.get("max");p==null&&(p=Math.min(g[0],0)),d==null&&(d=g[1]);var m=e.get("funnelAlign"),y=e.get("gap"),S=l==="horizontal"?s:u,b=(S-y*(a.count()-1))/a.count(),D=function(C,P){if(l==="horizontal"){var E=a.get(n,C)||0,R=Ce(E,[p,d],f,!0),M=void 0;switch(m){case"top":M=c;break;case"center":M=c+(u-R)/2;break;case"bottom":M=c+(u-R);break}return[[P,M],[P,M+R]]}var V=a.get(n,C)||0,G=Ce(V,[p,d],f,!0),B;switch(m){case"left":B=h;break;case"center":B=h+(s-G)/2;break;case"right":B=h+s-G;break}return[[B,P],[B+G,P]]};i==="ascending"&&(b=-b,y=-y,l==="horizontal"?h+=s:c+=u,v=v.reverse());for(var w=0;w<v.length;w++){var _=v[w],x=v[w+1],T=a.getItemModel(_);if(l==="horizontal"){var L=T.get(["itemStyle","width"]);L==null?L=b:(L=O(L,s),i==="ascending"&&(L=-L));var A=D(_,h),I=D(x,h+L);h+=L+y,a.setItemLayout(_,{points:A.concat(I.slice().reverse())})}else{var N=T.get(["itemStyle","height"]);N==null?N=b:(N=O(N,u),i==="ascending"&&(N=-N));var A=D(_,c),I=D(x,c+N);c+=N+y,a.setItemLayout(_,{points:A.concat(I.slice().reverse())})}}oh(a)})}function wp(r){r.registerChartView(th),r.registerSeriesModel(rh),r.registerLayout(lh),r.registerProcessor(Bt("funnel"))}var sh=.3,uh=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new ae,e._initialized=!1,e}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,a,n,i){this._progressiveEls=null;var o=this._dataGroup,l=e.getData(),s=this._data,u=e.coordinateSystem,v=u.dimensions,h=Gn(e);l.diff(s).add(c).update(f).remove(g).execute();function c(d){var m=Bn(l,o,d,v,u);Oa(m,l,d,h)}function f(d,m){var y=s.getItemGraphicEl(m),S=Do(l,d,v,u);l.setItemGraphicEl(d,y),K(y,{shape:{points:S}},e,d),ke(y),Oa(y,l,d,h)}function g(d){var m=s.getItemGraphicEl(d);o.remove(m)}if(!this._initialized){this._initialized=!0;var p=vh(u,e,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(p)}this._data=l},t.prototype.incrementalPrepareRender=function(e,a,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,a,n){for(var i=a.getData(),o=a.coordinateSystem,l=o.dimensions,s=Gn(a),u=this._progressiveEls=[],v=e.start;v<e.end;v++){var h=Bn(i,this._dataGroup,v,l,o);h.incremental=!0,Oa(h,i,v,s),u.push(h)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(ee);function vh(r,t,e){var a=r.model,n=r.getRect(),i=new Le({shape:{x:n.x,y:n.y,width:n.width,height:n.height}}),o=a.get("layout")==="horizontal"?"width":"height";return i.setShape(o,0),oe(i,{shape:{width:n.width,height:n.height}},t,e),i}function Do(r,t,e,a){for(var n=[],i=0;i<e.length;i++){var o=e[i],l=r.get(r.mapDimension(o),t);hh(l,a.getAxis(o).type)||n.push(a.dataToPoint(l,o))}return n}function Bn(r,t,e,a,n){var i=Do(r,e,a,n),o=new pt({shape:{points:i},z2:10});return t.add(o),r.setItemGraphicEl(e,o),o}function Gn(r){var t=r.get("smooth",!0);return t===!0&&(t=sh),t=Al(t),il(t)&&(t=0),{smooth:t}}function Oa(r,t,e,a){r.useStyle(t.getItemVisual(e,"style")),r.style.fill=null,r.setShape("smooth",a.smooth);var n=t.getItemModel(e),i=n.getModel("emphasis");ge(r,n,"lineStyle"),se(r,i.get("focus"),i.get("blurScope"),i.get("disabled"))}function hh(r,t){return t==="category"?r==null:r==null||isNaN(r)}const ch=uh;var fh=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.getInitialData=function(e,a){return He(null,this,{useEncodeDefaulter:ue(ph,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var a=this.coordinateSystem,n=this.getData(),i=[];return a.eachActiveState(n,function(o,l){e===o&&i.push(n.getRawIndex(l))}),i},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(ne);function ph(r){var t=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(t){var e={};return k(t.dimensions,function(a){var n=gh(a);e[a]=n}),e}}function gh(r){return+r.replace("dim","")}const dh=fh;var yh=["lineStyle","opacity"],mh={seriesType:"parallel",reset:function(r,t){var e=r.coordinateSystem,a={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(n,i){e.eachActiveState(i,function(o,l){var s=a[o];if(o==="normal"&&i.hasItemOption){var u=i.getItemModel(l).get(yh,!0);u!=null&&(s=u)}var v=i.ensureUniqueItemVisual(l,"style");v.opacity=s},n.start,n.end)}}}};const Sh=mh;function Dp(r){ha(Fl),r.registerChartView(ch),r.registerSeriesModel(dh),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,Sh)}var bh=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r}(),wh=function(r){z(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new bh},t.prototype.buildPath=function(e,a){var n=a.extent;e.moveTo(a.x1,a.y1),e.bezierCurveTo(a.cpx1,a.cpy1,a.cpx2,a.cpy2,a.x2,a.y2),a.orient==="vertical"?(e.lineTo(a.x2+n,a.y2),e.bezierCurveTo(a.cpx2+n,a.cpy2,a.cpx1+n,a.cpy1,a.x1+n,a.y1)):(e.lineTo(a.x2,a.y2+n),e.bezierCurveTo(a.cpx2,a.cpy2+n,a.cpx1,a.cpy1+n,a.x1,a.y1+n)),e.closePath()},t.prototype.highlight=function(){Ai(this)},t.prototype.downplay=function(){Ii(this)},t}(De),Dh=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return t.prototype.render=function(e,a,n){var i=this,o=e.getGraph(),l=this.group,s=e.layoutInfo,u=s.width,v=s.height,h=e.getData(),c=e.getData("edge"),f=e.get("orient");this._model=e,l.removeAll(),l.x=s.x,l.y=s.y,o.eachEdge(function(g){var p=new wh,d=le(p);d.dataIndex=g.dataIndex,d.seriesIndex=e.seriesIndex,d.dataType="edge";var m=g.getModel(),y=m.getModel("lineStyle"),S=y.get("curveness"),b=g.node1.getLayout(),D=g.node1.getModel(),w=D.get("localX"),_=D.get("localY"),x=g.node2.getLayout(),T=g.node2.getModel(),L=T.get("localX"),A=T.get("localY"),I=g.getLayout(),N,C,P,E,R,M,V,G;switch(p.shape.extent=Math.max(1,I.dy),p.shape.orient=f,f==="vertical"?(N=(w!=null?w*u:b.x)+I.sy,C=(_!=null?_*v:b.y)+b.dy,P=(L!=null?L*u:x.x)+I.ty,E=A!=null?A*v:x.y,R=N,M=C*(1-S)+E*S,V=P,G=C*S+E*(1-S)):(N=(w!=null?w*u:b.x)+b.dx,C=(_!=null?_*v:b.y)+I.sy,P=L!=null?L*u:x.x,E=(A!=null?A*v:x.y)+I.ty,R=N*(1-S)+P*S,M=C,V=N*S+P*(1-S),G=E),p.setShape({x1:N,y1:C,x2:P,y2:E,cpx1:R,cpy1:M,cpx2:V,cpy2:G}),p.useStyle(y.getItemStyle()),p.style.fill){case"source":p.style.fill=g.node1.getVisual("color"),p.style.decal=g.node1.getVisual("style").decal;break;case"target":p.style.fill=g.node2.getVisual("color"),p.style.decal=g.node2.getVisual("style").decal;break;case"gradient":var B=g.node1.getVisual("color"),W=g.node2.getVisual("color");Re(B)&&Re(W)&&(p.style.fill=new gi(0,0,+(f==="horizontal"),+(f==="vertical"),[{color:B,offset:0},{color:W,offset:1}]))}Te(p,we(m,"edgeLabel"),{labelFetcher:e,labelDataIndex:g.dataIndex,defaultText:""+m.get("value")}),p.setTextConfig({position:"inside"});var $=m.getModel("emphasis");ge(p,m,"lineStyle",function(X){return X.getItemStyle()}),l.add(p),c.setItemGraphicEl(g.dataIndex,p);var F=$.get("focus");se(p,F==="adjacency"?g.getAdjacentDataIndices():F,$.get("blurScope"),$.get("disabled")),le(p).dataType="edge"}),o.eachNode(function(g){var p=g.getLayout(),d=g.getModel(),m=d.get("localX"),y=d.get("localY"),S=d.getModel("emphasis"),b=new Le({shape:{x:m!=null?m*u:p.x,y:y!=null?y*v:p.y,width:p.dx,height:p.dy},style:d.getModel("itemStyle").getItemStyle(),z2:10});Te(b,we(d),{labelFetcher:e,labelDataIndex:g.dataIndex,defaultText:g.id}),b.disableLabelAnimation=!0,b.setStyle("fill",g.getVisual("color")),b.setStyle("decal",g.getVisual("style").decal),ge(b,d),l.add(b),h.setItemGraphicEl(g.dataIndex,b),le(b).dataType="node";var D=S.get("focus");se(b,D==="adjacency"?g.getAdjacentDataIndices():D,S.get("blurScope"),S.get("disabled"))}),h.eachItemGraphicEl(function(g,p){var d=h.getItemModel(p);d.get("draggable")&&(g.drift=function(m,y){i._focusAdjacencyDisabled=!0,this.shape.x+=m,this.shape.y+=y,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:h.getRawIndex(p),localX:this.shape.x/u,localY:this.shape.y/v})},g.ondragend=function(){i._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&e.isAnimationEnabled()&&l.setClipPath(_h(l.getBoundingRect(),e,function(){l.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(ee);function _h(r,t,e){var a=new Le({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return oe(a,{shape:{width:r.width+20}},t,e),a}const xh=Dh;var Ah=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){var n=e.edges||e.links,i=e.data||e.nodes,o=e.levels;this.levelModels=[];for(var l=this.levelModels,s=0;s<o.length;s++)o[s].depth!=null&&o[s].depth>=0&&(l[o[s].depth]=new lt(o[s],this,a));if(i&&n){var u=wo(i,n,this,!0,v);return u.data}function v(h,c){h.wrapMethod("getItemModel",function(f,g){var p=f.parentModel,d=p.getData().getItemLayout(g);if(d){var m=d.depth,y=p.levelModels[m];y&&(f.parentModel=y)}return f}),c.wrapMethod("getItemModel",function(f,g){var p=f.parentModel,d=p.getGraph().getEdgeByIndex(g),m=d.node1.getLayout();if(m){var y=m.depth,S=p.levelModels[y];S&&(f.parentModel=S)}return f})}},t.prototype.setNodePosition=function(e,a){var n=this.option.data||this.option.nodes,i=n[e];i.localX=a[0],i.localY=a[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,a,n){function i(f){return isNaN(f)||f==null}if(n==="edge"){var o=this.getDataParams(e,n),l=o.data,s=o.value,u=l.source+" -- "+l.target;return Pe("nameValue",{name:u,value:s,noValue:i(s)})}else{var v=this.getGraph().getNodeByIndex(e),h=v.getLayout().value,c=this.getDataParams(e,n).data.name;return Pe("nameValue",{name:c!=null?c+"":null,value:h,noValue:i(h)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,a){var n=r.prototype.getDataParams.call(this,e,a);if(n.value==null&&a==="node"){var i=this.getGraph().getNodeByIndex(e),o=i.getLayout().value;n.value=o}return n},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(ne);const Ih=Ah;function Lh(r,t){r.eachSeriesByType("sankey",function(e){var a=e.get("nodeWidth"),n=e.get("nodeGap"),i=Th(e,t);e.layoutInfo=i;var o=i.width,l=i.height,s=e.getGraph(),u=s.nodes,v=s.edges;Ph(u);var h=fr(u,function(p){return p.getLayout().value===0}),c=h.length!==0?0:e.get("layoutIterations"),f=e.get("orient"),g=e.get("nodeAlign");Ch(u,v,a,n,o,l,c,f,g)})}function Th(r,t){return gt(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Ch(r,t,e,a,n,i,o,l,s){Nh(r,t,e,n,i,l,s),Vh(r,t,i,n,a,o,l),Wh(r,l)}function Ph(r){k(r,function(t){var e=je(t.outEdges,ia),a=je(t.inEdges,ia),n=t.getValue()||0,i=Math.max(e,a,n);t.setLayout({value:i},!0)})}function Nh(r,t,e,a,n,i,o){for(var l=[],s=[],u=[],v=[],h=0,c=0;c<t.length;c++)l[c]=1;for(var c=0;c<r.length;c++)s[c]=r[c].inEdges.length,s[c]===0&&u.push(r[c]);for(var f=-1;u.length;){for(var g=0;g<u.length;g++){var p=u[g],d=p.hostGraph.data.getRawDataItem(p.dataIndex),m=d.depth!=null&&d.depth>=0;m&&d.depth>f&&(f=d.depth),p.setLayout({depth:m?d.depth:h},!0),i==="vertical"?p.setLayout({dy:e},!0):p.setLayout({dx:e},!0);for(var y=0;y<p.outEdges.length;y++){var S=p.outEdges[y],b=t.indexOf(S);l[b]=0;var D=S.node2,w=r.indexOf(D);--s[w]===0&&v.indexOf(D)<0&&v.push(D)}}++h,u=v,v=[]}for(var c=0;c<l.length;c++)if(l[c]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var _=f>h-1?f:h-1;o&&o!=="left"&&Eh(r,o,i,_);var x=i==="vertical"?(n-e)/_:(a-e)/_;Rh(r,x,i)}function _o(r){var t=r.hostGraph.data.getRawDataItem(r.dataIndex);return t.depth!=null&&t.depth>=0}function Eh(r,t,e,a){if(t==="right"){for(var n=[],i=r,o=0;i.length;){for(var l=0;l<i.length;l++){var s=i[l];s.setLayout({skNodeHeight:o},!0);for(var u=0;u<s.inEdges.length;u++){var v=s.inEdges[u];n.indexOf(v.node1)<0&&n.push(v.node1)}}i=n,n=[],++o}k(r,function(h){_o(h)||h.setLayout({depth:Math.max(0,a-h.getLayout().skNodeHeight)},!0)})}else t==="justify"&&Mh(r,a)}function Mh(r,t){k(r,function(e){!_o(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}function Rh(r,t,e){k(r,function(a){var n=a.getLayout().depth*t;e==="vertical"?a.setLayout({y:n},!0):a.setLayout({x:n},!0)})}function Vh(r,t,e,a,n,i,o){var l=kh(r,o);zh(l,t,e,a,n,o),Fa(l,n,e,a,o);for(var s=1;i>0;i--)s*=.99,Bh(l,s,o),Fa(l,n,e,a,o),$h(l,s,o),Fa(l,n,e,a,o)}function kh(r,t){var e=[],a=t==="vertical"?"y":"x",n=ar(r,function(i){return i.getLayout()[a]});return n.keys.sort(function(i,o){return i-o}),k(n.keys,function(i){e.push(n.buckets.get(i))}),e}function zh(r,t,e,a,n,i){var o=1/0;k(r,function(l){var s=l.length,u=0;k(l,function(h){u+=h.getLayout().value});var v=i==="vertical"?(a-(s-1)*n)/u:(e-(s-1)*n)/u;v<o&&(o=v)}),k(r,function(l){k(l,function(s,u){var v=s.getLayout().value*o;i==="vertical"?(s.setLayout({x:u},!0),s.setLayout({dx:v},!0)):(s.setLayout({y:u},!0),s.setLayout({dy:v},!0))})}),k(t,function(l){var s=+l.getValue()*o;l.setLayout({dy:s},!0)})}function Fa(r,t,e,a,n){var i=n==="vertical"?"x":"y";k(r,function(o){o.sort(function(p,d){return p.getLayout()[i]-d.getLayout()[i]});for(var l,s,u,v=0,h=o.length,c=n==="vertical"?"dx":"dy",f=0;f<h;f++)s=o[f],u=v-s.getLayout()[i],u>0&&(l=s.getLayout()[i]+u,n==="vertical"?s.setLayout({x:l},!0):s.setLayout({y:l},!0)),v=s.getLayout()[i]+s.getLayout()[c]+t;var g=n==="vertical"?a:e;if(u=v-t-g,u>0){l=s.getLayout()[i]-u,n==="vertical"?s.setLayout({x:l},!0):s.setLayout({y:l},!0),v=l;for(var f=h-2;f>=0;--f)s=o[f],u=s.getLayout()[i]+s.getLayout()[c]+t-v,u>0&&(l=s.getLayout()[i]-u,n==="vertical"?s.setLayout({x:l},!0):s.setLayout({y:l},!0)),v=s.getLayout()[i]}})}function Bh(r,t,e){k(r.slice().reverse(),function(a){k(a,function(n){if(n.outEdges.length){var i=je(n.outEdges,Gh,e)/je(n.outEdges,ia);if(isNaN(i)){var o=n.outEdges.length;i=o?je(n.outEdges,Oh,e)/o:0}if(e==="vertical"){var l=n.getLayout().x+(i-Qe(n,e))*t;n.setLayout({x:l},!0)}else{var s=n.getLayout().y+(i-Qe(n,e))*t;n.setLayout({y:s},!0)}}})})}function Gh(r,t){return Qe(r.node2,t)*r.getValue()}function Oh(r,t){return Qe(r.node2,t)}function Fh(r,t){return Qe(r.node1,t)*r.getValue()}function Hh(r,t){return Qe(r.node1,t)}function Qe(r,t){return t==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function ia(r){return r.getValue()}function je(r,t,e){for(var a=0,n=r.length,i=-1;++i<n;){var o=+t(r[i],e);isNaN(o)||(a+=o)}return a}function $h(r,t,e){k(r,function(a){k(a,function(n){if(n.inEdges.length){var i=je(n.inEdges,Fh,e)/je(n.inEdges,ia);if(isNaN(i)){var o=n.inEdges.length;i=o?je(n.inEdges,Hh,e)/o:0}if(e==="vertical"){var l=n.getLayout().x+(i-Qe(n,e))*t;n.setLayout({x:l},!0)}else{var s=n.getLayout().y+(i-Qe(n,e))*t;n.setLayout({y:s},!0)}}})})}function Wh(r,t){var e=t==="vertical"?"x":"y";k(r,function(a){a.outEdges.sort(function(n,i){return n.node2.getLayout()[e]-i.node2.getLayout()[e]}),a.inEdges.sort(function(n,i){return n.node1.getLayout()[e]-i.node1.getLayout()[e]})}),k(r,function(a){var n=0,i=0;k(a.outEdges,function(o){o.setLayout({sy:n},!0),n+=o.getLayout().dy}),k(a.inEdges,function(o){o.setLayout({ty:i},!0),i+=o.getLayout().dy})})}function Uh(r){r.eachSeriesByType("sankey",function(t){var e=t.getGraph(),a=e.nodes,n=e.edges;if(a.length){var i=1/0,o=-1/0;k(a,function(l){var s=l.getLayout().value;s<i&&(i=s),s>o&&(o=s)}),k(a,function(l){var s=new Vi({type:"color",mappingMethod:"linear",dataExtent:[i,o],visual:t.get("color")}),u=s.mapValueToVisual(l.getLayout().value),v=l.getModel().get(["itemStyle","color"]);v!=null?(l.setVisual("color",v),l.setVisual("style",{fill:v})):(l.setVisual("color",u),l.setVisual("style",{fill:u}))})}n.length&&k(n,function(l){var s=l.getModel().get("lineStyle");l.setVisual("style",s)})})}function _p(r){r.registerChartView(xh),r.registerSeriesModel(Ih),r.registerLayout(Lh),r.registerVisual(Uh),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(a){a.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var xo=function(){function r(){}return r.prototype.getInitialData=function(t,e){var a,n=e.getComponent("xAxis",this.get("xAxisIndex")),i=e.getComponent("yAxis",this.get("yAxisIndex")),o=n.get("type"),l=i.get("type"),s;o==="category"?(t.layout="horizontal",a=n.getOrdinalMeta(),s=!0):l==="category"?(t.layout="vertical",a=i.getOrdinalMeta(),s=!0):t.layout=t.layout||"horizontal";var u=["x","y"],v=t.layout==="horizontal"?0:1,h=this._baseAxisDim=u[v],c=u[1-v],f=[n,i],g=f[v].get("type"),p=f[1-v].get("type"),d=t.data;if(d&&s){var m=[];k(d,function(b,D){var w;Y(b)?(w=b.slice(),b.unshift(D)):Y(b.value)?(w=U({},b),w.value=w.value.slice(),b.value.unshift(D)):w=b,m.push(w)}),t.data=m}var y=this.defaultValueDimensions,S=[{name:h,type:rr(g),ordinalMeta:a,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:c,type:rr(p),dimsDef:y.slice()}];return dt(this,{coordDimensions:S,dimensionsCount:y.length+1,encodeDefaulter:ye(Il,S,this)})},r.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},r}(),Ao=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(ne);la(Ao,xo,!0);const Zh=Ao;var Xh=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){var i=e.getData(),o=this.group,l=this._data;this._data||o.removeAll();var s=e.get("layout")==="horizontal"?1:0;i.diff(l).add(function(u){if(i.hasValue(u)){var v=i.getItemLayout(u),h=On(v,i,u,s,!0);i.setItemGraphicEl(u,h),o.add(h)}}).update(function(u,v){var h=l.getItemGraphicEl(v);if(!i.hasValue(u)){o.remove(h);return}var c=i.getItemLayout(u);h?(ke(h),Io(c,h,i,u)):h=On(c,i,u,s),o.add(h),i.setItemGraphicEl(u,h)}).remove(function(u){var v=l.getItemGraphicEl(u);v&&o.remove(v)}).execute(),this._data=i},t.prototype.remove=function(e){var a=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(i){i&&a.remove(i)})},t.type="boxplot",t}(ee),Yh=function(){function r(){}return r}(),qh=function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="boxplotBoxPath",a}return t.prototype.getDefaultShape=function(){return new Yh},t.prototype.buildPath=function(e,a){var n=a.points,i=0;for(e.moveTo(n[i][0],n[i][1]),i++;i<4;i++)e.lineTo(n[i][0],n[i][1]);for(e.closePath();i<n.length;i++)e.moveTo(n[i][0],n[i][1]),i++,e.lineTo(n[i][0],n[i][1])},t}(De);function On(r,t,e,a,n){var i=r.ends,o=new qh({shape:{points:n?jh(i,a,r):i}});return Io(r,o,t,e,n),o}function Io(r,t,e,a,n){var i=e.hostModel,o=ca[n?"initProps":"updateProps"];o(t,{shape:{points:r.ends}},i,a),t.useStyle(e.getItemVisual(a,"style")),t.style.strokeNoScale=!0,t.z2=100;var l=e.getItemModel(a),s=l.getModel("emphasis");ge(t,l),se(t,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function jh(r,t,e){return J(r,function(a){return a=a.slice(),a[t]=e.initBaseline,a})}const Kh=Xh;var At=k;function Qh(r){var t=Jh(r);At(t,function(e){var a=e.seriesModels;a.length&&(ec(e),At(a,function(n,i){tc(n,e.boxOffsetList[i],e.boxWidthList[i])}))})}function Jh(r){var t=[],e=[];return r.eachSeriesByType("boxplot",function(a){var n=a.getBaseAxis(),i=ft(e,n);i<0&&(i=e.length,e[i]=n,t[i]={axis:n,seriesModels:[]}),t[i].seriesModels.push(a)}),t}function ec(r){var t=r.axis,e=r.seriesModels,a=e.length,n=r.boxWidthList=[],i=r.boxOffsetList=[],o=[],l;if(t.type==="category")l=t.getBandWidth();else{var s=0;At(e,function(g){s=Math.max(s,g.getData().count())});var u=t.getExtent();l=Math.abs(u[1]-u[0])/s}At(e,function(g){var p=g.get("boxWidth");Y(p)||(p=[p,p]),o.push([O(p[0],l)||0,O(p[1],l)||0])});var v=l*.8-2,h=v/a*.3,c=(v-h*(a-1))/a,f=c/2-v/2;At(e,function(g,p){i.push(f),f+=h+c,n.push(Math.min(Math.max(c,o[p][0]),o[p][1]))})}function tc(r,t,e){var a=r.coordinateSystem,n=r.getData(),i=e/2,o=r.get("layout")==="horizontal"?0:1,l=1-o,s=["x","y"],u=n.mapDimension(s[o]),v=n.mapDimensionsAll(s[l]);if(u==null||v.length<5)return;for(var h=0;h<n.count();h++){var c=n.get(u,h),f=S(c,v[2],h),g=S(c,v[0],h),p=S(c,v[1],h),d=S(c,v[3],h),m=S(c,v[4],h),y=[];b(y,p,!1),b(y,d,!0),y.push(g,p,m,d),D(y,g),D(y,m),D(y,f),n.setItemLayout(h,{initBaseline:f[l],ends:y})}function S(w,_,x){var T=n.get(_,x),L=[];L[o]=w,L[l]=T;var A;return isNaN(w)||isNaN(T)?A=[NaN,NaN]:(A=a.dataToPoint(L),A[o]+=t),A}function b(w,_,x){var T=_.slice(),L=_.slice();T[o]+=i,L[o]-=i,x?w.push(T,L):w.push(L,T)}function D(w,_){var x=_.slice(),T=_.slice();x[o]-=i,T[o]+=i,w.push(x,T)}}function ac(r,t){t=t||{};for(var e=[],a=[],n=t.boundIQR,i=n==="none"||n===0,o=0;o<r.length;o++){var l=Ll(r[o].slice()),s=_a(l,.25),u=_a(l,.5),v=_a(l,.75),h=l[0],c=l[l.length-1],f=(n??1.5)*(v-s),g=i?h:Math.max(h,s-f),p=i?c:Math.min(c,v+f),d=t.itemNameFormatter,m=be(d)?d({value:o}):Re(d)?d.replace("{value}",o+""):o+"";e.push([m,g,s,u,v,p]);for(var y=0;y<l.length;y++){var S=l[y];if(S<g||S>p){var b=[m,S];a.push(b)}}}return{boxData:e,outliers:a}}var rc={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Tl){var a="";Li(a)}var n=ac(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};function xp(r){r.registerSeriesModel(Zh),r.registerChartView(Kh),r.registerLayout(Qh),r.registerTransform(rc)}var nc=["color","borderColor"],ic=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,a,n){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,a,n,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,a):this._incrementalRenderNormal(e,a)},t.prototype.eachRendered=function(e){va(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var a=e.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(e){var a=e.getData(),n=this._data,i=this.group,o=a.getLayout("isSimpleBox"),l=e.get("clip",!0),s=e.coordinateSystem,u=s.getArea&&s.getArea();this._data||i.removeAll(),a.diff(n).add(function(v){if(a.hasValue(v)){var h=a.getItemLayout(v);if(l&&Fn(u,h))return;var c=Ha(h,v,!0);oe(c,{shape:{points:h.ends}},e,v),$a(c,a,v,o),i.add(c),a.setItemGraphicEl(v,c)}}).update(function(v,h){var c=n.getItemGraphicEl(h);if(!a.hasValue(v)){i.remove(c);return}var f=a.getItemLayout(v);if(l&&Fn(u,f)){i.remove(c);return}c?(K(c,{shape:{points:f.ends}},e,v),ke(c)):c=Ha(f),$a(c,a,v,o),i.add(c),a.setItemGraphicEl(v,c)}).remove(function(v){var h=n.getItemGraphicEl(v);h&&i.remove(h)}).execute(),this._data=a},t.prototype._renderLarge=function(e){this._clear(),Hn(e,this.group);var a=e.get("clip",!0)?ma(e.coordinateSystem,!1,e):null;a?this.group.setClipPath(a):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,a){for(var n=a.getData(),i=n.getLayout("isSimpleBox"),o;(o=e.next())!=null;){var l=n.getItemLayout(o),s=Ha(l);$a(s,n,o,i),s.incremental=!0,this.group.add(s),this._progressiveEls.push(s)}},t.prototype._incrementalRenderLarge=function(e,a){Hn(a,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(ee),oc=function(){function r(){}return r}(),lc=function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="normalCandlestickBox",a}return t.prototype.getDefaultShape=function(){return new oc},t.prototype.buildPath=function(e,a){var n=a.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},t}(De);function Ha(r,t,e){var a=r.ends;return new lc({shape:{points:e?sc(a,r):a},z2:100})}function Fn(r,t){for(var e=!0,a=0;a<t.ends.length;a++)if(r.contain(t.ends[a][0],t.ends[a][1])){e=!1;break}return e}function $a(r,t,e,a){var n=t.getItemModel(e);r.useStyle(t.getItemVisual(e,"style")),r.style.strokeNoScale=!0,r.__simpleBox=a,ge(r,n)}function sc(r,t){return J(r,function(e){return e=e.slice(),e[1]=t.initBaseline,e})}var uc=function(){function r(){}return r}(),Wa=function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a.type="largeCandlestickBox",a}return t.prototype.getDefaultShape=function(){return new uc},t.prototype.buildPath=function(e,a){for(var n=a.points,i=0;i<n.length;)if(this.__sign===n[i++]){var o=n[i++];e.moveTo(o,n[i++]),e.lineTo(o,n[i++])}else i+=3},t}(De);function Hn(r,t,e,a){var n=r.getData(),i=n.getLayout("largePoints"),o=new Wa({shape:{points:i},__sign:1,ignoreCoarsePointer:!0});t.add(o);var l=new Wa({shape:{points:i},__sign:-1,ignoreCoarsePointer:!0});t.add(l);var s=new Wa({shape:{points:i},__sign:0,ignoreCoarsePointer:!0});t.add(s),Ua(1,o,r),Ua(-1,l,r),Ua(0,s,r),a&&(o.incremental=!0,l.incremental=!0),e&&e.push(o,l)}function Ua(r,t,e,a){var n=e.get(["itemStyle",r>0?"borderColor":"borderColor0"])||e.get(["itemStyle",r>0?"color":"color0"]);r===0&&(n=e.get(["itemStyle","borderColorDoji"]));var i=e.getModel("itemStyle").getItemStyle(nc);t.useStyle(i),t.style.fill=null,t.style.stroke=n}const vc=ic;var Lo=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,a,n){var i=a.getItemLayout(e);return i&&n.rect(i.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(ne);la(Lo,xo,!0);const hc=Lo;function cc(r){!r||!Y(r.series)||k(r.series,function(t){ol(t)&&t.type==="k"&&(t.type="candlestick")})}var fc=["itemStyle","borderColor"],pc=["itemStyle","borderColor0"],gc=["itemStyle","borderColorDoji"],dc=["itemStyle","color"],yc=["itemStyle","color0"],mc={seriesType:"candlestick",plan:ua(),performRawSeries:!0,reset:function(r,t){function e(i,o){return o.get(i>0?dc:yc)}function a(i,o){return o.get(i===0?gc:i>0?fc:pc)}if(!t.isSeriesFiltered(r)){var n=r.pipelineContext.large;return!n&&{progress:function(i,o){for(var l;(l=i.next())!=null;){var s=o.getItemModel(l),u=o.getItemLayout(l).sign,v=s.getItemStyle();v.fill=e(u,s),v.stroke=a(u,s)||v.fill;var h=o.ensureUniqueItemVisual(l,"style");U(h,v)}}}}}};const Sc=mc;var bc={seriesType:"candlestick",plan:ua(),reset:function(r){var t=r.coordinateSystem,e=r.getData(),a=wc(r,e),n=0,i=1,o=["x","y"],l=e.getDimensionIndex(e.mapDimension(o[n])),s=J(e.mapDimensionsAll(o[i]),e.getDimensionIndex,e),u=s[0],v=s[1],h=s[2],c=s[3];if(e.setLayout({candleWidth:a,isSimpleBox:a<=1.3}),l<0||s.length<4)return;return{progress:r.pipelineContext.large?g:f};function f(p,d){for(var m,y=d.getStore();(m=p.next())!=null;){var S=y.get(l,m),b=y.get(u,m),D=y.get(v,m),w=y.get(h,m),_=y.get(c,m),x=Math.min(b,D),T=Math.max(b,D),L=R(x,S),A=R(T,S),I=R(w,S),N=R(_,S),C=[];M(C,A,0),M(C,L,1),C.push(G(N),G(A),G(I),G(L));var P=d.getItemModel(m),E=!!P.get(["itemStyle","borderColorDoji"]);d.setItemLayout(m,{sign:$n(y,m,b,D,v,E),initBaseline:b>D?A[i]:L[i],ends:C,brushRect:V(w,_,S)})}function R(B,W){var $=[];return $[n]=W,$[i]=B,isNaN(W)||isNaN(B)?[NaN,NaN]:t.dataToPoint($)}function M(B,W,$){var F=W.slice(),X=W.slice();F[n]=xa(F[n]+a/2,1,!1),X[n]=xa(X[n]-a/2,1,!0),$?B.push(F,X):B.push(X,F)}function V(B,W,$){var F=R(B,$),X=R(W,$);return F[n]-=a/2,X[n]-=a/2,{x:F[0],y:F[1],width:a,height:X[1]-F[1]}}function G(B){return B[n]=xa(B[n],1),B}}function g(p,d){for(var m=rt(p.count*4),y=0,S,b=[],D=[],w,_=d.getStore(),x=!!r.get(["itemStyle","borderColorDoji"]);(w=p.next())!=null;){var T=_.get(l,w),L=_.get(u,w),A=_.get(v,w),I=_.get(h,w),N=_.get(c,w);if(isNaN(T)||isNaN(I)||isNaN(N)){m[y++]=NaN,y+=3;continue}m[y++]=$n(_,w,L,A,v,x),b[n]=T,b[i]=I,S=t.dataToPoint(b,null,D),m[y++]=S?S[0]:NaN,m[y++]=S?S[1]:NaN,b[i]=N,S=t.dataToPoint(b,null,D),m[y++]=S?S[1]:NaN}d.setLayout("largePoints",m)}}};function $n(r,t,e,a,n,i){var o;return e>a?o=-1:e<a?o=1:o=i?0:t>0?r.get(n,t-1)<=a?1:-1:1,o}function wc(r,t){var e=r.getBaseAxis(),a,n=e.type==="category"?e.getBandWidth():(a=e.getExtent(),Math.abs(a[1]-a[0])/t.count()),i=O(It(r.get("barMaxWidth"),n),n),o=O(It(r.get("barMinWidth"),1),n),l=r.get("barWidth");return l!=null?O(l,n):Math.max(Math.min(n/2,i),o)}const Dc=bc;function Ap(r){r.registerChartView(vc),r.registerSeriesModel(hc),r.registerPreprocessor(cc),r.registerVisual(Sc),r.registerLayout(Dc)}function Wn(r,t){var e=t.rippleEffectColor||t.color;r.eachChild(function(a){a.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var _c=function(r){z(t,r);function t(e,a){var n=r.call(this)||this,i=new da(e,a),o=new ae;return n.add(i),n.add(o),n.updateData(e,a),n}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var a=e.symbolType,n=e.color,i=e.rippleNumber,o=this.childAt(1),l=0;l<i;l++){var s=Ve(a,-1,-1,2,2,n);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-l/i*e.period+e.effectOffset;s.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),s.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),o.add(s)}Wn(o,e)},t.prototype.updateEffectAnimation=function(e){for(var a=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],o=0;o<i.length;o++){var l=i[o];if(a[l]!==e[l]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}Wn(n,e)},t.prototype.highlight=function(){Ai(this)},t.prototype.downplay=function(){Ii(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,a){var n=this,i=e.hostModel;this.childAt(0).updateData(e,a);var o=this.childAt(1),l=e.getItemModel(a),s=e.getItemVisual(a,"symbol"),u=wi(e.getItemVisual(a,"symbolSize")),v=e.getItemVisual(a,"style"),h=v&&v.fill,c=l.getModel("emphasis");o.setScale(u),o.traverse(function(d){d.setStyle("fill",h)});var f=Ti(e.getItemVisual(a,"symbolOffset"),u);f&&(o.x=f[0],o.y=f[1]);var g=e.getItemVisual(a,"symbolRotate");o.rotation=(g||0)*Math.PI/180||0;var p={};p.showEffectOn=i.get("showEffectOn"),p.rippleScale=l.get(["rippleEffect","scale"]),p.brushType=l.get(["rippleEffect","brushType"]),p.period=l.get(["rippleEffect","period"])*1e3,p.effectOffset=a/e.count(),p.z=i.getShallow("z")||0,p.zlevel=i.getShallow("zlevel")||0,p.symbolType=s,p.color=h,p.rippleEffectColor=l.get(["rippleEffect","color"]),p.rippleNumber=l.get(["rippleEffect","number"]),p.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(d){d==="emphasis"?p.showEffectOn!=="render"&&n.startEffectAnimation(p):d==="normal"&&p.showEffectOn!=="render"&&n.stopEffectAnimation()}),this._effectCfg=p,se(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(ae);const xc=_c;var Ac=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._symbolDraw=new ga(xc)},t.prototype.render=function(e,a,n){var i=e.getData(),o=this._symbolDraw;o.updateData(i,{clipShape:this._getClipShape(e)}),this.group.add(o.group)},t.prototype._getClipShape=function(e){var a=e.coordinateSystem,n=a&&a.getArea&&a.getArea();return e.get("clip",!0)?n:null},t.prototype.updateTransform=function(e,a,n){var i=e.getData();this.group.dirty();var o=zt("").reset(e,a,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var a=e.coordinateSystem;a&&a.getRoamTransform&&(this.group.transform=ll(a.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,a){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(ee);const Ic=Ac;var Lc=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,a){return He(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,a,n){return n.point(a.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(ne);const Tc=Lc;function Ip(r){r.registerChartView(Ic),r.registerSeriesModel(Tc),r.registerLayout(zt("effectScatter"))}var Cc=function(r){z(t,r);function t(e,a,n){var i=r.call(this)||this;return i.add(i.createLine(e,a,n)),i._updateEffectSymbol(e,a),i}return t.prototype.createLine=function(e,a,n){return new zi(e,a,n)},t.prototype._updateEffectSymbol=function(e,a){var n=e.getItemModel(a),i=n.getModel("effect"),o=i.get("symbolSize"),l=i.get("symbol");Y(o)||(o=[o,o]);var s=e.getItemVisual(a,"style"),u=i.get("color")||s&&s.stroke,v=this.childAt(1);this._symbolType!==l&&(this.remove(v),v=Ve(l,-.5,-.5,1,1,u),v.z2=100,v.culling=!0,this.add(v)),v&&(v.setStyle("shadowColor",u),v.setStyle(i.getItemStyle(["color"])),v.scaleX=o[0],v.scaleY=o[1],v.setColor(u),this._symbolType=l,this._symbolScale=o,this._updateEffectAnimation(e,i,a))},t.prototype._updateEffectAnimation=function(e,a,n){var i=this.childAt(1);if(i){var o=e.getItemLayout(n),l=a.get("period")*1e3,s=a.get("loop"),u=a.get("roundTrip"),v=a.get("constantSpeed"),h=Lt(a.get("delay"),function(f){return f/e.count()*l/3});if(i.ignore=!0,this._updateAnimationPoints(i,o),v>0&&(l=this._getLineLength(i)/v*1e3),l!==this._period||s!==this._loop||u!==this._roundTrip){i.stopAnimation();var c=void 0;be(h)?c=h(n):c=h,i.__t>0&&(c=-l*i.__t),this._animateSymbol(i,l,c,s,u)}this._period=l,this._loop=s,this._roundTrip=u}},t.prototype._animateSymbol=function(e,a,n,i,o){if(a>0){e.__t=0;var l=this,s=e.animate("",i).when(o?a*2:a,{__t:o?2:1}).delay(n).during(function(){l._updateSymbolPosition(e)});i||s.done(function(){l.remove(e)}),s.start()}},t.prototype._getLineLength=function(e){return at(e.__p1,e.__cp1)+at(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,a){e.__p1=a[0],e.__p2=a[1],e.__cp1=a[2]||[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]},t.prototype.updateData=function(e,a,n){this.childAt(0).updateData(e,a,n),this._updateEffectSymbol(e,a)},t.prototype._updateSymbolPosition=function(e){var a=e.__p1,n=e.__p2,i=e.__cp1,o=e.__t<1?e.__t:2-e.__t,l=[e.x,e.y],s=l.slice(),u=fi,v=sl;l[0]=u(a[0],i[0],n[0],o),l[1]=u(a[1],i[1],n[1],o);var h=e.__t<1?v(a[0],i[0],n[0],o):v(n[0],i[0],a[0],1-o),c=e.__t<1?v(a[1],i[1],n[1],o):v(n[1],i[1],a[1],1-o);e.rotation=-Math.atan2(c,h)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=at(s,l)*1.05,o===1&&(l[0]=s[0]+(l[0]-s[0])/2,l[1]=s[1]+(l[1]-s[1])/2)):e.__lastT===1?e.scaleY=2*at(a,l):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=l[0],e.y=l[1]},t.prototype.updateLayout=function(e,a){this.childAt(0).updateLayout(e,a);var n=e.getItemModel(a).getModel("effect");this._updateEffectAnimation(e,n,a)},t}(ae);const To=Cc;var Pc=function(r){z(t,r);function t(e,a,n){var i=r.call(this)||this;return i._createPolyline(e,a,n),i}return t.prototype._createPolyline=function(e,a,n){var i=e.getItemLayout(a),o=new pt({shape:{points:i}});this.add(o),this._updateCommonStl(e,a,n)},t.prototype.updateData=function(e,a,n){var i=e.hostModel,o=this.childAt(0),l={shape:{points:e.getItemLayout(a)}};K(o,l,i,a),this._updateCommonStl(e,a,n)},t.prototype._updateCommonStl=function(e,a,n){var i=this.childAt(0),o=e.getItemModel(a),l=n&&n.emphasisLineStyle,s=n&&n.focus,u=n&&n.blurScope,v=n&&n.emphasisDisabled;if(!n||e.hasItemOption){var h=o.getModel("emphasis");l=h.getModel("lineStyle").getLineStyle(),v=h.get("disabled"),s=h.get("focus"),u=h.get("blurScope")}i.useStyle(e.getItemVisual(a,"style")),i.style.fill=null,i.style.strokeNoScale=!0;var c=i.ensureState("emphasis");c.style=l,se(this,s,u,v)},t.prototype.updateLayout=function(e,a){var n=this.childAt(0);n.setShape("points",e.getItemLayout(a))},t}(ae);const Co=Pc;var Nc=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return t.prototype.createLine=function(e,a,n){return new Co(e,a,n)},t.prototype._updateAnimationPoints=function(e,a){this._points=a;for(var n=[0],i=0,o=1;o<a.length;o++){var l=a[o-1],s=a[o];i+=at(l,s),n.push(i)}if(i===0){this._length=0;return}for(var o=0;o<n.length;o++)n[o]/=i;this._offsets=n,this._length=i},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var a=e.__t<1?e.__t:2-e.__t,n=this._points,i=this._offsets,o=n.length;if(i){var l=this._lastFrame,s;if(a<this._lastFramePercent){var u=Math.min(l+1,o-1);for(s=u;s>=0&&!(i[s]<=a);s--);s=Math.min(s,o-2)}else{for(s=l;s<o&&!(i[s]>a);s++);s=Math.min(s-1,o-2)}var v=(a-i[s])/(i[s+1]-i[s]),h=n[s],c=n[s+1];e.x=h[0]*(1-v)+v*c[0],e.y=h[1]*(1-v)+v*c[1];var f=e.__t<1?c[0]-h[0]:h[0]-c[0],g=e.__t<1?c[1]-h[1]:h[1]-c[1];e.rotation=-Math.atan2(g,f)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=a,e.ignore=!1}},t}(To);const Ec=Nc;var Mc=function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r}(),Rc=function(r){z(t,r);function t(e){var a=r.call(this,e)||this;return a._off=0,a.hoverDataIdx=-1,a}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Mc},t.prototype.buildPath=function(e,a){var n=a.segs,i=a.curveness,o;if(a.polyline)for(o=this._off;o<n.length;){var l=n[o++];if(l>0){e.moveTo(n[o++],n[o++]);for(var s=1;s<l;s++)e.lineTo(n[o++],n[o++])}}else for(o=this._off;o<n.length;){var u=n[o++],v=n[o++],h=n[o++],c=n[o++];if(e.moveTo(u,v),i>0){var f=(u+h)/2-(v-c)*i,g=(v+c)/2-(h-u)*i;e.quadraticCurveTo(f,g,h,c)}else e.lineTo(h,c)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(e,a){var n=this.shape,i=n.segs,o=n.curveness,l=this.style.lineWidth;if(n.polyline)for(var s=0,u=0;u<i.length;){var v=i[u++];if(v>0)for(var h=i[u++],c=i[u++],f=1;f<v;f++){var g=i[u++],p=i[u++];if(Fr(h,c,g,p,l,e,a))return s}s++}else for(var s=0,u=0;u<i.length;){var h=i[u++],c=i[u++],g=i[u++],p=i[u++];if(o>0){var d=(h+g)/2-(c-p)*o,m=(c+p)/2-(g-h)*o;if(ul(h,c,d,m,g,p,l,e,a))return s}else if(Fr(h,c,g,p,l,e,a))return s;s++}return-1},t.prototype.contain=function(e,a){var n=this.transformCoordToLocal(e,a),i=this.getBoundingRect();if(e=n[0],a=n[1],i.contain(e,a)){var o=this.hoverDataIdx=this.findDataIndex(e,a);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var a=this.shape,n=a.segs,i=1/0,o=1/0,l=-1/0,s=-1/0,u=0;u<n.length;){var v=n[u++],h=n[u++];i=Math.min(v,i),l=Math.max(v,l),o=Math.min(h,o),s=Math.max(h,s)}e=this._rect=new ct(i,o,l,s)}return e},t}(De),Vc=function(){function r(){this.group=new ae}return r.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},r.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(t,e){var a=this._newAdded[0],n=e.getLayout("linesPoints"),i=a&&a.shape.segs;if(i&&i.length<2e4){var o=i.length,l=new Float32Array(o+n.length);l.set(i),l.set(n,o),a.setShape({segs:l})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:n}),this._setCommon(s,e),s.__startIndex=t.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new Rc({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},r.prototype._setCommon=function(t,e,a){var n=e.hostModel;t.setShape({polyline:n.get("polyline"),curveness:n.get(["lineStyle","curveness"])}),t.useStyle(n.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var i=e.getVisual("style");i&&i.stroke&&t.setStyle("stroke",i.stroke),t.setStyle("fill",null);var o=le(t);o.seriesIndex=n.seriesIndex,t.on("mousemove",function(l){o.dataIndex=null;var s=t.hoverDataIdx;s>0&&(o.dataIndex=s+t.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}();const kc=Vc;var zc={seriesType:"lines",plan:ua(),reset:function(r){var t=r.coordinateSystem;if(t){var e=r.get("polyline"),a=r.pipelineContext.large;return{progress:function(n,i){var o=[];if(a){var l=void 0,s=n.end-n.start;if(e){for(var u=0,v=n.start;v<n.end;v++)u+=r.getLineCoordsCount(v);l=new Float32Array(s+u*2)}else l=new Float32Array(s*4);for(var h=0,c=[],v=n.start;v<n.end;v++){var f=r.getLineCoords(v,o);e&&(l[h++]=f);for(var g=0;g<f;g++)c=t.dataToPoint(o[g],!1,c),l[h++]=c[0],l[h++]=c[1]}i.setLayout("linesPoints",l)}else for(var v=n.start;v<n.end;v++){var p=i.getItemModel(v),f=r.getLineCoords(v,o),d=[];if(e)for(var m=0;m<f;m++)d.push(t.dataToPoint(o[m]));else{d[0]=t.dataToPoint(o[0]),d[1]=t.dataToPoint(o[1]);var y=p.get(["lineStyle","curveness"]);+y&&(d[2]=[(d[0][0]+d[1][0])/2-(d[0][1]-d[1][1])*y,(d[0][1]+d[1][1])/2-(d[1][0]-d[0][0])*y])}i.setItemLayout(v,d)}}}}}};const Po=zc;var Bc=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){var i=e.getData(),o=this._updateLineDraw(i,e),l=e.get("zlevel"),s=e.get(["effect","trailLength"]),u=n.getZr(),v=u.painter.getType()==="svg";v||u.painter.getLayer(l).clear(!0),this._lastZlevel!=null&&!v&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&s>0&&(v||u.configLayer(l,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),o.updateData(i);var h=e.get("clip",!0)&&ma(e.coordinateSystem,!1,e);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=l,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,a,n){var i=e.getData(),o=this._updateLineDraw(i,e);o.incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},t.prototype.incrementalRender=function(e,a,n){this._lineDraw.incrementalUpdate(e,a.getData()),this._finished=e.end===a.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,a,n){var i=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var l=Po.reset(e,a,n);l.progress&&l.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},t.prototype._updateLineDraw=function(e,a){var n=this._lineDraw,i=this._showEffect(a),o=!!a.get("polyline"),l=a.pipelineContext,s=l.large;return(!n||i!==this._hasEffet||o!==this._isPolyline||s!==this._isLargeDraw)&&(n&&n.remove(),n=this._lineDraw=s?new kc:new ki(o?i?Ec:Co:i?To:zi),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=s),this.group.add(n.group),n},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var a=e.getZr(),n=a.painter.getType()==="svg";!n&&this._lastZlevel!=null&&a.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,a){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(a)},t.prototype.dispose=function(e,a){this.remove(e,a)},t.type="lines",t}(ee);const Gc=Bc;var Oc=typeof Uint32Array>"u"?Array:Uint32Array,Fc=typeof Float64Array>"u"?Array:Float64Array;function Un(r){var t=r.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(r.data=J(t,function(e){var a=[e[0].coord,e[1].coord],n={coords:a};return e[0].name&&(n.fromName=e[0].name),e[1].name&&(n.toName=e[1].name),vl([n,e[0],e[1]])}))}var Hc=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.init=function(e){e.data=e.data||[],Un(e);var a=this._processFlatCoordsArray(e.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(e.data=new Float32Array(a.count)),r.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(Un(e),e.data){var a=this._processFlatCoordsArray(e.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(e.data=new Float32Array(a.count))}r.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var a=this._processFlatCoordsArray(e.data);a.flatCoords&&(this._flatCoords?(this._flatCoords=Qa(this._flatCoords,a.flatCoords),this._flatCoordsOffset=Qa(this._flatCoordsOffset,a.flatCoordsOffset)):(this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset),e.data=new Float32Array(a.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var a=this.getData().getItemModel(e),n=a.option instanceof Array?a.option:a.getShallow("coords");return n},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,a){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[e*2],i=this._flatCoordsOffset[e*2+1],o=0;o<i;o++)a[o]=a[o]||[],a[o][0]=this._flatCoords[n+o*2],a[o][1]=this._flatCoords[n+o*2+1];return i}else{for(var l=this._getCoordsFromItemModel(e),o=0;o<l.length;o++)a[o]=a[o]||[],a[o][0]=l[o][0],a[o][1]=l[o][1];return l.length}},t.prototype._processFlatCoordsArray=function(e){var a=0;if(this._flatCoords&&(a=this._flatCoords.length),Ie(e[0])){for(var n=e.length,i=new Oc(n),o=new Fc(n),l=0,s=0,u=0,v=0;v<n;){u++;var h=e[v++];i[s++]=l+a,i[s++]=h;for(var c=0;c<h;c++){var f=e[v++],g=e[v++];o[l++]=f,o[l++]=g}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,s),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,a){var n=new ot(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(i,o,l,s){if(i instanceof Array)return NaN;n.hasItemOption=!0;var u=i.value;if(u!=null)return u instanceof Array?u[s]:u}),n},t.prototype.formatTooltip=function(e,a,n){var i=this.getData(),o=i.getItemModel(e),l=o.get("name");if(l)return l;var s=o.get("fromName"),u=o.get("toName"),v=[];return s!=null&&v.push(s),u!=null&&v.push(u),Pe("nameValue",{name:v.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),a=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&a>0?a+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(ne);const $c=Hc;function Yt(r){return r instanceof Array||(r=[r,r]),r}var Wc={seriesType:"lines",reset:function(r){var t=Yt(r.get("symbol")),e=Yt(r.get("symbolSize")),a=r.getData();a.setVisual("fromSymbol",t&&t[0]),a.setVisual("toSymbol",t&&t[1]),a.setVisual("fromSymbolSize",e&&e[0]),a.setVisual("toSymbolSize",e&&e[1]);function n(i,o){var l=i.getItemModel(o),s=Yt(l.getShallow("symbol",!0)),u=Yt(l.getShallow("symbolSize",!0));s[0]&&i.setItemVisual(o,"fromSymbol",s[0]),s[1]&&i.setItemVisual(o,"toSymbol",s[1]),u[0]&&i.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&i.setItemVisual(o,"toSymbolSize",u[1])}return{dataEach:a.hasItemOption?n:null}}};const Uc=Wc;function Lp(r){r.registerChartView(Gc),r.registerSeriesModel($c),r.registerLayout(Po),r.registerVisual(Uc)}var Zc=256,Xc=function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Hr.createCanvas();this.canvas=t}return r.prototype.update=function(t,e,a,n,i,o){var l=this._getBrush(),s=this._getGradient(i,"inRange"),u=this._getGradient(i,"outOfRange"),v=this.pointSize+this.blurSize,h=this.canvas,c=h.getContext("2d"),f=t.length;h.width=e,h.height=a;for(var g=0;g<f;++g){var p=t[g],d=p[0],m=p[1],y=p[2],S=n(y);c.globalAlpha=S,c.drawImage(l,d-v,m-v)}if(!h.width||!h.height)return h;for(var b=c.getImageData(0,0,h.width,h.height),D=b.data,w=0,_=D.length,x=this.minOpacity,T=this.maxOpacity,L=T-x;w<_;){var S=D[w+3]/256,A=Math.floor(S*(Zc-1))*4;if(S>0){var I=o(S)?s:u;S>0&&(S=S*L+x),D[w++]=I[A],D[w++]=I[A+1],D[w++]=I[A+2],D[w++]=I[A+3]*S*256}else w+=4}return c.putImageData(b,0,0),h},r.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Hr.createCanvas()),e=this.pointSize+this.blurSize,a=e*2;t.width=a,t.height=a;var n=t.getContext("2d");return n.clearRect(0,0,a,a),n.shadowOffsetX=a,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,Math.PI*2,!0),n.closePath(),n.fill(),t},r.prototype._getGradient=function(t,e){for(var a=this._gradientPixels,n=a[e]||(a[e]=new Uint8ClampedArray(256*4)),i=[0,0,0,0],o=0,l=0;l<256;l++)t[e](l/255,!0,i),n[o++]=i[0],n[o++]=i[1],n[o++]=i[2],n[o++]=i[3];return n},r}();const Yc=Xc;function qc(r,t,e){var a=r[1]-r[0];t=J(t,function(o){return{interval:[(o.interval[0]-r[0])/a,(o.interval[1]-r[0])/a]}});var n=t.length,i=0;return function(o){var l;for(l=i;l<n;l++){var s=t[l].interval;if(s[0]<=o&&o<=s[1]){i=l;break}}if(l===n)for(l=i-1;l>=0;l--){var s=t[l].interval;if(s[0]<=o&&o<=s[1]){i=l;break}}return l>=0&&l<n&&e[l]}}function jc(r,t){var e=r[1]-r[0];return t=[(t[0]-r[0])/e,(t[1]-r[0])/e],function(a){return a>=t[0]&&a<=t[1]}}function Zn(r){var t=r.dimensions;return t[0]==="lng"&&t[1]==="lat"}var Kc=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){var i;a.eachComponent("visualMap",function(l){l.eachTargetSeries(function(s){s===e&&(i=l)})}),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):Zn(o)&&this._renderOnGeo(o,e,i,n)},t.prototype.incrementalPrepareRender=function(e,a,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,a,n,i){var o=a.coordinateSystem;o&&(Zn(o)?this.render(a,n,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(a,i,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){va(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,a,n,i,o){var l=e.coordinateSystem,s=ya(l,"cartesian2d"),u,v,h,c;if(s){var f=l.getAxis("x"),g=l.getAxis("y");u=f.getBandWidth()+.5,v=g.getBandWidth()+.5,h=f.scale.getExtent(),c=g.scale.getExtent()}for(var p=this.group,d=e.getData(),m=e.getModel(["emphasis","itemStyle"]).getItemStyle(),y=e.getModel(["blur","itemStyle"]).getItemStyle(),S=e.getModel(["select","itemStyle"]).getItemStyle(),b=e.get(["itemStyle","borderRadius"]),D=we(e),w=e.getModel("emphasis"),_=w.get("focus"),x=w.get("blurScope"),T=w.get("disabled"),L=s?[d.mapDimension("x"),d.mapDimension("y"),d.mapDimension("value")]:[d.mapDimension("time"),d.mapDimension("value")],A=n;A<i;A++){var I=void 0,N=d.getItemVisual(A,"style");if(s){var C=d.get(L[0],A),P=d.get(L[1],A);if(isNaN(d.get(L[2],A))||isNaN(C)||isNaN(P)||C<h[0]||C>h[1]||P<c[0]||P>c[1])continue;var E=l.dataToPoint([C,P]);I=new Le({shape:{x:E[0]-u/2,y:E[1]-v/2,width:u,height:v},style:N})}else{if(isNaN(d.get(L[1],A)))continue;I=new Le({z2:1,shape:l.dataToRect([d.get(L[0],A)]).contentShape,style:N})}if(d.hasItemOption){var R=d.getItemModel(A),M=R.getModel("emphasis");m=M.getModel("itemStyle").getItemStyle(),y=R.getModel(["blur","itemStyle"]).getItemStyle(),S=R.getModel(["select","itemStyle"]).getItemStyle(),b=R.get(["itemStyle","borderRadius"]),_=M.get("focus"),x=M.get("blurScope"),T=M.get("disabled"),D=we(R)}I.shape.r=b;var V=e.getRawValue(A),G="-";V&&V[2]!=null&&(G=V[2]+""),Te(I,D,{labelFetcher:e,labelDataIndex:A,defaultOpacity:N.opacity,defaultText:G}),I.ensureState("emphasis").style=m,I.ensureState("blur").style=y,I.ensureState("select").style=S,se(I,_,x,T),I.incremental=o,o&&(I.states.emphasis.hoverLayer=!0),p.add(I),d.setItemGraphicEl(A,I),this._progressiveEls&&this._progressiveEls.push(I)}},t.prototype._renderOnGeo=function(e,a,n,i){var o=n.targetVisuals.inRange,l=n.targetVisuals.outOfRange,s=a.getData(),u=this._hmLayer||this._hmLayer||new Yc;u.blurSize=a.get("blurSize"),u.pointSize=a.get("pointSize"),u.minOpacity=a.get("minOpacity"),u.maxOpacity=a.get("maxOpacity");var v=e.getViewRect().clone(),h=e.getRoamTransform();v.applyTransform(h);var c=Math.max(v.x,0),f=Math.max(v.y,0),g=Math.min(v.width+v.x,i.getWidth()),p=Math.min(v.height+v.y,i.getHeight()),d=g-c,m=p-f,y=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],S=s.mapArray(y,function(_,x,T){var L=e.dataToPoint([_,x]);return L[0]-=c,L[1]-=f,L.push(T),L}),b=n.getExtent(),D=n.type==="visualMap.continuous"?jc(b,n.option.range):qc(b,n.getPieceList(),n.option.selected);u.update(S,d,m,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:l.color.getColorMapper()},D);var w=new Rt({style:{width:d,height:m,x:c,y:f,image:u.canvas},silent:!0});this.group.add(w)},t.type="heatmap",t}(ee);const Qc=Kc;var Jc=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){return He(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=xi.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(ne);const ef=Jc;function Tp(r){r.registerChartView(Qc),r.registerSeriesModel(ef)}var tf=["itemStyle","borderWidth"],Xn=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Za=new Di,af=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){var i=this.group,o=e.getData(),l=this._data,s=e.coordinateSystem,u=s.getBaseAxis(),v=u.isHorizontal(),h=s.master.getRect(),c={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:s,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:v,valueDim:Xn[+v],categoryDim:Xn[1-+v]};return o.diff(l).add(function(f){if(o.hasValue(f)){var g=qn(o,f),p=Yn(o,f,g,c),d=jn(o,c,p);o.setItemGraphicEl(f,d),i.add(d),Qn(d,c,p)}}).update(function(f,g){var p=l.getItemGraphicEl(g);if(!o.hasValue(f)){i.remove(p);return}var d=qn(o,f),m=Yn(o,f,d,c),y=ko(o,m);p&&y!==p.__pictorialShapeStr&&(i.remove(p),o.setItemGraphicEl(f,null),p=null),p?vf(p,c,m):p=jn(o,c,m,!0),o.setItemGraphicEl(f,p),p.__pictorialSymbolMeta=m,i.add(p),Qn(p,c,m)}).remove(function(f){var g=l.getItemGraphicEl(f);g&&Kn(l,f,g.__pictorialSymbolMeta.animationModel,g)}).execute(),this._data=o,this.group},t.prototype.remove=function(e,a){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(o){Kn(i,le(o).dataIndex,e,o)}):n.removeAll()},t.type="pictorialBar",t}(ee);function Yn(r,t,e,a){var n=r.getItemLayout(t),i=e.get("symbolRepeat"),o=e.get("symbolClip"),l=e.get("symbolPosition")||"start",s=e.get("symbolRotate"),u=(s||0)*Math.PI/180||0,v=e.get("symbolPatternSize")||2,h=e.isAnimationEnabled(),c={dataIndex:t,layout:n,itemModel:e,symbolType:r.getItemVisual(t,"symbol")||"circle",style:r.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:i,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:u,animationModel:h?e:null,hoverScale:h&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};rf(e,i,n,a,c),nf(r,t,n,i,o,c.boundingLength,c.pxSign,v,a,c),of(e,c.symbolScale,u,a,c);var f=c.symbolSize,g=Ti(e.get("symbolOffset"),f);return lf(e,f,n,i,o,g,l,c.valueLineWidth,c.boundingLength,c.repeatCutLength,a,c),c}function rf(r,t,e,a,n){var i=a.valueDim,o=r.get("symbolBoundingData"),l=a.coordSys.getOtherAxis(a.coordSys.getBaseAxis()),s=l.toGlobalCoord(l.dataToCoord(0)),u=1-+(e[i.wh]<=0),v;if(Y(o)){var h=[Xa(l,o[0])-s,Xa(l,o[1])-s];h[1]<h[0]&&h.reverse(),v=h[u]}else o!=null?v=Xa(l,o)-s:t?v=a.coordSysExtent[i.index][u]-s:v=e[i.wh];n.boundingLength=v,t&&(n.repeatCutLength=e[i.wh]),n.pxSign=v>0?1:-1}function Xa(r,t){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(t)))}function nf(r,t,e,a,n,i,o,l,s,u){var v=s.valueDim,h=s.categoryDim,c=Math.abs(e[h.wh]),f=r.getItemVisual(t,"symbolSize"),g;Y(f)?g=f.slice():f==null?g=["100%","100%"]:g=[f,f],g[h.index]=O(g[h.index],c),g[v.index]=O(g[v.index],a?c:Math.abs(i)),u.symbolSize=g;var p=u.symbolScale=[g[0]/l,g[1]/l];p[v.index]*=(s.isHorizontal?-1:1)*o}function of(r,t,e,a,n){var i=r.get(tf)||0;i&&(Za.attr({scaleX:t[0],scaleY:t[1],rotation:e}),Za.updateTransform(),i/=Za.getLineScale(),i*=t[a.valueDim.index]),n.valueLineWidth=i||0}function lf(r,t,e,a,n,i,o,l,s,u,v,h){var c=v.categoryDim,f=v.valueDim,g=h.pxSign,p=Math.max(t[f.index]+l,0),d=p;if(a){var m=Math.abs(s),y=Lt(r.get("symbolMargin"),"15%")+"",S=!1;y.lastIndexOf("!")===y.length-1&&(S=!0,y=y.slice(0,y.length-1));var b=O(y,t[f.index]),D=Math.max(p+b*2,0),w=S?0:b*2,_=Cl(a),x=_?a:Jn((m+w)/D),T=m-x*p;b=T/2/(S?x:Math.max(x-1,1)),D=p+b*2,w=S?0:b*2,!_&&a!=="fixed"&&(x=u?Jn((Math.abs(u)+w)/D):0),d=x*D-w,h.repeatTimes=x,h.symbolMargin=b}var L=g*(d/2),A=h.pathPosition=[];A[c.index]=e[c.wh]/2,A[f.index]=o==="start"?L:o==="end"?s-L:s/2,i&&(A[0]+=i[0],A[1]+=i[1]);var I=h.bundlePosition=[];I[c.index]=e[c.xy],I[f.index]=e[f.xy];var N=h.barRectShape=U({},e);N[f.wh]=g*Math.max(Math.abs(e[f.wh]),Math.abs(A[f.index]+L)),N[c.wh]=e[c.wh];var C=h.clipShape={};C[c.xy]=-e[c.xy],C[c.wh]=v.ecSize[c.wh],C[f.xy]=0,C[f.wh]=e[f.wh]}function No(r){var t=r.symbolPatternSize,e=Ve(r.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function Eo(r,t,e,a){var n=r.__pictorialBundle,i=e.symbolSize,o=e.valueLineWidth,l=e.pathPosition,s=t.valueDim,u=e.repeatTimes||0,v=0,h=i[t.valueDim.index]+o+e.symbolMargin*2;for(Tr(r,function(p){p.__pictorialAnimationIndex=v,p.__pictorialRepeatTimes=u,v<u?ht(p,null,g(v),e,a):ht(p,null,{scaleX:0,scaleY:0},e,a,function(){n.remove(p)}),v++});v<u;v++){var c=No(e);c.__pictorialAnimationIndex=v,c.__pictorialRepeatTimes=u,n.add(c);var f=g(v);ht(c,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},e,a)}function g(p){var d=l.slice(),m=e.pxSign,y=p;return(e.symbolRepeatDirection==="start"?m>0:m<0)&&(y=u-1-p),d[s.index]=h*(y-u/2+.5)+l[s.index],{x:d[0],y:d[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function Mo(r,t,e,a){var n=r.__pictorialBundle,i=r.__pictorialMainPath;i?ht(i,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,a):(i=r.__pictorialMainPath=No(e),n.add(i),ht(i,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,a))}function Ro(r,t,e){var a=U({},t.barRectShape),n=r.__pictorialBarRect;n?ht(n,null,{shape:a},t,e):(n=r.__pictorialBarRect=new Le({z2:2,shape:a,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),n.disableMorphing=!0,r.add(n))}function Vo(r,t,e,a){if(e.symbolClip){var n=r.__pictorialClipPath,i=U({},e.clipShape),o=t.valueDim,l=e.animationModel,s=e.dataIndex;if(n)K(n,{shape:i},l,s);else{i[o.wh]=0,n=new Le({shape:i}),r.__pictorialBundle.setClipPath(n),r.__pictorialClipPath=n;var u={};u[o.wh]=e.clipShape[o.wh],ca[a?"updateProps":"initProps"](n,{shape:u},l,s)}}}function qn(r,t){var e=r.getItemModel(t);return e.getAnimationDelayParams=sf,e.isAnimationEnabled=uf,e}function sf(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function uf(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function jn(r,t,e,a){var n=new ae,i=new ae;return n.add(i),n.__pictorialBundle=i,i.x=e.bundlePosition[0],i.y=e.bundlePosition[1],e.symbolRepeat?Eo(n,t,e):Mo(n,t,e),Ro(n,e,a),Vo(n,t,e,a),n.__pictorialShapeStr=ko(r,e),n.__pictorialSymbolMeta=e,n}function vf(r,t,e){var a=e.animationModel,n=e.dataIndex,i=r.__pictorialBundle;K(i,{x:e.bundlePosition[0],y:e.bundlePosition[1]},a,n),e.symbolRepeat?Eo(r,t,e,!0):Mo(r,t,e,!0),Ro(r,e,!0),Vo(r,t,e,!0)}function Kn(r,t,e,a){var n=a.__pictorialBarRect;n&&n.removeTextContent();var i=[];Tr(a,function(o){i.push(o)}),a.__pictorialMainPath&&i.push(a.__pictorialMainPath),a.__pictorialClipPath&&(e=null),k(i,function(o){Jt(o,{scaleX:0,scaleY:0},e,t,function(){a.parent&&a.parent.remove(a)})}),r.setItemGraphicEl(t,null)}function ko(r,t){return[r.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Tr(r,t,e){k(r.__pictorialBundle.children(),function(a){a!==r.__pictorialBarRect&&t.call(e,a)})}function ht(r,t,e,a,n,i){t&&r.attr(t),a.symbolClip&&!n?e&&r.attr(e):e&&ca[n?"updateProps":"initProps"](r,e,a.animationModel,a.dataIndex,i)}function Qn(r,t,e){var a=e.dataIndex,n=e.itemModel,i=n.getModel("emphasis"),o=i.getModel("itemStyle").getItemStyle(),l=n.getModel(["blur","itemStyle"]).getItemStyle(),s=n.getModel(["select","itemStyle"]).getItemStyle(),u=n.getShallow("cursor"),v=i.get("focus"),h=i.get("blurScope"),c=i.get("scale");Tr(r,function(p){if(p instanceof Rt){var d=p.style;p.useStyle(U({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},e.style))}else p.useStyle(e.style);var m=p.ensureState("emphasis");m.style=o,c&&(m.scaleX=p.scaleX*1.1,m.scaleY=p.scaleY*1.1),p.ensureState("blur").style=l,p.ensureState("select").style=s,u&&(p.cursor=u),p.z2=e.z2});var f=t.valueDim.posDesc[+(e.boundingLength>0)],g=r.__pictorialBarRect;Te(g,we(n),{labelFetcher:t.seriesModel,labelDataIndex:a,defaultText:Ct(t.seriesModel.getData(),a),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:f}),se(r,v,h,i.get("disabled"))}function Jn(r){var t=Math.round(r);return Math.abs(r-t)<1e-4?t:Math.ceil(r)}const hf=af;var cf=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return t.prototype.getInitialData=function(e){return e.stack=null,r.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=di(ta.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(ta);const ff=cf;function Cp(r){r.registerChartView(hf),r.registerSeriesModel(ff),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,ye(mi,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Si("pictorialBar"))}var pf=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return t.prototype.render=function(e,a,n){var i=e.getData(),o=this,l=this.group,s=e.getLayerSeries(),u=i.getLayout("layoutInfo"),v=u.rect,h=u.boundaryGap;l.x=0,l.y=v.y+h[0];function c(d){return d.name}var f=new pa(this._layersSeries||[],s,c,c),g=[];f.add(ue(p,this,"add")).update(ue(p,this,"update")).remove(ue(p,this,"remove")).execute();function p(d,m,y){var S=o._layers;if(d==="remove"){l.remove(S[m]);return}for(var b=[],D=[],w,_=s[m].indices,x=0;x<_.length;x++){var T=i.getItemLayout(_[x]),L=T.x,A=T.y0,I=T.y;b.push(L,A),D.push(L,A+I),w=i.getItemVisual(_[x],"style")}var N,C=i.getItemLayout(_[0]),P=e.getModel("label"),E=P.get("margin"),R=e.getModel("emphasis");if(d==="add"){var M=g[m]=new ae;N=new Wi({shape:{points:b,stackedOnPoints:D,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),M.add(N),l.add(M),e.isAnimationEnabled()&&N.setClipPath(gf(N.getBoundingRect(),e,function(){N.removeClipPath()}))}else{var M=S[y];N=M.childAt(0),l.add(M),g[m]=M,K(N,{shape:{points:b,stackedOnPoints:D}},e),ke(N)}Te(N,we(e),{labelDataIndex:_[x-1],defaultText:i.getName(_[x-1]),inheritColor:w.fill},{normal:{verticalAlign:"middle"}}),N.setTextConfig({position:null,local:!0});var V=N.getTextContent();V&&(V.x=C.x-E,V.y=C.y0+C.y/2),N.useStyle(w),i.setItemGraphicEl(m,N),ge(N,e),se(N,R.get("focus"),R.get("blurScope"),R.get("disabled"))}this._layersSeries=s,this._layers=g},t.type="themeRiver",t}(ee);function gf(r,t,e){var a=new Le({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return oe(a,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},t,e),a}const df=pf;var Ya=2,yf=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Gt(ue(this.getData,this),ue(this.getRawData,this))},t.prototype.fixData=function(e){var a=e.length,n={},i=ar(e,function(c){return n.hasOwnProperty(c[0]+"")||(n[c[0]+""]=-1),c[2]}),o=[];i.buckets.each(function(c,f){o.push({name:f,dataList:c})});for(var l=o.length,s=0;s<l;++s){for(var u=o[s].name,v=0;v<o[s].dataList.length;++v){var h=o[s].dataList[v][0]+"";n[h]=s}for(var h in n)n.hasOwnProperty(h)&&n[h]!==s&&(n[h]=s,e[a]=[h,0,u],a++)}return e},t.prototype.getInitialData=function(e,a){for(var n=this.getReferringComponents("singleAxis",Pl).models[0],i=n.get("type"),o=fr(e.data,function(g){return g[2]!==void 0}),l=this.fixData(o||[]),s=[],u=this.nameMap=cr(),v=0,h=0;h<l.length;++h)s.push(l[h][Ya]),u.get(l[h][Ya])||(u.set(l[h][Ya],v),v++);var c=sa(l,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:rr(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,f=new ot(c,this);return f.initData(l),f},t.prototype.getLayerSeries=function(){for(var e=this.getData(),a=e.count(),n=[],i=0;i<a;++i)n[i]=i;var o=e.mapDimension("single"),l=ar(n,function(u){return e.get("name",u)}),s=[];return l.buckets.each(function(u,v){u.sort(function(h,c){return e.get(o,h)-e.get(o,c)}),s.push({name:v,indices:u})}),s},t.prototype.getAxisTooltipData=function(e,a,n){Y(e)||(e=e?[e]:[]);for(var i=this.getData(),o=this.getLayerSeries(),l=[],s=o.length,u,v=0;v<s;++v){for(var h=Number.MAX_VALUE,c=-1,f=o[v].indices.length,g=0;g<f;++g){var p=i.get(e[0],o[v].indices[g]),d=Math.abs(p-a);d<=h&&(u=p,h=d,c=o[v].indices[g])}l.push(c)}return{dataIndices:l,nestestValue:u}},t.prototype.formatTooltip=function(e,a,n){var i=this.getData(),o=i.getName(e),l=i.get(i.mapDimension("value"),e);return Pe("nameValue",{name:o,value:l})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(ne);const mf=yf;function Sf(r,t){r.eachSeriesByType("themeRiver",function(e){var a=e.getData(),n=e.coordinateSystem,i={},o=n.getRect();i.rect=o;var l=e.get("boundaryGap"),s=n.getAxis();if(i.boundaryGap=l,s.orient==="horizontal"){l[0]=O(l[0],o.height),l[1]=O(l[1],o.height);var u=o.height-l[0]-l[1];ei(a,e,u)}else{l[0]=O(l[0],o.width),l[1]=O(l[1],o.width);var v=o.width-l[0]-l[1];ei(a,e,v)}a.setLayout("layoutInfo",i)})}function ei(r,t,e){if(r.count())for(var a=t.coordinateSystem,n=t.getLayerSeries(),i=r.mapDimension("single"),o=r.mapDimension("value"),l=J(n,function(d){return J(d.indices,function(m){var y=a.dataToPoint(r.get(i,m));return y[1]=r.get(o,m),y})}),s=bf(l),u=s.y0,v=e/s.max,h=n.length,c=n[0].indices.length,f,g=0;g<c;++g){f=u[g]*v,r.setItemLayout(n[0].indices[g],{layerIndex:0,x:l[0][g][0],y0:f,y:l[0][g][1]*v});for(var p=1;p<h;++p)f+=l[p-1][g][1]*v,r.setItemLayout(n[p].indices[g],{layerIndex:p,x:l[p][g][0],y0:f,y:l[p][g][1]*v})}}function bf(r){for(var t=r.length,e=r[0].length,a=[],n=[],i=0,o=0;o<e;++o){for(var l=0,s=0;s<t;++s)l+=r[s][o][1];l>i&&(i=l),a.push(l)}for(var u=0;u<e;++u)n[u]=(i-a[u])/2;i=0;for(var v=0;v<e;++v){var h=a[v]+n[v];h>i&&(i=h)}return{y0:n,max:i}}function Pp(r){r.registerChartView(df),r.registerSeriesModel(mf),r.registerLayout(Sf),r.registerProcessor(Bt("themeRiver"))}var wf=2,Df=4,_f=function(r){z(t,r);function t(e,a,n,i){var o=r.call(this)||this;o.z2=wf,o.textConfig={inside:!0},le(o).seriesIndex=a.seriesIndex;var l=new Ee({z2:Df,silent:e.getModel().get(["label","silent"])});return o.setTextContent(l),o.updateData(!0,e,a,n,i),o}return t.prototype.updateData=function(e,a,n,i,o){this.node=a,a.piece=this,n=n||this._seriesModel,i=i||this._ecModel;var l=this;le(l).dataIndex=a.dataIndex;var s=a.getModel(),u=s.getModel("emphasis"),v=a.getLayout(),h=U({},v);h.label=null;var c=a.getVisual("style");c.lineJoin="bevel";var f=a.getVisual("decal");f&&(c.decal=Ci(f,o));var g=nt(s.getModel("itemStyle"),h,!0);U(h,g),k(Tt,function(y){var S=l.ensureState(y),b=s.getModel([y,"itemStyle"]);S.style=b.getItemStyle();var D=nt(b,h);D&&(S.shape=D)}),e?(l.setShape(h),l.shape.r=v.r0,oe(l,{shape:{r:v.r}},n,a.dataIndex)):(K(l,{shape:h},n),ke(l)),l.useStyle(c),this._updateLabel(n);var p=s.getShallow("cursor");p&&l.attr("cursor",p),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel;var d=u.get("focus"),m=d==="ancestor"?a.getAncestorsIndices():d==="descendant"?a.getDescendantIndices():d;se(this,m,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e){var a=this,n=this.node.getModel(),i=n.getModel("label"),o=this.node.getLayout(),l=o.endAngle-o.startAngle,s=(o.startAngle+o.endAngle)/2,u=Math.cos(s),v=Math.sin(s),h=this,c=h.getTextContent(),f=this.node.dataIndex,g=i.get("minAngle")/180*Math.PI,p=i.get("show")&&!(g!=null&&Math.abs(l)<g);c.ignore=!p,k(tr,function(m){var y=m==="normal"?n.getModel("label"):n.getModel([m,"label"]),S=m==="normal",b=S?c:c.ensureState(m),D=e.getFormattedLabel(f,m);S&&(D=D||a.node.name),b.style=Be(y,{},null,m!=="normal",!0),D&&(b.style.text=D);var w=y.get("show");w!=null&&!S&&(b.ignore=!w);var _=d(y,"position"),x=S?h:h.states[m],T=x.style.fill;x.textConfig={outsideFill:y.get("color")==="inherit"?T:null,inside:_!=="outside"};var L,A=d(y,"distance")||0,I=d(y,"align");_==="outside"?(L=o.r+A,I=s>Math.PI/2?"right":"left"):!I||I==="center"?(l===2*Math.PI&&o.r0===0?L=0:L=(o.r+o.r0)/2,I="center"):I==="left"?(L=o.r0+A,s>Math.PI/2&&(I="right")):I==="right"&&(L=o.r-A,s>Math.PI/2&&(I="left")),b.style.align=I,b.style.verticalAlign=d(y,"verticalAlign")||"middle",b.x=L*u+o.cx,b.y=L*v+o.cy;var N=d(y,"rotate"),C=0;N==="radial"?(C=hl(-s),C>Math.PI/2&&C<Math.PI*1.5&&(C+=Math.PI)):N==="tangential"?(C=Math.PI/2-s,C>Math.PI/2?C-=Math.PI:C<-Math.PI/2&&(C+=Math.PI)):Ie(N)&&(C=N*Math.PI/180),b.rotation=C});function d(m,y){var S=m.get(y);return S??i.get(y)}c.dirtyStyle()},t}(Ke);const ti=_f;var ur="sunburstRootToNode",ai="sunburstHighlight",xf="sunburstUnhighlight";function Af(r){r.registerAction({type:ur,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},a);function a(n,i){var o=Pt(t,[ur],n);if(o){var l=n.getViewRoot();l&&(t.direction=_r(l,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}}}),r.registerAction({type:ai,update:"none"},function(t,e,a){t=U({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(i){var o=Pt(t,[ai],i);o&&(t.dataIndex=o.node.dataIndex)}a.dispatchAction(U(t,{type:"highlight"}))}),r.registerAction({type:xf,update:"updateView"},function(t,e,a){t=U({},t),a.dispatchAction(U(t,{type:"downplay"}))})}var If=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n,i){var o=this;this.seriesModel=e,this.api=n,this.ecModel=a;var l=e.getData(),s=l.tree.root,u=e.getViewRoot(),v=this.group,h=e.get("renderLabelForZeroData"),c=[];u.eachNode(function(y){c.push(y)});var f=this._oldChildren||[];g(c,f),m(s,u),this._initEvents(),this._oldChildren=c;function g(y,S){if(y.length===0&&S.length===0)return;new pa(S,y,b,b).add(D).update(D).remove(ye(D,null)).execute();function b(w){return w.getId()}function D(w,_){var x=w==null?null:y[w],T=_==null?null:S[_];p(x,T)}}function p(y,S){if(!h&&y&&!y.getValue()&&(y=null),y!==s&&S!==s){if(S&&S.piece)y?(S.piece.updateData(!1,y,e,a,n),l.setItemGraphicEl(y.dataIndex,S.piece)):d(S);else if(y){var b=new ti(y,e,a,n);v.add(b),l.setItemGraphicEl(y.dataIndex,b)}}}function d(y){y&&y.piece&&(v.remove(y.piece),y.piece=null)}function m(y,S){S.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,y,e,a,n):(o.virtualPiece=new ti(y,e,a,n),v.add(o.virtualPiece)),S.piece.off("click"),o.virtualPiece.on("click",function(b){o._rootToNode(S.parentNode)})):o.virtualPiece&&(v.remove(o.virtualPiece),o.virtualPiece=null)}},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(a){var n=!1,i=e.seriesModel.getViewRoot();i.eachNode(function(o){if(!n&&o.piece&&o.piece===a.target){var l=o.getModel().get("nodeClick");if(l==="rootToNode")e._rootToNode(o);else if(l==="link"){var s=o.getModel(),u=s.get("link");if(u){var v=s.get("target",!0)||"_blank";_i(u,v)}}n=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ur,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,a){var n=a.getData(),i=n.getItemLayout(0);if(i){var o=e[0]-i.cx,l=e[1]-i.cy,s=Math.sqrt(o*o+l*l);return s<=i.r&&s>=i.r0}},t.type="sunburst",t}(ee);const Lf=If;var Tf=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e,a){var n={name:e.name,children:e.data};zo(n);var i=this._levelModels=J(e.levels||[],function(s){return new lt(s,this,a)},this),o=Dr.createTree(n,this,l);function l(s){s.wrapMethod("getItemModel",function(u,v){var h=o.getNodeByDataIndex(v),c=i[h.depth];return c&&(u.parentModel=c),u})}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var a=r.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return a.treePathInfo=Sa(n,this),a},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var a=this.getRawData().tree.root;(!e||e!==a&&!a.contains(e))&&(this._viewRoot=a)},t.prototype.enableAriaDecal=function(){oo(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(ne);function zo(r){var t=0;k(r.children,function(a){zo(a);var n=a.value;Y(n)&&(n=n[0]),t+=n});var e=r.value;Y(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Y(r.value)?r.value[0]=e:r.value=e}const Cf=Tf;var ri=Math.PI/180;function Pf(r,t,e){t.eachSeriesByType(r,function(a){var n=a.get("center"),i=a.get("radius");Y(i)||(i=[0,i]),Y(n)||(n=[n,n]);var o=e.getWidth(),l=e.getHeight(),s=Math.min(o,l),u=O(n[0],o),v=O(n[1],l),h=O(i[0],s/2),c=O(i[1],s/2),f=-a.get("startAngle")*ri,g=a.get("minAngle")*ri,p=a.getData().tree.root,d=a.getViewRoot(),m=d.depth,y=a.get("sort");y!=null&&Bo(d,y);var S=0;k(d.children,function(E){!isNaN(E.getValue())&&S++});var b=d.getValue(),D=Math.PI/(b||S)*2,w=d.depth>0,_=d.height-(w?-1:1),x=(c-h)/(_||1),T=a.get("clockwise"),L=a.get("stillShowZeroSum"),A=T?1:-1,I=function(E,R){if(E){var M=R;if(E!==p){var V=E.getValue(),G=b===0&&L?D:V*D;G<g&&(G=g),M=R+A*G;var B=E.depth-m-(w?-1:1),W=h+x*B,$=h+x*(B+1),F=a.getLevelModel(E);if(F){var X=F.get("r0",!0),j=F.get("r",!0),Z=F.get("radius",!0);Z!=null&&(X=Z[0],j=Z[1]),X!=null&&(W=O(X,s/2)),j!=null&&($=O(j,s/2))}E.setLayout({angle:G,startAngle:R,endAngle:M,clockwise:T,cx:u,cy:v,r0:W,r:$})}if(E.children&&E.children.length){var H=0;k(E.children,function(Q){H+=I(Q,R+H)})}return M-R}};if(w){var N=h,C=h+x,P=Math.PI*2;p.setLayout({angle:P,startAngle:f,endAngle:f+P,clockwise:T,cx:u,cy:v,r0:N,r:C})}I(d,f)})}function Bo(r,t){var e=r.children||[];r.children=Nf(e,t),e.length&&k(r.children,function(a){Bo(a,t)})}function Nf(r,t){if(be(t)){var e=J(r,function(n,i){var o=n.getValue();return{params:{depth:n.depth,height:n.height,dataIndex:n.dataIndex,getValue:function(){return o}},index:i}});return e.sort(function(n,i){return t(n.params,i.params)}),J(e,function(n){return r[n.index]})}else{var a=t==="asc";return r.sort(function(n,i){var o=(n.getValue()-i.getValue())*(a?1:-1);return o===0?(n.dataIndex-i.dataIndex)*(a?-1:1):o})}}function Ef(r){var t={};function e(a,n,i){for(var o=a;o&&o.depth>1;)o=o.parentNode;var l=n.getColorFromPalette(o.name||o.dataIndex+"",t);return a.depth>1&&Re(l)&&(l=cl(l,(a.depth-1)/(i-1)*.5)),l}r.eachSeriesByType("sunburst",function(a){var n=a.getData(),i=n.tree;i.eachNode(function(o){var l=o.getModel(),s=l.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e(o,a,i.root.height));var u=n.ensureUniqueItemVisual(o.dataIndex,"style");U(u,s)})})}function Np(r){r.registerChartView(Lf),r.registerSeriesModel(Cf),r.registerLayout(ye(Pf,"sunburst")),r.registerProcessor(ye(Bt,"sunburst")),r.registerVisual(Ef),Af(r)}var ni={color:"fill",borderColor:"stroke"},Mf={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Oe=Vt(),Rf=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,a){return He(null,this)},t.prototype.getDataParams=function(e,a,n){var i=r.prototype.getDataParams.call(this,e,a);return n&&(i.info=Oe(n).info),i},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(ne);const Vf=Rf;function kf(r,t){return t=t||[0,0],J(["x","y"],function(e,a){var n=this.getAxis(e),i=t[a],o=r[a]/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(i-o)-n.dataToCoord(i+o))},this)}function zf(r){var t=r.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:ue(kf,r)}}}function Bf(r,t){return t=t||[0,0],J([0,1],function(e){var a=t[e],n=r[e]/2,i=[],o=[];return i[e]=a-n,o[e]=a+n,i[1-e]=o[1-e]=t[1-e],Math.abs(this.dataToPoint(i)[e]-this.dataToPoint(o)[e])},this)}function Gf(r){var t=r.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:r.getZoom()},api:{coord:function(e){return r.dataToPoint(e)},size:ue(Bf,r)}}}function Of(r,t){var e=this.getAxis(),a=t instanceof Array?t[0]:t,n=(r instanceof Array?r[0]:r)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(a-n)-e.dataToCoord(a+n))}function Ff(r){var t=r.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:ue(Of,r)}}}function Hf(r,t){return t=t||[0,0],J(["Radius","Angle"],function(e,a){var n="get"+e+"Axis",i=this[n](),o=t[a],l=r[a]/2,s=i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(o-l)-i.dataToCoord(o+l));return e==="Angle"&&(s=s*Math.PI/180),s},this)}function $f(r){var t=r.getRadiusAxis(),e=r.getAngleAxis(),a=t.getExtent();return a[0]>a[1]&&a.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:a[1],r0:a[0]},api:{coord:function(n){var i=t.dataToRadius(n[0]),o=e.dataToAngle(n[1]),l=r.coordToPoint([i,o]);return l.push(i,o*Math.PI/180),l},size:ue(Hf,r)}}}function Wf(r){var t=r.getRect(),e=r.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(a,n){return r.dataToPoint(a,n)}}}}var Fe="emphasis",Ye="normal",Cr="blur",Pr="select",Je=[Ye,Fe,Cr,Pr],qa={normal:["itemStyle"],emphasis:[Fe,"itemStyle"],blur:[Cr,"itemStyle"],select:[Pr,"itemStyle"]},ja={normal:["label"],emphasis:[Fe,"label"],blur:[Cr,"label"],select:[Pr,"label"]},Uf=["x","y"],Zf="e\0\0",xe={normal:{},emphasis:{},blur:{},select:{}},Xf={cartesian2d:zf,geo:Gf,single:Ff,polar:$f,calendar:Wf};function vr(r){return r instanceof De}function hr(r){return r instanceof hi}function Yf(r,t){t.copyTransform(r),hr(t)&&hr(r)&&(t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t.invisible=r.invisible,t.ignore=r.ignore,vr(t)&&vr(r)&&t.setShape(r.shape))}var qf=function(r){z(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n,i){this._progressiveEls=null;var o=this._data,l=e.getData(),s=this.group,u=ii(e,l,a,n);o||s.removeAll(),l.diff(o).add(function(h){Ka(n,null,h,u(h,i),e,s,l)}).remove(function(h){var c=o.getItemGraphicEl(h);c&&br(c,Oe(c).option,e)}).update(function(h,c){var f=o.getItemGraphicEl(c);Ka(n,f,h,u(h,i),e,s,l)}).execute();var v=e.get("clip",!0)?ma(e.coordinateSystem,!1,e):null;v?s.setClipPath(v):s.removeClipPath(),this._data=l},t.prototype.incrementalPrepareRender=function(e,a,n){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,a,n,i,o){var l=a.getData(),s=ii(a,l,n,i),u=this._progressiveEls=[];function v(f){f.isGroup||(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}for(var h=e.start;h<e.end;h++){var c=Ka(null,null,h,s(h,o),a,this.group,l);c&&(c.traverse(v),u.push(c))}},t.prototype.eachRendered=function(e){va(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,a,n,i){var o=a.element;if(o==null||n.name===o)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===o)return!0;return!1},t.type="custom",t}(ee);const jf=qf;function Nr(r){var t=r.type,e;if(t==="path"){var a=r.shape,n=a.width!=null&&a.height!=null?{x:a.x||0,y:a.y||0,width:a.width,height:a.height}:null,i=Fo(a);e=Ml(i,null,n,a.layout||"center"),Oe(e).customPathData=i}else if(t==="image")e=new Rt({}),Oe(e).customImagePath=r.style.image;else if(t==="text")e=new Ee({});else if(t==="group")e=new ae;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var o=Rl(t);if(!o){var l="";Li(l)}e=new o}return Oe(e).customGraphicType=t,e.name=r.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function Er(r,t,e,a,n,i,o){Wl(t);var l=n&&n.normal.cfg;l&&t.setTextConfig(l),a&&a.transition==null&&(a.transition=Uf);var s=a&&a.style;if(s){if(t.type==="text"){var u=s;Ge(u,"textFill")&&(u.fill=u.textFill),Ge(u,"textStroke")&&(u.stroke=u.textStroke)}var v=void 0,h=vr(t)?s.decal:null;r&&h&&(h.dirty=!0,v=Ci(h,r)),s.__decalPattern=v}if(hr(t)&&s){var v=s.__decalPattern;v&&(s.decal=v)}Ul(t,a,i,{dataIndex:e,isInit:o,clearStyle:!0}),Zl(t,a.keyframeAnimation,i)}function Go(r,t,e,a,n){var i=t.isGroup?null:t,o=n&&n[r].cfg;if(i){var l=i.ensureState(r);if(a===!1){var s=i.getState(r);s&&(s.style=null)}else l.style=a||null;o&&(l.textConfig=o),Qt(i)}}function Kf(r,t,e){if(!r.isGroup){var a=r,n=e.currentZ,i=e.currentZLevel;a.z=n,a.zlevel=i;var o=t.z2;o!=null&&(a.z2=o||0);for(var l=0;l<Je.length;l++)Qf(a,t,Je[l])}}function Qf(r,t,e){var a=e===Ye,n=a?t:oa(t,e),i=n?n.z2:null,o;i!=null&&(o=a?r:r.ensureState(e),o.z2=i||0)}function ii(r,t,e,a){var n=r.get("renderItem"),i=r.coordinateSystem,o={};i&&(o=i.prepareCustoms?i.prepareCustoms(i):Xf[i.type](i));for(var l=Me({getWidth:a.getWidth,getHeight:a.getHeight,getZr:a.getZr,getDevicePixelRatio:a.getDevicePixelRatio,value:b,style:w,ordinalRawValue:D,styleEmphasis:_,visual:L,barLayout:A,currentSeriesIndices:I,font:N},o.api||{}),s={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:o.coordSys,dataInsideLength:t.count(),encode:Jf(r.getData())},u,v,h={},c={},f={},g={},p=0;p<Je.length;p++){var d=Je[p];f[d]=r.getModel(qa[d]),g[d]=r.getModel(ja[d])}function m(C){return C===u?v||(v=t.getItemModel(C)):t.getItemModel(C)}function y(C,P){return t.hasItemOption?C===u?h[P]||(h[P]=m(C).getModel(qa[P])):m(C).getModel(qa[P]):f[P]}function S(C,P){return t.hasItemOption?C===u?c[P]||(c[P]=m(C).getModel(ja[P])):m(C).getModel(ja[P]):g[P]}return function(C,P){return u=C,v=null,h={},c={},n&&n(Me({dataIndexInside:C,dataIndex:t.getRawIndex(C),actionType:P?P.type:null},s),l)};function b(C,P){return P==null&&(P=u),t.getStore().get(t.getDimensionIndex(C||0),P)}function D(C,P){P==null&&(P=u),C=C||0;var E=t.getDimensionInfo(C);if(!E){var R=t.getDimensionIndex(C);return R>=0?t.getStore().get(R,P):void 0}var M=t.get(E.name,P),V=E&&E.ordinalMeta;return V?V.categories[M]:M}function w(C,P){P==null&&(P=u);var E=t.getItemVisual(P,"style"),R=E&&E.fill,M=E&&E.opacity,V=y(P,Ye).getItemStyle();R!=null&&(V.fill=R),M!=null&&(V.opacity=M);var G={inheritColor:Re(R)?R:"#000"},B=S(P,Ye),W=Be(B,null,G,!1,!0);W.text=B.getShallow("show")?It(r.getFormattedLabel(P,Ye),Ct(t,P)):null;var $=Kr(B,G,!1);return T(C,V),V=Qr(V,W,$),C&&x(V,C),V.legacy=!0,V}function _(C,P){P==null&&(P=u);var E=y(P,Fe).getItemStyle(),R=S(P,Fe),M=Be(R,null,null,!0,!0);M.text=R.getShallow("show")?Mt(r.getFormattedLabel(P,Fe),r.getFormattedLabel(P,Ye),Ct(t,P)):null;var V=Kr(R,null,!0);return T(C,E),E=Qr(E,M,V),C&&x(E,C),E.legacy=!0,E}function x(C,P){for(var E in P)Ge(P,E)&&(C[E]=P[E])}function T(C,P){C&&(C.textFill&&(P.textFill=C.textFill),C.textPosition&&(P.textPosition=C.textPosition))}function L(C,P){if(P==null&&(P=u),Ge(ni,C)){var E=t.getItemVisual(P,"style");return E?E[ni[C]]:null}if(Ge(Mf,C))return t.getItemVisual(P,C)}function A(C){if(i.type==="cartesian2d"){var P=i.getBaseAxis();return Nl(Me({axis:P},C))}}function I(){return e.getCurrentSeriesIndices()}function N(C){return El(C,e)}}function Jf(r){var t={};return k(r.dimensions,function(e){var a=r.getDimensionInfo(e);if(!a.isExtraCoord){var n=a.coordDim,i=t[n]=t[n]||[];i[a.coordDimIndex]=r.getDimensionIndex(e)}}),t}function Ka(r,t,e,a,n,i,o){if(!a){i.remove(t);return}var l=Mr(r,t,e,a,n,i);return l&&o.setItemGraphicEl(e,l),l&&se(l,a.focus,a.blurScope,a.emphasisDisabled),l}function Mr(r,t,e,a,n,i){var o=-1,l=t;t&&Oo(t,a,n)&&(o=ft(i.childrenRef(),t),t=null);var s=!t,u=t;u?u.clearStates():(u=Nr(a),l&&Yf(l,u)),a.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),xe.normal.cfg=xe.normal.conOpt=xe.emphasis.cfg=xe.emphasis.conOpt=xe.blur.cfg=xe.blur.conOpt=xe.select.cfg=xe.select.conOpt=null,xe.isLegacy=!1,tp(u,e,a,n,s,xe),ep(u,e,a,n,s),Er(r,u,e,a,xe,n,s),Ge(a,"info")&&(Oe(u).info=a.info);for(var v=0;v<Je.length;v++){var h=Je[v];if(h!==Ye){var c=oa(a,h),f=Rr(a,c,h);Go(h,u,c,f,xe)}}return Kf(u,a,n),a.type==="group"&&ap(r,u,e,a,n),o>=0?i.replaceAt(u,o):i.add(u),u}function Oo(r,t,e){var a=Oe(r),n=t.type,i=t.shape,o=t.style;return e.isUniversalTransitionEnabled()||n!=null&&n!==a.customGraphicType||n==="path"&&op(i)&&Fo(i)!==a.customPathData||n==="image"&&Ge(o,"image")&&o.image!==a.customImagePath}function ep(r,t,e,a,n){var i=e.clipPath;if(i===!1)r&&r.getClipPath()&&r.removeClipPath();else if(i){var o=r.getClipPath();o&&Oo(o,i,a)&&(o=null),o||(o=Nr(i),r.setClipPath(o)),Er(null,o,t,i,null,a,n)}}function tp(r,t,e,a,n,i){if(!r.isGroup){oi(e,null,i),oi(e,Fe,i);var o=i.normal.conOpt,l=i.emphasis.conOpt,s=i.blur.conOpt,u=i.select.conOpt;if(o!=null||l!=null||u!=null||s!=null){var v=r.getTextContent();if(o===!1)v&&r.removeTextContent();else{o=i.normal.conOpt=o||{type:"text"},v?v.clearStates():(v=Nr(o),r.setTextContent(v)),Er(null,v,t,o,null,a,n);for(var h=o&&o.style,c=0;c<Je.length;c++){var f=Je[c];if(f!==Ye){var g=i[f].conOpt;Go(f,v,g,Rr(o,g,f),null)}}h?v.dirty():v.markRedraw()}}}}function oi(r,t,e){var a=t?oa(r,t):r,n=t?Rr(r,a,Fe):r.style,i=r.type,o=a?a.textConfig:null,l=r.textContent,s=l?t?oa(l,t):l:null;if(n&&(e.isLegacy||Hl(n,i,!!o,!!s))){e.isLegacy=!0;var u=$l(n,i,!t);!o&&u.textConfig&&(o=u.textConfig),!s&&u.textContent&&(s=u.textContent)}if(!t&&s){var v=s;!v.type&&(v.type="text")}var h=t?e[t]:e.normal;h.cfg=o,h.conOpt=s}function oa(r,t){return t?r?r[t]:null:r}function Rr(r,t,e){var a=t&&t.style;return a==null&&e===Fe&&r&&(a=r.styleEmphasis),a}function ap(r,t,e,a,n){var i=a.children,o=i?i.length:0,l=a.$mergeChildren,s=l==="byName"||a.diffChildrenByName,u=l===!1;if(!(!o&&!s&&!u)){if(s){np({api:r,oldChildren:t.children()||[],newChildren:i||[],dataIndex:e,seriesModel:n,group:t});return}u&&t.removeAll();for(var v=0;v<o;v++){var h=i[v],c=t.childAt(v);h?(h.ignore==null&&(h.ignore=!1),Mr(r,c,e,h,n,t)):c.ignore=!0}for(var f=t.childCount()-1;f>=v;f--){var g=t.childAt(f);rp(t,g,n)}}}function rp(r,t,e){t&&br(t,Oe(r).option,e)}function np(r){new pa(r.oldChildren,r.newChildren,li,li,r).add(si).update(si).remove(ip).execute()}function li(r,t){var e=r&&r.name;return e??Zf+t}function si(r,t){var e=this.context,a=r!=null?e.newChildren[r]:null,n=t!=null?e.oldChildren[t]:null;Mr(e.api,n,e.dataIndex,a,e.seriesModel,e.group)}function ip(r){var t=this.context,e=t.oldChildren[r];e&&br(e,Oe(e).option,t.seriesModel)}function Fo(r){return r&&(r.pathData||r.d)}function op(r){return r&&(Ge(r,"pathData")||Ge(r,"d"))}function Ep(r){r.registerChartView(jf),r.registerSeriesModel(Vf)}export{cp as BarChart,xp as BoxplotChart,Ap as CandlestickChart,Ep as CustomChart,Ip as EffectScatterChart,wp as FunnelChart,bp as GaugeChart,Sp as GraphChart,Tp as HeatmapChart,hp as LineChart,Lp as LinesChart,dp as MapChart,Dp as ParallelChart,Cp as PictorialBarChart,fp as PieChart,gp as RadarChart,_p as SankeyChart,pp as ScatterChart,Np as SunburstChart,Pp as ThemeRiverChart,yp as TreeChart,mp as TreemapChart};
